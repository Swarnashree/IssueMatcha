[{"title":"chore(deps-dev): bump vite from 5.0.5 to 5.0.12","body":"Bumps [vite](https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite) from 5.0.5 to 5.0.12.\n<details>\n<summary>Changelog<\/summary>\n<p><em>Sourced from <a href=\"https:\/\/github.com\/vitejs\/vite\/blob\/v5.0.12\/packages\/vite\/CHANGELOG.md\">vite's changelog<\/a>.<\/em><\/p>\n<blockquote>\n<h2><!-- raw HTML omitted -->5.0.12 (2024-01-19)<!-- raw HTML omitted --><\/h2>\n<ul>\n<li>fix: await <code>configResolved<\/code> hooks of worker plugins (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15597\">#15597<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15605\">#15605<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/ef89f80\">ef89f80<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15597\">#15597<\/a> <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15605\">#15605<\/a><\/li>\n<li>fix: fs deny for case insensitive systems (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15653\">#15653<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/91641c4\">91641c4<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15653\">#15653<\/a><\/li>\n<\/ul>\n<h2><!-- raw HTML omitted -->5.0.11 (2024-01-05)<!-- raw HTML omitted --><\/h2>\n<ul>\n<li>fix: don't pretransform classic script links (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15361\">#15361<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/19e3c9a\">19e3c9a<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15361\">#15361<\/a><\/li>\n<li>fix: inject <code>__vite__mapDeps<\/code> code before sourcemap file comment (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15483\">#15483<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/d2aa096\">d2aa096<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15483\">#15483<\/a><\/li>\n<li>fix(assets): avoid splitting <code>,<\/code> inside base64 value of <code>srcset<\/code> attribute (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15422\">#15422<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/8de7bd2\">8de7bd2<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15422\">#15422<\/a><\/li>\n<li>fix(html): handle offset magic-string slice error (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15435\">#15435<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/5ea9edb\">5ea9edb<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15435\">#15435<\/a><\/li>\n<li>chore(deps): update dependency strip-literal to v2 (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15475\">#15475<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/49d21fe\">49d21fe<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15475\">#15475<\/a><\/li>\n<li>chore(deps): update tj-actions\/changed-files action to v41 (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15476\">#15476<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/2a540ee\">2a540ee<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15476\">#15476<\/a><\/li>\n<\/ul>\n<h2><!-- raw HTML omitted -->5.0.10 (2023-12-15)<!-- raw HTML omitted --><\/h2>\n<ul>\n<li>fix: omit protocol does not require pre-transform (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15355\">#15355<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/d9ae1b2\">d9ae1b2<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15355\">#15355<\/a><\/li>\n<li>fix(build): use base64 for inline SVG if it contains both single and double quotes (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15271\">#15271<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/1bbff16\">1bbff16<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15271\">#15271<\/a><\/li>\n<\/ul>\n<h2><!-- raw HTML omitted -->5.0.9 (2023-12-14)<!-- raw HTML omitted --><\/h2>\n<ul>\n<li>fix: htmlFallbackMiddleware for favicon (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15301\">#15301<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/c902545\">c902545<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15301\">#15301<\/a><\/li>\n<li>fix: more stable hash calculation for depsOptimize (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15337\">#15337<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/2b39fe6\">2b39fe6<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15337\">#15337<\/a><\/li>\n<li>fix(scanner): catch all external files for glob imports (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15286\">#15286<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/129d0d0\">129d0d0<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15286\">#15286<\/a><\/li>\n<li>fix(server): avoid chokidar throttling on startup (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15347\">#15347<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/56a5740\">56a5740<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15347\">#15347<\/a><\/li>\n<li>fix(worker): replace <code>import.meta<\/code> correctly for IIFE worker (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15321\">#15321<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/08d093c\">08d093c<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15321\">#15321<\/a><\/li>\n<li>feat: log re-optimization reasons (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15339\">#15339<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/b1a6c84\">b1a6c84<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15339\">#15339<\/a><\/li>\n<li>chore: temporary typo (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15329\">#15329<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/7b71854\">7b71854<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15329\">#15329<\/a><\/li>\n<li>perf: avoid computing paths on each request (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15318\">#15318<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/0506812\">0506812<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15318\">#15318<\/a><\/li>\n<li>perf: temporary hack to avoid fs checks for \/<a href=\"https:\/\/github.com\/react-refresh\"><code>@\u200breact-refresh<\/code><\/a> (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15299\">#15299<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/b1d6211\">b1d6211<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15299\">#15299<\/a><\/li>\n<\/ul>\n<h2><!-- raw HTML omitted -->5.0.8 (2023-12-12)<!-- raw HTML omitted --><\/h2>\n<ul>\n<li>perf: cached fs utils (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15279\">#15279<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/c9b61c4\">c9b61c4<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15279\">#15279<\/a><\/li>\n<li>fix: missing warmupRequest in transformIndexHtml (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15303\">#15303<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/103820f\">103820f<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15303\">#15303<\/a><\/li>\n<li>fix: public files map will be updated on add\/unlink in windows (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15317\">#15317<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/921ca41\">921ca41<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15317\">#15317<\/a><\/li>\n<li>fix(build): decode urls in CSS files (fix <a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15109\">#15109<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15246\">#15246<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/ea6a7a6\">ea6a7a6<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15109\">#15109<\/a> <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15246\">#15246<\/a><\/li>\n<li>fix(deps): update all non-major dependencies (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15304\">#15304<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/bb07f60\">bb07f60<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15304\">#15304<\/a><\/li>\n<li>fix(ssr): check esm file with normal file path (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15307\">#15307<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/1597170\">1597170<\/a>), closes <a href=\"https:\/\/redirect.github.com\/vitejs\/vite\/issues\/15307\">#15307<\/a><\/li>\n<\/ul>\n<!-- raw HTML omitted -->\n<\/blockquote>\n<p>... (truncated)<\/p>\n<\/details>\n<details>\n<summary>Commits<\/summary>\n<ul>\n<li><a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/ee81e196769c102a6b1bf30f8444ccde236e71d5\"><code>ee81e19<\/code><\/a> release: v5.0.12<\/li>\n<li><a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/91641c4da0a011d4c5352e88fc68389d4e1289a5\"><code>91641c4<\/code><\/a> fix: fs deny for case insensitive systems (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15653\">#15653<\/a>)<\/li>\n<li><a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/ef89f8092f0eb1d8fd7d21256e6af8c4e64fe9b2\"><code>ef89f80<\/code><\/a> fix: await <code>configResolved<\/code> hooks of worker plugins (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15597\">#15597<\/a>) (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15605\">#15605<\/a>)<\/li>\n<li><a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/b44c49302ffbf0c82f984f6219ed6376d1e4552a\"><code>b44c493<\/code><\/a> release: v5.0.11<\/li>\n<li><a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/d2aa0969ee316000d3b957d7e879f001e85e369e\"><code>d2aa096<\/code><\/a> fix: inject <code>__vite__mapDeps<\/code> code before sourcemap file comment (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15483\">#15483<\/a>)<\/li>\n<li><a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/2a540eee82f9a31deff8215bdbdccfa46d494a06\"><code>2a540ee<\/code><\/a> chore(deps): update tj-actions\/changed-files action to v41 (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15476\">#15476<\/a>)<\/li>\n<li><a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/5ea9edbc9ceb991e85f893fe62d68ed028677451\"><code>5ea9edb<\/code><\/a> fix(html): handle offset magic-string slice error (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15435\">#15435<\/a>)<\/li>\n<li><a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/49d21fe1feaac30dee0196bd484480a8000a4363\"><code>49d21fe<\/code><\/a> chore(deps): update dependency strip-literal to v2 (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15475\">#15475<\/a>)<\/li>\n<li><a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/8de7bd2b68db27b83d9484cc8d4e26436615168e\"><code>8de7bd2<\/code><\/a> fix(assets): avoid splitting <code>,<\/code> inside base64 value of <code>srcset<\/code> attribute (#...<\/li>\n<li><a href=\"https:\/\/github.com\/vitejs\/vite\/commit\/19e3c9a8a16847486fbad8a8cd48fc771b1538bb\"><code>19e3c9a<\/code><\/a> fix: don't pretransform classic script links (<a href=\"https:\/\/github.com\/vitejs\/vite\/tree\/HEAD\/packages\/vite\/issues\/15361\">#15361<\/a>)<\/li>\n<li>Additional commits viewable in <a href=\"https:\/\/github.com\/vitejs\/vite\/commits\/v5.0.12\/packages\/vite\">compare view<\/a><\/li>\n<\/ul>\n<\/details>\n<br \/>\n\n\n[![Dependabot compatibility score](https:\/\/dependabot-badges.githubapp.com\/badges\/compatibility_score?dependency-name=vite&package-manager=npm_and_yarn&previous-version=5.0.5&new-version=5.0.12)](https:\/\/docs.github.com\/en\/github\/managing-security-vulnerabilities\/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[\/\/]: # (dependabot-automerge-start)\n[\/\/]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options<\/summary>\n<br \/>\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https:\/\/github.com\/vuejs\/vue\/network\/alerts).\n\n<\/details>","comments":[],"labels":["dependencies"],"number":13159},{"title":"chore(deps-dev): bump follow-redirects from 1.15.3 to 1.15.4","body":"Bumps [follow-redirects](https:\/\/github.com\/follow-redirects\/follow-redirects) from 1.15.3 to 1.15.4.\n<details>\n<summary>Commits<\/summary>\n<ul>\n<li><a href=\"https:\/\/github.com\/follow-redirects\/follow-redirects\/commit\/65858205e59f1e23c9bf173348a7a7cbb8ac47f5\"><code>6585820<\/code><\/a> Release version 1.15.4 of the npm package.<\/li>\n<li><a href=\"https:\/\/github.com\/follow-redirects\/follow-redirects\/commit\/7a6567e16dfa9ad18a70bfe91784c28653fbf19d\"><code>7a6567e<\/code><\/a> Disallow bracketed hostnames.<\/li>\n<li><a href=\"https:\/\/github.com\/follow-redirects\/follow-redirects\/commit\/05629af696588b90d64e738bc2e809a97a5f92fc\"><code>05629af<\/code><\/a> Prefer native URL instead of deprecated url.parse.<\/li>\n<li><a href=\"https:\/\/github.com\/follow-redirects\/follow-redirects\/commit\/1cba8e85fa73f563a439fe460cf028688e4358df\"><code>1cba8e8<\/code><\/a> Prefer native URL instead of legacy url.resolve.<\/li>\n<li><a href=\"https:\/\/github.com\/follow-redirects\/follow-redirects\/commit\/72bc2a4229bc18dc9fbd57c60579713e6264cb92\"><code>72bc2a4<\/code><\/a> Simplify _processResponse error handling.<\/li>\n<li><a href=\"https:\/\/github.com\/follow-redirects\/follow-redirects\/commit\/3d42aecdca39b144a0a2f27ea134b4cf67dd796a\"><code>3d42aec<\/code><\/a> Add bracket tests.<\/li>\n<li><a href=\"https:\/\/github.com\/follow-redirects\/follow-redirects\/commit\/bcbb096b32686ecad6cd34235358ed6f2217d4f0\"><code>bcbb096<\/code><\/a> Do not directly set Error properties.<\/li>\n<li>See full diff in <a href=\"https:\/\/github.com\/follow-redirects\/follow-redirects\/compare\/v1.15.3...v1.15.4\">compare view<\/a><\/li>\n<\/ul>\n<\/details>\n<br \/>\n\n\n[![Dependabot compatibility score](https:\/\/dependabot-badges.githubapp.com\/badges\/compatibility_score?dependency-name=follow-redirects&package-manager=npm_and_yarn&previous-version=1.15.3&new-version=1.15.4)](https:\/\/docs.github.com\/en\/github\/managing-security-vulnerabilities\/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[\/\/]: # (dependabot-automerge-start)\n[\/\/]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options<\/summary>\n<br \/>\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https:\/\/github.com\/vuejs\/vue\/network\/alerts).\n\n<\/details>","comments":[],"labels":["dependencies"],"number":13151},{"title":"fix(core - patch)\uff1awhen before patch: old keys like [a, b, c ...] new \u2026","body":"\u2026keys like [d, b, b, e, ....], when patch the second key \"b\" Vnode by new children, the vnodeToMove will be undefined, so need add a condition for vnodeToMove\r\n\r\nfix an error when diff patch, when before patch: old keys like [a, b, c ...] new keys like [d, b, b, e, ....], when patch the second key \"b\" Vnode by new children, the vnodeToMove will be undefined, so need add a condition for vnodeToMove\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps:\/\/github.com\/vuejs\/vue\/blob\/dev\/.github\/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `main` branch for v2.x (or to a previous version branch)\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https:\/\/github.com\/vuejs\/vue\/blob\/dev\/.github\/CONTRIBUTING.md#development-setup\r\n- [ ] New\/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","comments":["```javascript\r\n\/\/ PatchChild.vue\r\n<template>\r\n  <div>\r\n    {{ data.key }}\r\n  <\/div>\r\n<\/template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n<\/script>\r\n``` \r\n\r\n\r\n```javascript\r\n\/\/ Wrapper.vue\r\n<template>\r\n  <div>\r\n    <div>\r\n      <PatchChild v-for=\"item in list\" :key=\"item.key\" :data=\"item\" \/>\r\n    <\/div>\r\n    <div><button @click=\"changeList\">changeList<\/button><\/div>\r\n  <\/div>\r\n<\/template>\r\n\r\n<script>\r\nimport PatchChild from '.\/PatchChild.vue';\r\n\r\nexport default {\r\n  components: {\r\n    PatchChild,\r\n  },\r\n  data() {\r\n    return {\r\n      list: [\r\n        {\r\n          key: 'A',\r\n        },\r\n        {\r\n          key: 'B',\r\n        },\r\n        {\r\n          key: 'C',\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    changeList() {\r\n      this.list = [\r\n        {\r\n          key: 'D',\r\n        },\r\n        {\r\n          key: 'B',\r\n        },\r\n        {\r\n          key: 'B',\r\n        },\r\n        {\r\n          key: 'E',\r\n        },\r\n      ];\r\n    },\r\n  },\r\n};\r\n<\/script>\r\n``` ","Keys cannot be repeated. Normally there is already an error for this but this shouldn\u2019t be \u00ab\u00a0fixed\u00a0\u00bb. It\u2019s supposed not to work"],"labels":["need repro"],"number":13112},{"title":"Vue 2.7 strictTemplates error","body":"https:\/\/github.com\/xiaoxiangmoe\/issue-vue-2.7-on-click-type-error.git\r\n\r\n```\r\npnpm run type-check\r\n```\r\n\r\n```\r\nsrc\/App.vue:12:6 - error TS2559: Type '{ onClick: any; }' has no properties in common with type 'Readonly<Partial<{}> & Omit<Readonly<ExtractPropTypes<{ border: { type: PropType<boolean>; }; }>>, never>>'.\r\n\r\n12     <HelloWorld @click=\"handleClick\" \/>\r\n        ~~~~~~~~~~\r\n\r\n\r\nFound 1 error in src\/App.vue:12\r\n```\r\n\r\n\r\n---\r\nHelloWorld.vue\r\n```vue\r\n<script setup lang=\"ts\">\r\n\r\ninterface ButtonProps {\r\n    border?: boolean; \r\n}\r\n\r\nconst props = defineProps<ButtonProps>() \r\ndefineEmits<{\r\n    (event: 'click',payload: MouseEvent): void\r\n}>()\r\n<\/script>\r\n<template>\r\n    <div id=\"app\">\r\n        <button @click=\"$emit('click', $event)\">Click me<\/button>\r\n    <\/div>\r\n<\/template>\r\n```\r\n\r\nThis error come since vue-tsc 1.7.12","comments":["@xiaoxiangmoe Seemed to be a vue2 type issue. It doesn't convert emits to props","@LinusBorg could you help transfer this to vuejs\/vue? thanks.","? Are you GPT?","Also seeing something similar.\r\n\r\n```shell\r\nmodules\/src\/components\/CombinedModal.vue:94:14 - error TS2345: Argument of type '{ props: any; onClose: any; }' is not assignable to parameter of type 'Readonly<Partial<{ [x: number]: string; }> & Omit<Readonly<ExtractPropTypes<string[]>>, DefaultKeys<string[]>>> & Record<...>'.\r\n  Type '{ props: any; onClose: any; }' is not assignable to type 'Readonly<Partial<{ [x: number]: string; }> & Omit<Readonly<ExtractPropTypes<string[]>>, DefaultKeys<string[]>>>'.\r\n    Types of property 'toString' are incompatible.\r\n      Type '() => string' is not assignable to type '(() => string) & string'.\r\n\r\n94             <MergeModal @close=\"onClose\" v-bind:props=\"props\"><\/MergeModal>\r\n```\r\n\r\nDon't think I'm really doing anything special.\r\n\r\nShim file (removing doesn't seem to change anything): \r\n\r\n```ts\r\ndeclare module \"*.vue\" {\r\n  import type { DefineComponent } from \"vue\";\r\n  const component: DefineComponent;\r\n  export default component;\r\n}\r\n```\r\n\r\nRunning type checking with `vue-tsc --noEmit` with this config file:\r\n\r\n```json\r\n{\r\n  \"extends\": \"..\/tsconfig.json\",\r\n  \"include\": [\r\n    \".\/types\/shims-vue.d.ts\",\r\n    \".\/types\/vuejs-datepicker.d.ts\",\r\n    \"**\/*.js\", \/\/ required even if we're not directly type checking (see `allowJs` below)\r\n    \"**\/*.ts\",\r\n    \"**\/*.vue\"\r\n  ],\r\n  \"compilerOptions\": {\r\n    \"composite\": true,\r\n    \"allowJs\": true, \/\/ permits .ts\/.vue files we're type checking to import .js files, enabling us to gradually add type checking w\/o requiring an all-at-once migration. Worth noting that this is completely distinct from `checkJs`, which tells typescript to actually type check them.\r\n    \"types\": [\r\n      \"vite\/client\" \/\/ Supports Vite's `import.meta.env`\r\n    ],\r\n    \"baseUrl\": \".\",\r\n    \"paths\": {\r\n      \"@\/*\": [\".\/*\"]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nInheriting from this config file:\r\n\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \/\/ Base options \/ sensible defaults that we want to pretty universally apply across all of our services\r\n    \"target\": \"esnext\",\r\n    \"module\": \"esnext\",\r\n    \"moduleResolution\": \"node\",\r\n    \"resolveJsonModule\": true,\r\n    \"esModuleInterop\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"strict\": true,\r\n    \"skipLibCheck\": true\r\n  }\r\n}\r\n```","It seems like there is a type mismatch between the props defined in HelloWorld.vue and how it is being used in App.vue. You need to make sure that the props passed to the HelloWorld component match the expected props.","In volar we convert `v-on:xxx` to `onXxx` and pass them as props to type-check required emits. Vue3 automatically converts events to props but vue2 doesn't. Just FYI @ZAID-BAARAB "],"labels":["bug"],"number":13104},{"title":"style: remove WTF, also keep it classy [skip ci]","body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps:\/\/github.com\/vuejs\/vue\/blob\/dev\/.github\/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `main` branch for v2.x (or to a previous version branch)\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https:\/\/github.com\/vuejs\/vue\/blob\/dev\/.github\/CONTRIBUTING.md#development-setup\r\n- [ ] New\/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","comments":[],"labels":["ready to merge"],"number":12856}]