[{"title":"Fix flickering on vulkan when drawing to a render target","body":"Fixed an issue where flickering was happening on the Vulkan and MoltenVK renderers when using a render target.","comments":[],"labels":["bug","engine","graphics","vulkan"]},{"title":"Use the 64-bit version of LuaJIT in the editor","body":"### Technical changes\r\n* Use the 64-bit version of LuaJIT to compile Lua scripts when building the project. Previously we used the 32-bit version, which required users to install Rosetta 2 to build their projects on an Apple Silicon Mac.","comments":[],"labels":["task","editor","skip release notes"]},{"title":"Fixed property schema validation in the editor","body":"### Technical changes\r\n* Schema validation errors from node properties are now reported correctly instead of throwing an unhelpful exception.","comments":[],"labels":["bug","editor","skip release notes"]},{"title":"Add various scene data utility functions to the dev module","body":"### Technical changes\r\n* Added helper functions to inspect the contents of the Scene Cache to the `dev` module.\r\n* Leveraged the pretty-printing capabilities of the `deep-diff2` package to add a `pprint` function to the `dev` module with support for various editor data types. In particular, this helps when inspecting vertex buffers and matrices for the Scene View.\r\n* Added `install-repl-pprint-tap!` and `uninstall-repl-pprint-tap!` to the `dev` module. Call it from your REPL to `pprint` any values sent to the `tap>` function to the REPL.\r\n* You can get the last `pprinted` value using `(dev\/last-pprint)`.","comments":[],"labels":["task","editor","skip release notes"]},{"title":"Editor model rendering optimizations and fixes","body":"* Fixed a performance regression in the editor introduced by the recent addition of custom vertex attributes to models.\r\n* Fixed broken preview of model scene files (`.gltf`, `.dae`, etc.). Previously you'd only see the bounding boxes if you opened a `.gltf` file in the editor.\r\n* Fixed leak of OpenGL context used for scene picking hit tests after closing an editor tab.\r\n* The editor will now share vertex buffers among meshes, as long as they do not use any world-space attributes.\r\n* The Coordinate Space setting of declared vertex attributes takes precedence, but the Vertex Space setting on the material will be used as the default for any undeclared vertex attributes where it has relevance.\r\n* The editor will now produce world-space normal attributes correctly, if desired. \r\n* The editor will no longer produce a broken normal matrix for objects that have a non-uniformly scaled parent.\r\n\r\nFixes #8666.","comments":[],"labels":["bug","editor","model","performance"]},{"title":"Model missing custom vertex attributes in World vertex space","body":"**Describe the bug (REQUIRED)**\nCustom vertex attribute color tint results in black mesh when Vertex Space is set to World in the material.\n\n**To Reproduce (REQUIRED)**\nSteps to reproduce the behavior:\n1. Open the [attached project](https:\/\/github.com\/defold\/defold\/files\/14697356\/dev-models.zip) in the editor.\n2. Open `main\/main.collection`.\n3. Select `both.collection` from the Outline View and press `F` to frame it in the Scene View. This is how the scene should look in-engine.\n4. Build and run the project.\n\n**Expected behavior (REQUIRED)**\nAll four boxes should be tinted a light grey colour and look like it does in the editor.\n\n**Defold version (REQUIRED)**\n  - 1.7.0\n\n**Platforms (REQUIRED)**\n - Platforms: macOS\n - OS: Sonoma 14.3.1 (23D60)\n - Device: MacBook Pro 16-inch, 2021\n\n**Screenshots (OPTIONAL):**\nExpected:\n![Image](https:\/\/github.com\/defold\/defold\/assets\/11677496\/87103376-656c-4edf-83e6-54a9d0a63268)\n\nActual:\n![Image](https:\/\/github.com\/defold\/defold\/assets\/11677496\/92567e17-6811-48c3-ae53-ea1274080324)","comments":[],"labels":["bug","engine","model"]},{"title":"Android bundle crash on init when Input is excluded in AppManifest","body":"**Describe the bug (REQUIRED)**\r\nAndroid bundle crash on init when Input is excluded in AppManifest\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Create an empty project\r\n2. Create an AppManifest file, set \"Exclude Input\" and save it\r\n3. In \"game.project -> Native Extension\", set the \"App Manifest\" item to the AppManifest file created at step 2, and save it\r\n4. Bundle an Android application using _**Release**_ variant and _**arm64**_ architecture\r\n5. Install the bundled application, and then open it\r\n6. The application crashes on init\r\n\r\n**Expected behavior**\r\nNo crash would happen, or the \"Exclude Input\" behavior on Android gets banned or warned properly\r\n\r\n**Defold version:**\r\n\u00b7\u00b7 1.7.0 Stable\r\n\u00b7\u00b7 Engine SHA1: bf4dc66ab5fbbafd4294d32c2797c08b630c0be5\r\n\r\n**Platforms:**\r\n\u00b7\u00b7 Platform: Android\r\n\u00b7\u00b7 OS: Android 14\r\n\u00b7\u00b7 Device:  Realme RMX3366\r\n\r\n**Minimal repro case project:**\r\n[Empty Test.zip](https:\/\/github.com\/defold\/defold\/files\/14696058\/Empty.Test.zip)","comments":[],"labels":["bug"]},{"title":"On html5, enable yield from a coroutine across a C call boundary, via CoCo extension","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nYielding from a coroutine across a C call boundary (e.g. from an xpcall) works on Windows as a result of LuaJIT including the [CoCo](https:\/\/coco.luajit.org\/index.html) extension. Unfortunately, on html5 this is not possible, with the runtime throwing error \"attempt to yield across metamethod\/C-call boundary\".\r\n\r\nThis prevents useful error handling, recovery, and stepping via coroutines during development, unless this functionality is stripped from html5 builds.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nApply the [CoCo patch](https:\/\/coco.luajit.org\/install.html) to the Lua version used on html5.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nAdd a warning in the [manual page on coroutines](https:\/\/defold.com\/manuals\/lua\/?q=coroutine#coroutines) letting users know that the behavior differs by platform.\r\n\r\n**Additional context (OPTIONAL):**\r\nCoCo targets Lua 5.1.5, while Defold uses Lua 5.1.4. As the [fixes in 5.1.5](https:\/\/www.lua.org\/bugs.html#5.1.5) are minimal, this should not be an issue.\r\n\r\nClosed issue #3513 talks about this issue with xpcall.\r\n\r\n<details><summary>Reproduce the issue with this test (LuaCoco-1.1.9\/test\/cotest.lua)<\/summary>\r\n\r\n```lua\r\n-- Simple test for resume\/yield semantics across C call boundaries.\r\n-- Note: this works across metamethods, iterators, etc., too.\r\n\r\nlocal resume, yield = coroutine.resume, coroutine.yield\r\n\r\nlocal function verify(what, expect, ...)\r\n  local got = {...}\r\n  for i=1,100 do\r\n    if expect[i] ~= got[i] then\r\n      print(\"FAIL\", what)\r\n      return\r\n    end\r\n    if expect[i] == nil then\r\n      print(\"OK  \", what)\r\n      break\r\n    end\r\n  end\r\nend\r\n\r\nlocal function cofunc(...)\r\n  verify(\"call\", { 1, \"foo\" }, ...)\r\n  verify(\"yield\", { \"bar\" }, yield(2, \"test\"))\r\n  verify(\"pcall yield\", { true, \"again\" }, pcall(yield, \"from pcall\"))\r\n  return \"end\"\r\nend\r\n\r\nif coroutine.coco then\r\n  print(\"Coco is available. All tests should work:\")\r\nelse\r\n  print(\"Coco is NOT available. The tests should fail starting with pcall yield:\")\r\nend\r\n\r\nlocal co = coroutine.create(cofunc)\r\nverify(\"resume\", { true, 2, \"test\" }, resume(co, 1, \"foo\"))\r\nverify(\"resume pcall\", { true, \"from pcall\" }, resume(co, \"bar\"))\r\nverify(\"resume end\", { true, \"end\" }, resume(co, \"again\"))\r\n```\r\n\r\nOutput on html5:\r\n```\r\nOK  \tcall\r\nOK  \tresume\r\nOK  \tyield\r\nFAIL\tpcall yield\r\nFAIL\tresume pcall\r\nFAIL\tresume end\r\n```\r\n<\/details>","comments":[],"labels":["feature request"]},{"title":"Update from boto2 to boto3.","body":"### Technical changes\r\n\r\nDo not use urlib3 2.2.0 because of issue https:\/\/github.com\/boto\/botocore\/issues\/3111\r\nFixed in https:\/\/github.com\/urllib3\/urllib3\/releases\/tag\/2.2.1\r\n\r\n## PR checklist\r\n\r\n* [ ] Code\r\n\t* [ ] Add engine and\/or editor unit tests.\r\n\t* [ ] New and changed code follows the overall code style of existing code\r\n\t* [ ] Add comments where needed\r\n* [ ] Documentation\r\n\t* [ ] Make sure that API documentation is updated in code comments\r\n\t* [ ] Make sure that manuals are updated (in github.com\/defold\/doc)\r\n* [ ] Prepare pull request and affected issue for automatic release notes generator\r\n\t* [ ] Pull request - Write a message that explains what this pull request does. What was the problem? How was it solved? What are the changes to APIs or the new APIs introduced? This message will be used in the generated release notes. Make sure it is well written and understandable for a user of Defold.\r\n\t* [ ] Pull request - Write a pull request title that in a sentence summarises what the pull request does. Do not include \"Issue-1234 ...\" in the title. This text will be used in the generated release notes.\r\n\t* [ ] Pull request - Link the pull request to the issue(s) it is closing. Use on of the [approved closing keywords](https:\/\/docs.github.com\/en\/issues\/tracking-your-work-with-issues\/linking-a-pull-request-to-an-issue).\r\n\t* [ ] Affected issue - Assign the issue to a project. Do not assign the pull request to a project if there is an issue which the pull request closes.\r\n\t* [ ] Affected issue - Assign the \"breaking change\" label to the issue if introducing a breaking change.\r\n\t* [ ] Affected issue - Assign the \"skip release notes\" is the issue should not be included in the generated release notes.\r\n\r\n----------\r\n\r\nExample of a well written PR description:\r\n\r\n1. Start with the user facing changes. This will end up in the release notes.\r\n1. Add one of the GitHub approved closing keywords\r\n1. Optionally also add the technical changes made. This is information that might help the reviewer. It will not show up in the release notes. Technical changes are identified by a line starting with one of these:\r\n   1. `### Technical changes` \r\n   1. `Technical changes:`\r\n   2. `Technical notes:`\r\n\r\n```\r\nThere was a anomaly in the carbon chroniton propeller, introduced in version 8.10.2. This fix will make sure to reset the phaser collector on application startup.\r\n\r\nFixes #1234\r\n\r\n### Technical changes\r\n* Pay special attention to line 23 of phaser_collector.clj as it contains some interesting optimizations\r\n* The propeller code was not taking into account a negative phase.\r\n```\r\n","comments":[],"labels":["skip release notes"]},{"title":"Add shapecast() using Bullet 3D physics API","body":"**Is your feature request related to a problem?:**\r\nI am familiar with the Bullet physics engine from Godot 3, and I know it can cast convex shapes. I am not much of a programmer (which is why I want to write Lua); I only know that the Bullet code is already in Defold's source and just needs to be hooked up to Lua. Like here, for one:\r\n\r\nhttps:\/\/github.com\/defold\/defold\/blob\/5a144c1bf508d3c0829c11f5e3be88dd6679fd32\/external\/bullet3d\/package\/bullet-2.77\/src\/BulletCollision\/CollisionDispatch\/btCollisionWorld.cpp#L848\r\n\r\nThere are many common use cases for casting a shape instead of a ray. I think it would be a great addition for something already in the API.\r\n\r\n**Describe the solution you'd like:**\r\nI propose two new methods for `physics`:\r\n```\r\nphysics.shapecast(from, to, groups, shape)\r\n\r\nphysics.shapecast_async(from, to, groups, shape, [request_id])\r\n```\r\nI'm new to Defold, but I believe `shape` would be a table resembling the one returned by `physics.get_shape` (<https:\/\/defold.com\/ref\/physics\/#physics.get_shape>). A solution that somehow caches the shape in memory may be more desirable, though.\r\n\r\nThese methods would yield results\/messages similar to `physics.raycast()` and `physics.raycast_async()`, respectively, reporting how far the shape could travel before colliding with a kinematic, dynamic, or static object.\r\n\r\n**Describe alternatives you've considered:**\r\nI will continue exploring alternatives, including using multiple raycasts, but I got great results from casting shapes in my Godot 3 project and I would like to use it again. Reading collisions from an elongated shape (like a capsule, as if casting a sphere) has proven insufficient.","comments":[],"labels":["feature request"]},{"title":"-df-script-* colors in a user-defined editor.css file have no effect in the code editor","body":"**Describe the bug:**\r\nDespite supplying an `editor.css` file in `~\/.defold\/`, I am unable to change the theme of the code editor in the Defold editor. I wasn't sure if I had used the file right, until I changed the main background value and it worked. Other values change colors in the editor, but not these values for Lua scripts:\r\n```\r\n    \/* Lua script colors *\/\r\n    -df-script-helper:         #33cccc;\r\n    -df-script-self:           #E066FF;\r\n    -df-script-logic:          #E3A869;\r\n    -df-script-constant:       #FFBBFF;\r\n    -df-script-function:       #33cc33;\r\n    -df-script-keyword:        #fd6623;\r\n    -df-script-operator:       #33cccc;\r\n    -df-script-string:         #fbce2f;\r\n    -df-script-comment:        #ff00ff;\r\n    -df-script-number:         #aaaaff;\r\n    -df-script-intellisense:   #00FFFF;\r\n```\r\n\r\n**To Reproduce:**\r\n1. Copy `_palette.scss` to the `.defold` directory in your home directory and rename it `editor.css` (see: https:\/\/defold.com\/manuals\/editor-styling\/)\r\n2. Find the values listed above, and change them to other colors\r\n3. Open Defold and open a script\r\n4. The code editor still uses the default theme\r\n\r\n**Expected behavior:**\r\nI expected the code editor to use the colors defined in `editor.css`.\r\n\r\n**Defold version:**\r\n1.7.0\r\n\r\n**Platforms:**\r\nMy PC: Linux Mint 21.2 Cinnamon on a Lenovo Legion Y540\r\n\r\n**Minimal repro case project:**\r\nThe issue is in the editor itself.","comments":[],"labels":["bug"]},{"title":"Not rendering models with built-in material in bundle (bob migration issue)","body":"Everything I know regarding this is described in this forum thread:\r\n\r\nhttps:\/\/forum.defold.com\/t\/3d-models-not-rendering-in-bundle-solved\/76316\r\n\r\n**Describe the bug (REQUIRED)**\r\n3D models in my project using all same built-in materials were not rendered in Windows\/HTML5 bundle.\r\n\r\n**To Reproduce (REQUIRED)**\r\nA lot of 3D models with same materials assigned?\r\n\r\n**Expected behavior (REQUIRED)**\r\nModels are displayed corectly in bundle.\r\n\r\n**Defold version (REQUIRED):**\r\n1.7.0\r\nEditor SHA1: bf4dc66ab5fbbafd4294d32c2797c08b630c0be5\r\nEngine SHA1: bf4dc66ab5fbbafd4294d32c2797c08b630c0be5\r\n\r\n**Platforms (REQUIRED):**\r\n - Windows, HTML5\r\n\r\n**Workaround (OPTIONAL):**\r\nCopy the built-in material into project and assign it separately to each model.\r\n\r\n**Screenshots (OPTIONAL):**\r\nIn the forum post.\r\n","comments":["1. We forgot to migrate builtins model material to a new format\r\n![CleanShot 2024-03-18 at 10 04 32@2x](https:\/\/github.com\/defold\/defold\/assets\/2209596\/f85fb93e-df72-482b-8a3e-b9968f0ed1a2)\r\n\r\n2. Editor doesn't do any migration. If I copy\/paste material from builtins it will stay in old format until I do changes there (for example change a shader, or some other change), is it right behavior @matgis?","The editor not resaving the file in the updated file format is the correct behaviour if Bob can read and build the old file format. If it cannot, the editor should force a resave in the new file format.\r\n\r\nTraditionally, we've made sure Bob can read the old file formats. We've only force-resaved in the new file format before in cases where the migration was particularly difficult to handle for Bob, such as moving a property from one file to another.\r\n\r\nI think we should still update the file format in builtins, but also attempt to make Bob read the old file format. If it provides to difficult to make the change in Bob, let me know and I can make the editor force-save in the new format."],"labels":["bug","bob"]},{"title":"Can't open an atlas with many broken dependencies in it.","body":"**Describe the bug (REQUIRED)**\r\nI have atlas.atlas which has ~5k png links which aren\u2019t on disk (I rename all the files on disk). I can\u2019t open this atlas at all. I gave up and force close the editor after 10 minutes of freezing (not sure what\u2019s going on there, maybe it tries to render all the errors on the screen, as I remember we print in right in the atlas view). I initially though it\u2019s a regression bug, but it\u2019s the same in 1.6.0.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Open the `BigAtlases.project`\r\n2.  Try to open `atlas.atlas`\r\n3. The editor freeze for a long time and can't open it\r\n\r\n**Expected behavior (REQUIRED)**\r\nAtlas that has broken dependencies (links to PNGs which don't exist on disk) opens fast and showing errors it has.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.7.0\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Mac\r\n - OS: MacOS\r\n - Device: Macbook pro M1 Max\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\n[BigAtlases.zip](https:\/\/github.com\/defold\/defold\/files\/14612216\/BigAtlases.zip)\r\n\r\n**Workaround (OPTIONAL):**\r\nManually cleanup the atlas in an external text editor\r\n","comments":[],"labels":["bug","editor","performance"]},{"title":"Opening atlas in the editor takes too long","body":"**Describe the bug (REQUIRED)**\r\nThe atlas that takes 7.5s (where layout creation is 4.7s) to generate in bob, takes ~21s in the editor (`1.atlas`).\r\nI did expect some overhead, but isn\u2019t it too much?\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Open the `BigAtlases.project`\r\n2. Open `1.atlas` - it takes 20-21s\r\n3. Bundle project with report and take a look how long Atlas building takes, it's about 7.5s\r\n![CleanShot 2024-03-15 at 08 21 19@2x](https:\/\/github.com\/defold\/defold\/assets\/2209596\/df77c2c3-41b5-4329-9a2d-3adbfd1fe846)\r\n\r\n\r\n**Expected behavior (REQUIRED)**\r\nIt shouldn't take 3 times longer than in `bob.jar` taking into account that we use the same code for the layout generation\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.7.0\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Mac\r\n - OS: Mac\r\n - Device: Macbook Pro M1 Max\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\n\r\n[BigAtlases.zip](https:\/\/github.com\/defold\/defold\/files\/14612181\/BigAtlases.zip)\r\n\r\n","comments":["I think this issue is partially related https:\/\/github.com\/defold\/defold\/issues\/8463 (it also shouldn\u2019t regenerate layout when user works with animations without doing something that might affect the layout, but it takes strangely long on his video as well)"],"labels":["bug","editor","performance"]},{"title":"Editor Java error: When opening a collection","body":"### Expected behavior\r\nOpening a collect without error's and displaying the collection view.\r\n\r\n### Actual behavior\r\n In the editor when opening main,collection in this specific [project](https:\/\/github.com\/JCash\/stencilfade\/archive\/refs\/heads\/master.zip)  I am receiving a java error:\r\n```\r\njava.lang.NullPointerException: Cannot invoke \"java.lang.Number.doubleValue()\" because \"x\" is null\r\n```\r\nThe scene view does not render.\r\n\r\n### Steps to reproduce\r\n in the linked repro and on win10 load the project then open the main.collect located(\/main\/main.collection)\r\n#### Repro: https:\/\/github.com\/JCash\/stencilfade\/archive\/refs\/heads\/master.zip\r\n\r\n<hr\/>\r\n<table>\r\n<tr><td>Build time<\/td><td>2024-03-12T10:26:40.890206<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>9ad2d7834a6adfaedcd902a8e6f9997ed5cbb507<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>bf4dc66ab5fbbafd4294d32c2797c08b630c0be5<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.7.0<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"87dc4188b0f24fd8aa9deac600ff97c7\"'>87dc4188b0f24fd8aa9deac600ff97c7<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Intel(R) HD Graphics 630<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 - Build 31.0.101.2111<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>\r\n\r\n![screenfade_error](https:\/\/github.com\/defold\/defold\/assets\/28400489\/7a1ad017-3ece-4854-90c4-afce73d7528d)\r\n","comments":["Hi!\r\nI'm unable to reproduce this.\r\nI created the latest update to the stencilfade repository using 1.7.0.\r\nAnd I've tried it on a different computer (both macOS), and cannot reproduce it.\r\nI'm using the latest version 1.7.0 editor: `9ad2d7834a6adfaedcd902a8e6f9997ed5cbb507` engine: `bf4dc66ab5fbbafd4294d32c2797c08b630c0be5`\r\n\r\nI should be able to test on windows when I get home.","```\r\nclojure.lang.RT.doubleCast.class java.lang.NullPointerException: Cannot invoke \"java.lang.Number.doubleValue()\" because \"x\" is null\r\n    at clojure.lang.RT.doubleCast(RT.java:1351)\r\n    at editor.material$constant__GT_val.invokeStatic(material.clj:176)\r\n    at editor.material$fn$fn.invoke(material.clj:212)\r\n    at clojure.core$map$fn$fn.invoke(core.clj:2742)\r\n    at clojure.lang.ArrayChunk.reduce(ArrayChunk.java:63)\r\n    at clojure.core.protocols$fn.invokeStatic(protocols.clj:136)\r\n    at clojure.core.protocols$fn.invoke(protocols.clj:124)\r\n    at clojure.core.protocols$fn$G__8094__8108.invoke(protocols.clj:19)\r\n    at clojure.core.protocols$seq_reduce.invokeStatic(protocols.clj:31)\r\n    at clojure.core.protocols$fn.invokeStatic(protocols.clj:75)\r\n    at clojure.core.protocols$fn.invoke(protocols.clj:75)\r\n    at clojure.core.protocols$fn$G__8068__8086.invoke(protocols.clj:13)\r\n    at clojure.core$transduce.invokeStatic(core.clj:6884)\r\n    at clojure.core$into.invokeStatic(core.clj:6899)\r\n    at editor.material$fn.invokeStatic(material.clj:208)\r\n    at editor.material$fn.invoke(material.clj:193)\r\n    at clojure.lang.AFn.applyToHelper(AFn.java:154)\r\n    at clojure.lang.AFn.applyTo(AFn.java:144)\r\n    at clojure.lang.AFunction$1.doInvoke(AFunction.java:31)\r\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\r\n    at clojure.lang.Var.invoke(Var.java:384)\r\n    at editor.material$MaterialNode$behavior$shader$fn.invoke(material.clj:503)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.material$MaterialNode$behavior$shader.invokeStatic(material.clj:503)\r\n    at editor.material$MaterialNode$behavior$shader.invoke(material.clj:503)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1192)\r\n    at editor.model$MaterialBinding$behavior$material_scene_info$fn.invoke(model.clj:303)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.model$MaterialBinding$behavior$material_scene_info.invokeStatic(model.clj:303)\r\n    at editor.model$MaterialBinding$behavior$material_scene_info.invoke(model.clj:303)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_input_values$fn.invoke(node.clj:1208)\r\n    at clojure.core$mapv$fn.invoke(core.clj:6912)\r\n    at clojure.lang.PersistentVector.reduce(PersistentVector.java:343)\r\n    at clojure.core$reduce.invokeStatic(core.clj:6827)\r\n    at clojure.core$mapv.invokeStatic(core.clj:6903)\r\n    at internal.node$pull_input_values.invokeStatic(node.clj:1209)\r\n    at editor.model$ModelNode$behavior$scene$fn.invoke(model.clj:497)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.model$ModelNode$behavior$scene.invokeStatic(model.clj:497)\r\n    at editor.model$ModelNode$behavior$scene.invoke(model.clj:497)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1192)\r\n    at editor.game_object$EmbeddedComponent$behavior$scene$fn.invoke(game_object.clj:217)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.game_object$EmbeddedComponent$behavior$scene.invokeStatic(game_object.clj:217)\r\n    at editor.game_object$EmbeddedComponent$behavior$scene.invoke(game_object.clj:217)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_input_values$fn.invoke(node.clj:1208)\r\n    at clojure.core$mapv$fn.invoke(core.clj:6912)\r\n    at clojure.lang.PersistentVector.reduce(PersistentVector.java:343)\r\n    at clojure.core$reduce.invokeStatic(core.clj:6827)\r\n    at clojure.core$mapv.invokeStatic(core.clj:6903)\r\n    at internal.node$pull_input_values.invokeStatic(node.clj:1209)\r\n    at editor.game_object$GameObjectNode$behavior$scene$fn.invoke(game_object.clj:421)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.game_object$GameObjectNode$behavior$scene.invokeStatic(game_object.clj:421)\r\n    at editor.game_object$GameObjectNode$behavior$scene.invoke(game_object.clj:421)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1192)\r\n    at editor.collection$EmbeddedGOInstanceNode$behavior$scene$fn.invoke(collection.clj:229)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.collection$EmbeddedGOInstanceNode$behavior$scene.invokeStatic(collection.clj:229)\r\n    at editor.collection$EmbeddedGOInstanceNode$behavior$scene.invoke(collection.clj:229)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_input_values$fn.invoke(node.clj:1208)\r\n    at clojure.core$mapv$fn.invoke(core.clj:6912)\r\n    at clojure.lang.PersistentVector.reduce(PersistentVector.java:343)\r\n    at clojure.core$reduce.invokeStatic(core.clj:6827)\r\n    at clojure.core$mapv.invokeStatic(core.clj:6903)\r\n    at internal.node$pull_input_values.invokeStatic(node.clj:1209)\r\n    at editor.collection$CollectionNode$behavior$scene$fn.invoke(collection.clj:430)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.collection$CollectionNode$behavior$scene.invokeStatic(collection.clj:430)\r\n    at editor.collection$CollectionNode$behavior$scene.invoke(collection.clj:430)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1192)\r\n    at editor.scene$SceneView$behavior$scene_aabb$fn.invoke(scene.clj:798)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.scene$SceneView$behavior$scene_aabb.invokeStatic(scene.clj:798)\r\n    at editor.scene$SceneView$behavior$scene_aabb.invoke(scene.clj:798)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1192)\r\n    at editor.camera$CameraController$behavior$camera$fn.invoke(camera.clj:658)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.camera$CameraController$behavior$camera.invokeStatic(camera.clj:658)\r\n    at editor.camera$CameraController$behavior$camera.invoke(camera.clj:658)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1192)\r\n    at editor.scene$SceneView$behavior$scene_render_data$fn.invoke(scene.clj:798)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.scene$SceneView$behavior$scene_render_data.invokeStatic(scene.clj:798)\r\n    at editor.scene$SceneView$behavior$scene_render_data.invoke(scene.clj:798)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at editor.scene$SceneView$behavior$selected_aabb$fn.invoke(scene.clj:798)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.scene$SceneView$behavior$selected_aabb.invokeStatic(scene.clj:798)\r\n    at editor.scene$SceneView$behavior$selected_aabb.invoke(scene.clj:798)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$node_value.invokeStatic(node.clj:454)\r\n    at internal.system$node_value.invokeStatic(system.clj:354)\r\n    at dynamo.graph$do_node_value.invokeStatic(graph.clj:830)\r\n    at dynamo.graph$node_value.invokeStatic(graph.clj:833)\r\n    at editor.scene$frame_selection.invokeStatic(scene.clj:986)\r\n    at editor.scene$make_gl_pane_BANG_$fn$fn.invoke(scene.clj:1303)\r\n    at editor.scene$make_gl_pane_BANG_$fn.invoke(scene.clj:1286)\r\n    at editor.scene.proxy$com.defold.control.Region$ff19274a.layoutChildren\r\n    at javafx.scene.Parent.layout(Parent.java:1208)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Node.doLayoutPass(Node.java:2101)\r\n    at javafx.scene.Node.doCSSLayoutSyncForSnapshot(Node.java:2108)\r\n    at javafx.scene.Node$1.layoutNodeForPrinting(Node.java:563)\r\n    at com.sun.javafx.scene.NodeHelper.layoutNodeForPrinting(NodeHelper.java:268)\r\n    at editor.app_view$open_resource.invokeStatic(app_view.clj:2053)\r\n    at editor.app_view$open_resource.invoke(app_view.clj:1991)\r\n    at editor.app_view$open_resource.invokeStatic(app_view.clj:1993)\r\n    at editor.app_view$fn$fnk65445_positional__65453.invoke(app_view.clj:2075)\r\n    at editor.app_view$fn$fnk65445__65470$fn.invoke(app_view.clj:2071)\r\n    at editor.app_view$fn$fnk65445__65470.invoke(app_view.clj:2071)\r\n    at clojure.lang.AFn.applyToHelper(AFn.java:154)\r\n    at clojure.lang.AFn.applyTo(AFn.java:144)\r\n    at clojure.lang.AFunction$1.doInvoke(AFunction.java:31)\r\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\r\n    at editor.handler$invoke_fnk.invokeStatic(handler.clj:256)\r\n    at editor.handler$run.invokeStatic(handler.clj:289)\r\n    at editor.ui$execute_handler_ctx.invokeStatic(ui.clj:1192)\r\n    at editor.ui$execute_command.invokeStatic(ui.clj:1200)\r\n    at editor.ui$run_command.invokeStatic(ui.clj:1440)\r\n    at editor.ui$bind_double_click_BANG_$reify.handle(ui.clj:1472)\r\n    at com.sun.javafx.event.CompositeEventHandler$NormalEventFilterRecord.handleCapturingEvent(CompositeEventHandler.java:321)\r\n    at com.sun.javafx.event.CompositeEventHandler.dispatchCapturingEvent(CompositeEventHandler.java:98)\r\n    at com.sun.javafx.event.EventHandlerManager.dispatchCapturingEvent(EventHandlerManager.java:219)\r\n    at com.sun.javafx.event.EventHandlerManager.dispatchCapturingEvent(EventHandlerManager.java:178)\r\n    at com.sun.javafx.event.CompositeEventDispatcher.dispatchCapturingEvent(CompositeEventDispatcher.java:43)\r\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:52)\r\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    at javafx.event.Event.fireEvent(Event.java:198)\r\n    at javafx.scene.Scene$ClickGenerator.postProcess(Scene.java:3691)\r\n    at javafx.scene.Scene$MouseHandler.process(Scene.java:3996)\r\n    at javafx.scene.Scene.processMouseEvent(Scene.java:1893)\r\n    at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2711)\r\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n    at java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n    at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:430)\r\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n    at com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n    at com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\r\n    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n    at java.lang.Thread.run(Thread.java:833)\r\n\r\n```","Hey, I can reproduce the issue. The workaround is to open the `screenfade.material` and add a value to the `offset` fragment constant (double click on the value cell).\r\n",">The workaround is to open the `screenfade.material` and add a value to the `offset` fragment constant (double click on the value cell).\r\n\r\nCan confirm the workaround does work."],"labels":["bug","editor"]},{"title":"The timer delta time is bigger then expected","body":"**Describe the bug (REQUIRED)**\r\nIn `timer.delay` function signature is `function(self, handle_id, delta_time)`, but I can't rely on this delta_time since it often is bigger than expected\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Open the example project\r\n\r\nor code from this example:\r\n\r\n```lua\r\nfunction init(self)\r\n\ttimer.delay(1, false, function()\r\n\t        -- Start measuring here\r\n\t\tlocal time_start = socket.gettime()\r\n\t\r\n\t\tlocal current_time = time_start\r\n\t\tlocal timer_time_elapsed = 0\r\n\t\ttimer.delay(1\/60, true, function(_, _, timer_dt)\r\n\t\t\tlocal previous_time = current_time\r\n\t\t\tcurrent_time = socket.gettime()\r\n\t\t\tlocal gettime_dt = current_time - previous_time\r\n\t\t\t\r\n\t\t\ttimer_time_elapsed = timer_time_elapsed + timer_dt\r\n\t\t\tprint(\"---\")\r\n\t\t\tprint(\"Timer time dt\", timer_dt)\r\n\t\t\tprint(\"Gettime dt\", gettime_dt)\r\n\t\t\tprint(\"Timer time elapsed\", timer_time_elapsed)\r\n\t\t\tprint(\"Socket time elapsed\", current_time - time_start)\r\n\t\tend)\r\n\tend)\r\nend\r\n```\r\n\r\nOutput:\r\n```\r\nTimer time dt\t0.031622618436813\r\nGettime dt\t0.016885995864868\r\nTimer time elapsed\t33.312931153923\r\nSocket time elapsed\t20.014883995056\r\n```\r\n\r\nTimer delta time from the time callback is bigger and overall time is not stable\r\n\r\n**Expected behavior (REQUIRED)**\r\nTimer delta time is correct\r\n\r\n**Defold version (REQUIRED):**\r\nTested on 1.7.0\r\n\r\n**Platforms (REQUIRED):**\r\nTested on MacOS\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\n[timer-dt-test.zip](https:\/\/github.com\/defold\/defold\/files\/14585773\/timer-dt-test.zip)\r\n\r\n\r\n**Logs (OPTIONAL):**\r\n```\r\nDEBUG:SCRIPT: ---\r\nDEBUG:SCRIPT: Timer time dt\t0.029549965634942\r\nDEBUG:SCRIPT: Gettime dt\t0.016860008239746\r\nDEBUG:SCRIPT: Timer time elapsed\t1.1929103396833\r\nDEBUG:SCRIPT: Socket time elapsed\t0.67956805229187\r\nDEBUG:SCRIPT: ---\r\nDEBUG:SCRIPT: Timer time dt\t0.029515298083425\r\nDEBUG:SCRIPT: Gettime dt\t0.016637086868286\r\nDEBUG:SCRIPT: Timer time elapsed\t1.2224256377667\r\nDEBUG:SCRIPT: Socket time elapsed\t0.69620513916016\r\nDEBUG:SCRIPT: ---\r\nDEBUG:SCRIPT: Timer time dt\t0.029732629656792\r\nDEBUG:SCRIPT: Gettime dt\t0.016880035400391\r\nDEBUG:SCRIPT: Timer time elapsed\t1.2521582674235\r\nDEBUG:SCRIPT: Socket time elapsed\t0.71308517456055\r\n```\r\n\r\n**Workaround (OPTIONAL):**\r\nUsing `socket.gettime` seems returns more accurate values\r\n\r\n","comments":[],"labels":["bug","engine","dt","timer"]},{"title":"Add sys.set_defold_error_handler to mimic sys.set_error_handler, but for Defold errors","body":"I'd like to be able to \"catch\" Defold errors at the moment they happen, ideally with a universal hook. I have several use cases:\r\n- I'd like to take an accounting of errors during runtime to help debug issues when game client is run by testers\/end users\r\n- I'd like to have unit tests always fail immediately at the moment a Defold error happens\r\n- Sometimes I cannot detect a Defold error at all, either because the function doesn't return an error code or because the actual error occurs later e.g. during message processing\r\n\r\nThe ideal solution would be `sys.set_defold_error_handler(callback)` to mirror the existing set_error_handler for Lua errors. I would hope for the same callback parameters, understanding that there might not be traceback info under all circumstances.\r\n\r\nI've been unable to find any alternatives to a built-in error handler. A console logging hook could serve a similar purpose but I'm not aware of one.\r\n","comments":["> A console logging hook could serve a similar purpose but I'm not aware of one.\r\n\r\nThis is actually possible to do now, but we don't have a Lua API for it. It's only in our native extension API. Here's an example of it used in the Poki SDK:\r\n\r\nhttps:\/\/github.com\/defold\/extension-poki-sdk\/blob\/main\/poki-sdk\/src\/pokisdk.cpp#L264C13-L294\r\n\r\nIt's should be possible for you to create a native extension and add a Lua binding for this feature.","related: https:\/\/github.com\/defold\/defold\/issues\/5174"],"labels":["feature request","engine"]},{"title":"`DM_DEBUG` isn't defined when build from the editor","body":"**Describe the bug (REQUIRED)**\r\n`DM_DEBUG` isn't defined when the engine builds from the editor (`Cmd+B`) and works fine when bundle\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Download test project\r\n2. Build\r\n3. There is no `DM_*:DM_DEBUG` in logs\r\n\r\n**Expected behavior (REQUIRED)**\r\n`DM_DEBUG ` defined\r\n\r\n**Defold version (REQUIRED):**\r\n  - 1.7.0\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: macOS\r\n - OS: macOS\r\n - Device: mac\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\n[dm_debug.zip](https:\/\/github.com\/defold\/defold\/files\/14571285\/dm_debug.zip)\r\n\r\n**Logs (OPTIONAL):**\r\n```\r\nINFO:DLIB: Log server started on port 64056\r\nINFO:ENGINE: Target listening with name: Alexeys-MacBook-Pro-2.local - 192.168.1.67 - Darwin\r\nINFO:ENGINE: Engine service started on port 64057\r\nINFO:GRAPHICS: Installed graphics device 'ADAPTER_FAMILY_OPENGL'\r\nINFO:ENGINE: Defold Engine 1.7.0 (bf4dc66)\r\nINFO:DLIB: Initialized Remotery (ws:\/\/127.0.0.1:17815\/rmt)\r\nINFO:ENGINE: Loading data from: build\/default\r\nERROR:MYEXTENSION: Check for DM_*:\r\nINFO:MYEXTENSION: Registered myextension Extension\r\nINFO:ENGINE: Initialised sound device 'default'\r\nINFO:DLIB: SSDP: Started on address 192.168.1.67\r\nINFO:DLIB: SSDP: Done on address 192.168.1.67\r\n```\r\n\r\n**Workaround (OPTIONAL):**\r\nBundle using `bob.jar`\r\n\r\n","comments":[],"labels":["bug","editor","extender"]},{"title":"Significant editor performance degradation after version 1.6.4","body":"**Describe the bug (REQUIRED)**\r\nThe scene with the same set of models performs significantly worse on >=1.6.4 versions than <= 1.6.3\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Open main.collection in provided project\r\n2. Try zoom or pan\r\n\r\n**Expected behavior (REQUIRED)**\r\nZoom or pan even and without lags\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version > 1.6.3\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Editor\r\n - OS: Window 11\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\nhttps:\/\/github.com\/Mulderua\/-editor_performance_degradation_defold164\r\n\r\n**Additional context (OPTIONAL):**\r\nIt works as expected in build, so issue only with the editor\r\nI have opened the project that wasn't touched for several months and found that I can't do anything with the scene because of lags\r\n\r\nFeel free to reach me in Discrod if needed","comments":[],"labels":["bug","editor"]},{"title":"Backspace on mobile html5 does rarely register","body":"**Describe the bug (REQUIRED)**\r\nWhen running html5 on mobile, backspace (and enter) sometimes registers but mostly not.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Bind backspace in `.input`\r\n2. Print whenever defold registers a backspace press in `on_input`\r\n3. Start html5 development server (`project -> build html5`)\r\n4. Connect with mobile device\r\n5. Press backspace\r\n6. Only works sometimes\r\n\r\n**Expected behavior (REQUIRED)**\r\nBackspace registering every click.\r\n\r\n**Defold version (REQUIRED):**\r\n- Version 1.6.4\r\n\r\n**Platforms (REQUIRED):**\r\n- Platforms: HTML5 (safari)\r\n- OS: iOS 15.8.1\r\n- Device: iPhone 7\r\n\r\n**Workaround (OPTIONAL):**\r\nhttps:\/\/forum.defold.com\/t\/backspace-in-html5\/44768\/2?u=wistpotion\r\n\r\n**Forum post regarding this:**\r\nhttps:\/\/forum.defold.com\/t\/backspace-in-html5\/44768","comments":[],"labels":["bug","input","html5"]},{"title":"Editor Script dialog(s)","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nAsk users for input when running an Editor Script\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nUsage of the \"Generic dialogs\", that the editor can use.\r\n\r\n* New File (e.g. any new file type)\r\n* Select\/Multi Select (e.g. Open Asset, Add Image, Select Resource)\r\n* \"OK\/Cancel\" (e.g. Delete)\r\n* String Input (e.g. rename with and without the Preview).\r\n\r\n","comments":["related https:\/\/github.com\/defold\/defold\/issues\/8062","I think related as well https:\/\/github.com\/defold\/defold\/issues\/4503","Hey @Jerakin, we want to add support to creating dialogs and views in the editor, and we have some idea about where to start (#8062). Would be cool if you shared your use cases for dialogs so that we know what else the devs want :) ","@vlaaad Seems related, probably didn't find it in my searches because the title makes it sound a lot more narrow in the idea\/design than the description does. Do you want my user cases in this issue or the linked one?","Here is fine!","## New [RESOURCE] (e.g. any new file type)\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/5273682\/5401274e-6e3d-499c-bd7e-59c6cc534910)\r\n\r\nSome editor scripts creates new files, [editor-script-atlas](https:\/\/github.com\/Jerakin\/editor-script-atlas) creates atlas files from selected images. However currently the name of the atlas file will be a generated name like `ATLAS20240311XXXXXX` I would like it if I could bring up a new resource window, let the user pick the name and use that.\r\n\r\n\r\n## String input (e.g. rename with and without the Preview).\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/5273682\/a2ec160c-2c8c-489c-83b3-ac96ef1adb9a)\r\n\r\nThe editor-script-atlas can add your images into an existing atlas as an animation. Right now the animation name is generated the same way as the atlas in the example above. I would like a dialog (like the Rename one) that only contains a String input as well as OK\/Cancel, so that the user can pick their animation name directly without having to open the atlas and rename it.\r\n\r\n## Select\/Multi Select (e.g. Open Asset, Add Image, Select Resource)\r\nI was contemplating creating an add-on that could import parts of file into the existing one. Think [editor-script-template](https:\/\/github.com\/Jerakin\/editor-script-templates) but instead of the templates being files you can copy paste. I was thinking of importing parts of a file into an existing file. That addon would need a way to select the resource to be imported into the opened scene."],"labels":["feature request","editor","editor scripts"]},{"title":"\"Frame Selection\" (F) doesn't work on multipage atlas ","body":"**Describe the bug (REQUIRED)**\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/2209596\/17b84b2e-52cb-47e4-85b9-b0d44c0a3417\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Create multipage atlas\r\n2. Select an image \r\n3. Press \"F\"\r\n\r\n**Expected behavior (REQUIRED)**\r\nCamera zoom in to selected image\r\n\r\n**Defold version (REQUIRED):**\r\n  - 1.7.0\r\n\r\n","comments":[],"labels":["bug","editor","atlas","quick win?"]},{"title":"Material editor is impossible to read (or edit) for fields in table format if editor.css has an increased font size","body":"When I try to edit materials, the Samplers and Vertex attributes\/constants are scrunched up and virtually impossible to work with or even read. I've messed with Windows display settings and tried a fresh copy of Defold but the issue persists.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Download fresh copy of Defold\r\n2. Create emty project\r\n3. Open `builtins\/materials\/sprite.material`\r\n4. Scroll down and see lots of clipped or completely unreadable text in the tables\r\n5. Try to edit a field on \"Samplers\" and be unable to see anything you're typing\r\n\r\n![crunched_defold_editor](https:\/\/github.com\/defold\/defold\/assets\/133168946\/63c71040-bc49-4a85-b8c1-ecc7018047e6)\r\n\r\n**Expected behavior (REQUIRED)**\r\nLarger working areas that let me actually see the text in them\r\n\r\n**Defold version (REQUIRED):**\r\n**Platforms (REQUIRED):**\r\n<table>\r\n<tr><td>Build time<\/td><td>2024-02-20T14:25:53.150761<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>558d43cbaf8b8a052a77675474c0113ff4821803<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>fcec9500fd438e365d4e4f6cec24b99afb907247<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.4<\/td><\/tr>\r\n<tr><td>GPU<\/td><td>NVIDIA GeForce RTX 3060\/PCIe\/SSE2<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 NVIDIA 535.98<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 11<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>\r\n","comments":["duplicate of https:\/\/github.com\/defold\/defold\/issues\/7618","Hey it seems all the fonts in the editor are a bit larger, which might interfere with table sizing. Do you by any chance use a custom css?","It also looks like the situation is more severe on your system. The font size and the relative sizes of UI elements look off in the screenshot you posted. Are you running a non 100% text scale factor, perhaps? Perhaps we're not handling it properly?","I had turned off the OS resizing, and THOUGHT I'd disabled the CSS, but I discovered I hadn't. So this appears to be more precisely \"Materials editor is broken if you increase font size in the CSS\". This is still pretty annoying as my eyesight generally needs the bigger fonts, but I at least have a work-around for when I'm doing a lot of materials work.\r\n\r\nIf there's a way to tweak the editor.css so my font size doesn't apply specifically to those elements, I'd be happy enough with that as a mitigation.\r\n\r\nExample A: Defold at 100% OS scaling but with `editor.css`:\r\n```\r\n.root {\r\n    -fx-font-size: 20px;\r\n}\r\n```\r\n![DefoldA](https:\/\/github.com\/defold\/defold\/assets\/133168946\/35680691-a6c6-41f3-ba97-51dcefbbb1ac)\r\n\r\nExample B: Defold at 150% OS scaling, but no `editor.css`:\r\n<img width=\"554\" alt=\"DefoldB\" src=\"https:\/\/github.com\/defold\/defold\/assets\/133168946\/b199f889-4032-4a79-8e79-61ed6fc19f2a\">\r\n"],"labels":["bug","more info","editor"]},{"title":"Add http module to editor script","body":"_(Previously requested here https:\/\/github.com\/defold\/editor2-issues\/issues\/2798)_\r\n\r\n**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nhttp calls in editor scripts\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI would like to be able to do http calls within editor script. \r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nMake it call external scripts.","comments":["There are a lot of features that are in the engine that would be super useful to have in editor scripts like:\r\n- http\r\n- image\r\n- json\r\n- sys\r\n- timer\r\n- vmath\r\n- zlib\r\n\r\nI'm guessing there are not written in plain lua but integrated with cpp into the engine, so it's not possible to copy paste them into standalone scripts?"],"labels":["feature request","editor","editor scripts"]},{"title":"`gui.show_keyboard` option autoclose not hiding virtual keyboard","body":"**Describe the bug (REQUIRED)**\r\n`gui.show_keyboard` parameter `autoclose` does not hide the virtual keyboard when clicking outside of it.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. make a script\r\n2. make the script open the virtual keyboard using `gui.show_keyboard` and set `autoclose` to true. \r\n3. run\r\n4. show the keyboard\r\n5. click outside\r\n6. not success, the keyboard happily stays open\r\n\r\n**Expected behavior (REQUIRED)**\r\nHiding the virual keyboard when clicking outside the virtual keyboard.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.4\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: HTML5 (safari)\r\n - OS: iOS 15.8.1\r\n - Device: iPhone 7","comments":[],"labels":["bug","gui","html5"]},{"title":"gui.hide_keyboard does not work on iOS html5 safari","body":"**Describe the bug (REQUIRED)**\r\n`gui.hide_keyboard` does not hide the virtual keyboard on iOS html5 safari\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. make a script\r\n2. make the script open the virtual keyboard using `gui.show_keyboard` (showing the keyboard works perfectly well)\r\n3. run `gui.hide_keyboard` some time after running `gui.show_keyboard`\r\n4. success\r\n\r\n**Expected behavior (REQUIRED)**\r\n`gui.hide_keyboard` hiding the keyboard\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.4\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: HTML5 (safari)\r\n - OS: iOS 15.8.1\r\n - Device: iPhone 7","comments":["How are you calling the gui.hide_keyboard()? On a timer? On a user action?","It is called by defolds `on_input`. Specifically for touch. \r\n\r\n```\r\nfunction on_input(self, action_id, action)\r\n\tif action_id == hash(\"touch\") and action.pressed then\r\n\t\tgui.hide_keyboard()\r\n\tend\r\nend\r\n```","> It is called by defolds `on_input`. Specifically for touch.\r\n> \r\n> ```\r\n> function on_input(self, action_id, action)\r\n> \tif action_id == hash(\"touch\") and action.pressed then\r\n> \t\tgui.hide_keyboard()\r\n> \tend\r\n> end\r\n> ```\r\n\r\nHTML5 is a bit specific platform, taking into account all the security features that only allow calling certain functions using specific DOM events. Could you please test is using a special function we provide specifically for such cases `html5.set_interaction_listener()`? https:\/\/defold.com\/ref\/stable\/html5\/#html5.set_interaction_listener:callback","Tested with `set_interaction_listener`, still doesn't hide the keyboard. I confirmed that the callback was actually running as well. ","Could you please check if you have anything in the console of the Safari Dev Tools when the device is connected and you perform the test?\r\n\r\nhttps:\/\/developer.apple.com\/documentation\/safari-developer-tools\/inspecting-ios","I do not own a Mac, are there any different tools that could be used?","> I do not own a Mac, are there any different tools that could be used?\r\n\r\nMaybe there's a way to read the log from Windows or Linux. I haven't looked.","I\u2019ll dig into it, might take a few days though.\r\n\r\nOn Wed, 13 Mar 2024 at 07:53, Bj\u00f6rn Ritzl ***@***.***> wrote:\r\n\r\n> I do not own a Mac, are there any different tools that could be used?\r\n>\r\n> Maybe there's a way to read the log from Windows or Linux. I haven't\r\n> looked.\r\n>\r\n> \u2014\r\n> Reply to this email directly, view it on GitHub\r\n> <https:\/\/github.com\/defold\/defold\/issues\/8652#issuecomment-1993685270>,\r\n> or unsubscribe\r\n> <https:\/\/github.com\/notifications\/unsubscribe-auth\/AX2GCJAM7EHIQB7P5AO3VK3YX7ZYFAVCNFSM6AAAAABEOLXDO6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMYTSOJTGY4DKMRXGA>\r\n> .\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n>\r\n"],"labels":["bug","more info","input","html5"]},{"title":"Add optional offset argument to go and gui animate","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nProperty animations cannot be created with an offset to start playback from a point other than the beginning. Spine, Rive, model and flipbook all support `offset`. Its lack prevents useful things such as:\r\n- Recreating all animations when loading a savegame, such as character movement, poses, projectiles, and visual effects.\r\n- While simulating a whole game world, optimize by only animating visuals for objects in view. If the player is teleported across the map, we would want to create animations for all in-progress activities, much like when loading a savegame.\r\n- When fixed_update triggers an event that spawns an animation, we may want to start it with an offset to sync it with the frame's timestamp, if it controls something like the symbols you need to hit in a rhythm game. E.g. if during this frame, fixed_update is called twice, and on the first call an event triggered, with a fixed rate of 30, the animation could be offset up to 2\/30s from its logical start timestamp.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nAdd an optional `offset` argument to `go.animate` and `gui.animate`.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nTweak the simulation or game design to avoid any glaring issues; hide any issues by having a brief fade-in transition; control properties manually in update.\r\n\r\n**Additional context (OPTIONAL):**\r\nRelated to feature request #5795 for pause and resume animation support.","comments":["related, I think https:\/\/github.com\/defold\/defold\/issues\/3246","> related, I think #3246\r\n\r\nThat's perfect. I was going to suggest a new API signature with a parameter list like other animation functions, with an `options` table and whatnot \u2014 but didn't want to be the guy who casually suggest you do extra work. :)","I hate to pile on in THIS post, but I am dealing with `gui.animate() \/ go.animate()` this very moment and something I am trying to do is requiring 'hacking' and chaining.\r\n\r\nIn #3246 , tween.properties would rock if I could define a wrap around value that is other than an object's initial starting value.\r\n\r\nFor example:\r\n\r\n```lua\r\n-- Here, position.x is set to 0\r\ngui.set_position(node, vmath.vector3(0, 0, 0))\r\n-- In options \/ properties \"from\" becomes the new \"position.x\" starting point once \"to\" is reached\r\ngui.animate( node, \"position.x\", to, gui.EASING_LINEAR, 1, 0, nil, gui.PLAYBACK_LOOP_FORWARD, { from = -10 } )\r\n```\r\nMy initial thought was to enable a limited callback feature for animations that loop. Maybe that would support canceling upon a condition being met, or to alter a behavior such as wrapping the animated property, but I thought that would require a lot of overhead and could mess with timing.","I have had the same issue where I need to chain with the on_complete callback to make the first play-through a special case. It would be convenient to have something like the `from` property you describe.\r\nAdditionally, I would like to blend between the pre-animate property state and the animation to get a smooth transition. My idle and walk animations loop scale and rotation tweens, and it's difficult to not get an abrupt jump when transitioning. I'm thinking it could perhaps be improved with special case options for the first play-through."],"labels":["feature request","engine","lua"]},{"title":"Preset Curve Options In The Particle Emitter Curve Editor","body":"It would speed up the fx workflow immensely to be able to select from a preset list of curves in the curve editor, rather than creating your own curve every time you start a new emitter.\r\n\r\nWhen you open a particle emitter and set a property to use a curve, I would like for there to be a list of preset curve options I can choose, which will wipe away the currently set keys and reset the curve to be one of the presets. The preset options could be smooth curve going from zero to one with flat tangents at zero and one, smooth curve going from one to zero with flat tangents at one and zero, linear curve from zero to one with linear tangents and zero and one, linear curve from one to zero with linear tangents at one and zero, etc\r\n\r\nThere is no alternative solution to this issue, only to set every curve for every emitter.\r\n\r\n![unnamed](https:\/\/github.com\/defold\/defold\/assets\/81985690\/8873e8cf-d409-4d20-ab94-e07e092635cc)\r\n","comments":[],"labels":["feature request","editor","quick win?","curve editor"]},{"title":"Random Frame on Each Spawned Particle ","body":"Having the ability to let an emitter choose a random frame from an atlas animation for each particle it spawns would be really helpful. Currently there is no way to set the emitter to spawn particles with a random animation frame.\r\n\r\nIt would be great if we could set up an \"animation\" in an atlas like the workflow for an animated spritesheet, then in the particle emitter when you chose which image to use you can choose that animation, but there is an added button in the emitter where we can select linear animation or random frame. If you choose random frame, a unique frame from that animation will be displayed on each particle and the particles hold on that frame for their entire life time. Each new particle spawned chooses a new frame to display giving you random frames on each. \r\n\r\nA workaround is to add a new emitter for each frame you want in your particle fx, but this is expensive, clunky, and difficult to keep updated.\r\n\r\n![unnamed](https:\/\/github.com\/defold\/defold\/assets\/81985690\/14968d86-47b1-4172-8500-be87cf0b355d)\r\n","comments":[],"labels":["feature request","engine","editor","particlefx","atlas"]},{"title":"Copying and Pasting Curves From The Particle Emitter Curve Editor","body":"I am always frustrated when I make a curve in the particle emitter curve editor and I want to use the same curve in another emitter, but I cant copy and paste my curve from one emitter to another. I have to try my best to reconstruct the exact same graph and without the ability to explicitly set key values in the curve editor.\r\n\r\nI would like the ability to go into an emitter, find a property in which I am currently using curve over the particle life, with that curve displayed in the curve editor I would like to select all of the keys of that curve, press and hold CTRL and press C on my keyboard, go to another emitter to a property where I would like the same curve to be used, and in the curve editor for that property press and hold CTRL and press V on my keyboard and those keys are pasted into the curve of the new emitter, replacing the keys that are currently set on that property. \r\n\r\nThere is no solution to this problem. All you can do is try to set similar values in each curve and hope they are both similar enough.\r\n\r\n![unnamed](https:\/\/github.com\/defold\/defold\/assets\/81985690\/8025b063-a75f-4aa3-931e-97a71cf5b713)\r\n","comments":[],"labels":["feature request","editor","quick win?","curve editor"]},{"title":"Hidden Looping Emitters Stop One Shot Particle Emitters From Playing","body":"Having an emitter in your particle fx that has the play mode set to loop causes emitters in the same particle fx with the play mode set to once to stop playing indefinitely. This issue is particularly frustrating when you hide the looping emitter to isolate and work on the one shot because even when the looping emitter is hidden, it keeps the one shot emitter from playing.\r\n\r\nCreate a new particle FX\r\n1. Add an emitter to the particle fx of type Circle\r\n2. Set the emitter play mode to once\r\n3. Set the Initial Green and Initial Blue to 0 so your one shot particles are Red\r\n4. Add another emitter to the particle fx of type Circle\r\n5. Set the emitter play mode to Loop\r\n6. Press spacebar to play the fx. You should see your looping fx playing but after the first time it fires, you will not see your one shot effect restart itself.\r\n7. Right click on your one shot emitter and select Hide Unselected Objects. You will see that your one shot emitter still wont play.\r\n\r\nDefold Version 1.6.3\r\nPlatforms: Windows\r\nDevice: PC\r\n\r\nThere is no workaround for this, it just doesn't work.\r\n\r\n![Screenshot 2024-03-07 181812](https:\/\/github.com\/defold\/defold\/assets\/81985690\/c441ef25-3830-4c2f-b4d1-8b9971ca05e7)","comments":[],"labels":["bug","engine","particlefx"]},{"title":"Random Values Do Not Effect One Shot Particles In Viewport","body":"When creating a one shot particle emitter, setting emitter values to be random in editor does not produce random behavior in viewport. It seems like the emitter chooses a random seed and continues to use that seed over and over rather than changing seeds every time the fx is looped. These emitters are random when called to play in game. This behavior is frustrating because I cant tell how random things will be unless I add my effect to game and play it,\r\n\r\n\r\nSteps to reproduce the behavior:\r\n1. Create a new particle FX\r\n2. Add an emitter to the particle fx of type Circle\r\n3. Set the emitter play mode to once\r\n4. Set the Pivot Y to 0.5\r\n5. Set the Duration to 1\r\n6. Set Spawn Rate to 5\r\n7. Set the Particle Life Time to 0.5\r\n8.  Set Initial Size to 20\r\n9. Set Initial Rotation variation to 360\r\n10. Press spacebar to play the fx. They should look like grains of rice choosing a random rotation like hands on a clock, but the rotation values chosen will be the same every time the fx loop in editor. \r\n\r\nI would expect the rice grains in my example above to choose different rotation values every time the fx loop in editor.\r\n\r\n  - Defold Version 1.6.3\r\n - Platforms: Windows\r\n - Device: PC\r\n\r\nThere is no workaround for this issue. You just have to choose random values and look at your particle system in game to see how those random values effect things.\r\n\r\n![unnamed](https:\/\/github.com\/defold\/defold\/assets\/81985690\/5e5e3b92-3bfc-4b79-b045-d191eb670798)\r\n","comments":[],"labels":["bug","editor","particlefx","quick win?"]},{"title":"Filter Particle System Properties","body":"It is frustrating to look through all of the particle emitter properties for the one you want to change. To find the property you are looking for you have to look through so many other properties.\r\n\r\nI would like a search box at the top of the emitter properties panel that allow you to input a key word or search term that would hide properties that do not have that key word in them.\r\n\r\nThere is no alternate solution to this problem. The only option is to look through all of the properties for the one you want to change.\r\n\r\n![unnamed](https:\/\/github.com\/defold\/defold\/assets\/81985690\/225c5d48-da35-42a2-b604-bfa5c7e197ef)","comments":[],"labels":["feature request","editor","particlefx"]},{"title":"special behavior for copy\/paste -ing lines of code","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nUX (and speed) while coding.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nIn short: _Special behavior when using copy (and paste) without a selection._  \r\nIf you press `CTRL+c` without anything selected it copies the line (and selects the line to show it visually).\r\nIf you press `CTRL+v` after a line have been copied it pastes the line **above** your cursor (if nothing is selected). This is effectively done by inserting a line above the current one and adding the content there. This happens regardless where your cursor is, it still goes on the line above it.\r\n\r\n(Note that this pastes the line above the cursor while a duplicate functionality #8642 would paste it beneath it.)\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nLiving with no such feature, hard to consider though.\r\n\r\n","comments":[],"labels":["feature request","editor","text-editor","quick win?"]},{"title":"Duplicate line\/selection in code editor","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI find myself trying to duplicate a line often. (Used to it from PyCharm, if an example help)\r\nBeing able to duplicate a line would increase the speed of some coding tasks.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI would like if `CTRL+d` (you can pick any shortcut) duplicating the current line if there is no selection and current selection if something is selected. If no selection the duplicated line is placed on the next line, if there is a selection it's placed after the cursor.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nCopy -> Paste -> Enter -> Paste -> Enter -> Paste\r\n\r\nOr be real fiddly in your selection and select the line you want to copy _and_ the new line character.\r\n\r\n**Additional context (OPTIONAL):**\r\nAdd any other context or screenshots about the feature request here.\r\n","comments":[],"labels":["feature request","editor","text-editor","quick win?"]},{"title":"Editor Script can not find file defined in shell action","body":"Did I completely forget how this works or is it broken?\r\n\r\n**Describe the bug (REQUIRED)**\r\nUsing a `shell` `action` in editor scripts results in error even if file exists.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Create a new project\r\n2. Add a shells script file in the root (I named mine `open.bat`).\r\n3. Create a new editor script. Add content seen below\r\n5. Reload the Editor Script in the project menu\r\n6. Start the script in the view menu, give your ok in the dialog.\r\n\r\n\r\n```\r\nlocal M = {}\r\n\r\nfunction M.get_commands()\r\n    return {\r\n        {\r\n            label=\"Open Location\",\r\n            locations = {\"View\"},\r\n            run = function(opts)\r\n                return {{\r\n                    action = \"shell\",\r\n                    command = {\"open.bat\"}  -- Also tried with \".\/open.bat\" and \"\/open.bat\"\r\n                }}\r\n            end\r\n        }\r\n    }\r\nend\r\n\r\nreturn M\r\n\r\n```\r\n\r\n\r\n**Expected behavior (REQUIRED)**\r\nScript runs without error\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.4\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows 10\r\n\r\n\r\n**Screenshots (OPTIONAL):**\r\n![{F103519C-C355-4C08-895A-6288D8F2C178}](https:\/\/github.com\/defold\/defold\/assets\/5273682\/1b970467-9151-426c-a09d-2d3b8408d10f)\r\n\r\n\r\n","comments":["I was going over my old editor scripts and yeah, I did remember wrong.\r\n\r\nTo get this to work you have to define a `plugins\/bin\/<sys_platform>\/open.bat` and then also define an `ext.manifest` then you have to call on them from the build folder. `.\/build\/plugins\/<project-name>\/plugins\/bin\/<sys_platform>\/open.bat\"`","Now I remember even more. Doing what I said above is needed to be able to refer to files on disk if it is used as an extension.\r\n\r\nWeirdly enough I can browse location if I have this project open https:\/\/github.com\/Jerakin\/editor-script-extra-locations but if I use it as a extension it doesn't work. Nor can I get a fresh project to work with it.","Restarting the editor makes the editor script work. Well color me confused...","aaand now starting up the project for the day it can't find the file again","I'm a bit confused, what's the exact problem at this point?","Is your plugin folder with `ext.manifest` a part of a library folder?","Probably the documentation in https:\/\/defold.com\/manuals\/editor-scripts\/#editor-scripts-in-libraries is not clear enough. If you want to have some resource from dependency as a file on a file system, you need the library directory contain the `ext.manifest`, and make that contain the `plugins\/..` dir.","> I'm a bit confused, what's the exact problem at this point?\r\n\r\nUnderstandable. But I think the initial report is still accurate.\r\n\r\n_Sometimes_ ( i.e. not 100% repro rate :( ) the editor scripts does not find files used\/defined in them. This is within it's own project (as defined in the instructions, and not only when using them as a dependency.)"],"labels":["bug","more info","editor","editor scripts"]},{"title":"Precise Curve Editor Key Values","body":"It is currently not possible to set precise values in the particle emitter's curve editor. It is frustrating to guess what the value of a key is on the graph and at what time it is set. There is no UI to check a keys value or time, and this is especially frustrating when trying to setup very common fx actions like changing particle scale over its life from 0-1.\r\n\r\nWhat I want to happen is that when I select a key in the curve editor and double click (or right click), a UI window pops up that shows the value of that key and the time at which it is set. This could even be something added as a section of the curve editor window, to the right side where you could show the values for the currently selected key. Simply put, I want to be able to see and set the value and time of a key I have selected.\r\n\r\nThere are no alternative solutions to this problem at the moment, I just get as close as I can when setting keys in the curve editor, and hope for the best. I also zoom in a bunch until the graph units very are small and set the numbers as close as I can, but its not precise, which is the issue.\r\n\r\n![unnamed](https:\/\/github.com\/defold\/defold\/assets\/81985690\/64048867-1c76-4b6c-95a7-381aa1fe3c50)","comments":[],"labels":["feature request","editor","curve editor"]},{"title":"Decouple Emitter Duration From Spawn Rate","body":"I am frustrated when I cannot simply set a \"one shot\" emitter (plays once then stops) to spawn a specific number of particles without considering duration. For example, I cannot easily set my spawn rate to (1) and get the behavior of spawning one particle then having emission stop.\r\n\r\nI would like to be able to set the play mode to Once, the emitter duration to 1 second, and quickly input a spawn rate of 1, and have the system understand that I only want one particle to be spawned for this one shot effect, regardless of emitter duration. \r\n\r\nCurrently to get something close to what I want, I have to set the emitter duration to something very small, for example (0.01) seconds, then set my spawn rate to something  like 10 or 20, since the ratio of duration to spawn rate is what controls the amount that spawns. With this method, I can get my singular particle, but this workflow of adjusting duration and spawn rate together hoping to get a specific number of particles is just clunky and cumbersome. It would be simpler if spawn rate was the actual number of particles that spawned during a one shot effect regardless of emitter duration.","comments":[],"labels":["feature request","engine","editor","particlefx"]},{"title":"Separate Particle System Lifetime from Emitter Lifetime","body":"When working in on a \"one shot\" particle effect (all emitters play once and then stop), it is frustrating that the particle system resets itself immediately after the emitter with the longest duration has been finished playing. It creates this alarming, strobing, continuous flashing effect, especially when the duration of the effect is very short.\r\n\r\nWhat I would like is to have a setting on the particle system level, separate from the emitters themselves, that defines when the emitters are called to start again. This would be a particle system duration that controls when the behavior of the emitters is repeated. That way an artist can allow for time between loops as they work on effects that are very short in duration.\r\n\r\nMy current solution is to this problem is to add an additional emitter to all of my particle systems that strictly controls the particle system lifetime or time between loops. It does not spawn any particles or have any visuals at all. It is simply an emitter who's duration is longer than all of the other emitters, and I set its duration to the time I want between loops of the particle system. For example, even if all other emitters in a particle system have (0.01) second durations, if my \"system lifetime emitter\" has a duration of 1 second, then the system will reset every 1 second, resolving my (0.01) second strobing issue.\r\n\r\nStrobing!\r\n![unnamed (1)](https:\/\/github.com\/defold\/defold\/assets\/81985690\/71b558da-895e-4038-b2cf-39b15586a0ea)\r\n\r\nSystem Lifetime Solution\r\n![Screenshot 2024-03-06 191444](https:\/\/github.com\/defold\/defold\/assets\/81985690\/e25d33d3-d4d7-415e-85ff-d0bcbc850917)","comments":[],"labels":["feature request","editor","particlefx","quick win?"]},{"title":"Hidden Emitters Stay Hidden at Runtime","body":"When I am developing real-time fx in Defold, I go through iterations adding and removing elements as I go. Some of those elements I would like to keep in case I decide I want to bring them back, or alter them in some way later to fit a new iteration in the process. I am always frustrated when I am forced to delete an emitter(s) to remove them visually from a particle system so they don't show up when the system is called at runtime.\r\n\r\nHaving some way to show and hide emitters would help with my overall workflow. I am aware there is an option to hide emitters via the right click menu, but this does not stop those emitters from playing in game when the system is called to play. I would like for the hide feature in the right click menu to also hide those elements when the particle system is called at runtime.\r\n\r\nMy current solution is to either delete those emitters so they will not play when the effect is called, or save a version of the system with those emitters deleted, utilizing a working copy and final copy of the effect, but this workflow is clunky and can lead to lost work or incorrect effects being used.\r\n\r\nIt would be very convenient if there were show hide icons next to every emitter so that I could toggle the visibility of each element more quickly and for those visibility settings to hold at runtime.\r\n\r\n![unnamed (1)](https:\/\/github.com\/defold\/defold\/assets\/81985690\/a9375fd1-5fd7-4b06-8def-9b7682244d67)","comments":[],"labels":["feature request","engine","editor","particlefx"]},{"title":"Open in internal editor when using a external editor in preferences","body":"Even using an external editor like VS Code, it can be very useful to open scripts in the internal editor.\r\n\r\nHowever, I have not been able to perform this simple task.\r\n\r\nIs there any tip on how to open .lua\/.script in the internal editor when an external editor is configured in the preferences?\r\n\r\nI looked at the possibility of creating an editor script for this task, but it seems to me that it is not possible.\r\n\r\nIt would be interesting to have the option \"Open in internal editor\" in the context menu when clicking on a .lua\/.script file.","comments":["Yes, it would be really useful because Debug tools of Defold Editor (breakpoints\/variables) work only if you use __internal editor__"],"labels":["feature request","editor","quick win?"]},{"title":"Defold editor markdown file: can't see selected text","body":"Since Defold 1.6.3 if I open an .MD file in the editor and try to select a word, a line or a paragraph dragging the mouse I can't see the selection that I made, the text  became highlighted only if I then scroll the page. \r\n\r\nSteps to reproduce the behavior:\r\n1. Open a tutorial (e.g. RPG map sample)\r\n2. Open README.md\r\n3. Try to select some text with the mouse\r\n4. You can't see the highlighted selection\r\n5. If you then scroll the page up or down with keyboard arrows or with mouse wheel the highlighted selection is visible\r\n\r\nSelection of text in markdown file was fine in 1.6.2 release\r\n\r\nDefold version \r\n  - Version 1.6.3 - 1.6.4\r\n\r\n - OS: Linux Mint 21.3 Cinnamon, kernel 5.15.0-97-generic\r\n - Nvidia Driver 535.161.07\r\n","comments":["The bug persist in the 1.7.0 release"],"labels":["bug","editor","javafx"]},{"title":"Deleting the file after #8626 results in error","body":"### Steps to reproduce\r\n* https:\/\/github.com\/defold\/defold\/issues\/8626\r\n* delete the file\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2024-02-28T08:46:35.883246<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>fde3b9ca14f2629b143173ba41b580c6191317f4<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>fcec9500fd438e365d4e4f6cec24b99afb907247<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.4<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"fdac995c40bb4c0db7b16035a3af4634\"'>fdac995c40bb4c0db7b16035a3af4634<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>AMD Radeon RX 7900 XT<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 Compatibility Profile Context 23.9.1.230821<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":[],"labels":["bug","editor"]},{"title":"Opening the file after #8626 results in error","body":"### Steps to reproduce\r\n* https:\/\/github.com\/defold\/defold\/issues\/8626\r\n* Open the file\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2024-02-28T08:46:35.883246<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>fde3b9ca14f2629b143173ba41b580c6191317f4<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>fcec9500fd438e365d4e4f6cec24b99afb907247<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.4<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"2b424aa9701e444ea9b861575dfdac56\"'>2b424aa9701e444ea9b861575dfdac56<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>AMD Radeon RX 7900 XT<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 Compatibility Profile Context 23.9.1.230821<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":[],"labels":["bug","editor"]},{"title":"Adding a `.lua` suffix to file created with \"New File\" that is imported somewhere results in error","body":"Not like a lot of people will bump into this one, but may as well report it.\r\n\r\n### Steps to reproduce\r\n* Create a gui_script. In it write `local game = main.game`\r\n* Create a file within the `main` folder with the `New File` menu option, name it `game` without a suffix.\r\n* Rename the new file, add `.lua` as the suffix.\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2024-02-28T08:46:35.883246<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>fde3b9ca14f2629b143173ba41b580c6191317f4<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>fcec9500fd438e365d4e4f6cec24b99afb907247<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.4<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"b314374879784c5d95e07fa65601c932\"'>b314374879784c5d95e07fa65601c932<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>AMD Radeon RX 7900 XT<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 Compatibility Profile Context 23.9.1.230821<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":[],"labels":["bug","editor","quick win?"]},{"title":"Investigate a C++ scripting api","body":"We would like to be able to write a game using our `dmSdk` (C++).\r\n\r\nThis task is a first step towards that goal, and should identify the current missing pieces for us to do so.\r\n\r\nThis is also a prerequiste for us creating a similar C# api.","comments":["This is fantastic! Thank you for taking this into consideration. In my opinion, enabling the use of DMSDK in DLLs would be excellent. Essentially, this would allow for a workflow outside the editor, facilitating an F5 workflow. Unless, you have other plans?"],"labels":["task","engine"]},{"title":"With Vsync on, excess delta time accumulates over time, causing double calls to fixed_update","body":"**Describe the bug (REQUIRED)**\r\nOn a 60hz monitor, with Vsync on, and with update and fixed update frequency set to 60, every ~25th update has a delta time 1\/3000s greater than the expected 1\/60s. This appears to accumulate over time, resulting in two calls to `fixed_update` every ~1218 frame (every ~20.3s).\r\n\r\nWith Vsync off, this does not occur.\r\n\r\nIn engine.cpp's `CalcTimeStep`, we appear to catch this stutter in the time reading:\r\n\r\n```cpp\r\nuint64_t time = dmTime::GetTime(); \/\/ 1. Presumably we get a higher than expected timestamp here\r\nuint64_t frame_time = time - engine->m_PreviousFrameTime;\r\nfloat frame_dt = (float)(frame_time \/ 1000000.0); \/\/ 2. Resulting in a frame_dt greater than 1\/60\r\n\/\/ ...\r\nfloat fixed_dt = 1.0f \/ (float)engine->m_UpdateFrequency;\r\n\/\/ ...\r\n\/\/ We don't allow having a higher framerate than the actual variable frame rate since the update+render is currently\r\n\/\/ coupled together and also Flip() would be called more than once.\r\n\/\/ E.g. if the fixed_dt == 1\/120 and the frame_dt == 1\/60\r\nif (fixed_dt < frame_dt)\r\n{\r\n    fixed_dt = frame_dt; \/\/ 3. Which would use that frame_dt for the update call dt\r\n}\r\n```\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Clone the linked repository\r\n2. Run it for a couple of minutes\r\n3. Check the delta time data written to file, and the fixed update data in the console\r\n\r\n**Expected behavior (REQUIRED)**\r\nNo consistent overshooting or undershooting of the expected delta time should occur when the targeted frame rate can easily be achieved.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.4\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows\r\n - OS: Windows 10\r\n - Device: None\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\nhttps:\/\/github.com\/redoak\/defold-vsync-dt-diff\r\n\r\n**Workaround (OPTIONAL):**\r\nAvoid doing too much work in fixed_update, so that running fixed_update twice in a frame doesn't result in stutter.\r\n\r\n**Screenshots (OPTIONAL):**\r\nHere, I have plotted the number of frames between each instance of an unexpected delta time, and the magnitude of the delta time diff:\r\n\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/22959728\/519ea509-549e-4fda-982e-20bc7043950a)","comments":["I don't know if Defold runs a render thread, does pipelining with queued frames or similar. Regardless, the article *[Fixing Time.deltaTime in Unity 2020.2 for smoother gameplay: What did it take?](https:\/\/blog.unity.com\/engine-platform\/fixing-time-deltatime-in-unity-2020-2-for-smoother-gameplay)* from Unity mentions, among other things, how they used more precise timestamp APIs like `IDXGISwapChain::GetFrameStatistics` and `CVDisplayLink` to reduce jitter (subheading *Achieving stability*). Maybe it can be helpful.","In terms of precision, I think in this case we should just not use floating point arithmetics if we know that the frame rates are multiples of each other. That way we can keep it simple, without any drifting."],"labels":["bug","engine","dt"]},{"title":"Use separate animations for each atlas when using multiple textures in a sprite","body":"**Is your feature request related to a problem? Please describe:**\r\nWhen using multiple textures in a sprite, it's looking for the same animation in both atlases.\r\n\r\n**Describe the solution you'd like:**\r\nI'd like it to be optional, allowing to select different animations from each atlas.\r\n\r\n**Describe alternatives you've considered:**\r\nMaybe an alternative could be throwing a warning if the animation is not found in the secondary atlas, but allowing the game to run anyway.\r\n\r\n**Additional context:**\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/2805447\/e6c51268-e45d-4b80-a8fc-c0176333b067)\r\n\r\n","comments":["Full independent selection of 2(+) textures (with independent texcoords) is my ideal, and the only reasonable way I can think of to do some very basic things using sprites. For example, using texture 2 to add a masking texture right now appears to require an identically-named copy of that mask for every sprite image I want to use it with, which is extremely inefficient and brittle.\r\n\r\nHappy to provide more details \/ add additional use cases if the Defold team needs them."],"labels":["feature request","engine","editor","atlas"]},{"title":"Editor presents an exception when script resource properties reference a resource that has build errors","body":"When building this test project (which has an atlas with a build error), the user is presented with:\r\n```\r\nclojure.lang.ExceptionInfo: unable to resolve build target from value {:FileResource \"\/examples\/vanilla.atlas\"}\r\n```\r\n\r\nSteps to reproduce:\r\n* Open test project\r\n* Press \"Build and run\"\r\n\r\nTest project:\r\n[script-resource-property-issue.zip](https:\/\/github.com\/defold\/defold\/files\/14417976\/script-resource-property-issue.zip)\r\n\r\n","comments":["Q: Is the error also supposed to be visible in outline nodes referencing the faulty asset?\r\nIn the example project, the sprite is referencing the atlas (which has a build error).\r\nDo we want the sprite\/script to show that there's an issue with the atlas? (currently, neither show an error)\r\n\r\nScript:\r\n<img width=\"407\" alt=\"Screenshot 2024-02-27 at 14 14 59\" src=\"https:\/\/github.com\/defold\/defold\/assets\/1349334\/a5e8555d-1328-4572-a458-053191ee3d98\">\r\n\r\nSprite:\r\n<img width=\"415\" alt=\"Screenshot 2024-02-27 at 14 15 17\" src=\"https:\/\/github.com\/defold\/defold\/assets\/1349334\/4d01a6f7-b7fa-4b2d-8f88-9c67ee7dbcc4\">\r\n","If the error message had said \"The tilesource doesn't have a valid image\" that might've directed me to the issue sooner. I actually only realised my mistake after doing a search and coming across this post!"],"labels":["bug","editor"]},{"title":"Improve resource sync performance in large projects","body":"**Task (REQUIRED):**\r\n`File.getCanonicalPath` and `File.lastModified` in `defignore-pred` take a huge chunk (30%!) of resource sync time, we should not touch the file system every time we check `.defignore`:\r\n<img width=\"815\" alt=\"Screenshot 2024-02-26 at 11 11 17\" src=\"https:\/\/github.com\/defold\/defold\/assets\/732554\/dfe4e9f2-db1d-4ce8-9119-e19fa20b2d01\">\r\nIt should be also possible to improve the performance of resource sync data structure building (`resource-paths`), which currently builds temporary sets where it might be faster to diff maps directly:\r\n<img width=\"1165\" alt=\"Screenshot 2024-02-26 at 11 12 32\" src=\"https:\/\/github.com\/defold\/defold\/assets\/732554\/40373aa9-ddc8-45b3-8fb1-0b084312fea8\">\r\n\r\n\r\n**Expected outcome (REQUIRED):**\r\nThe resource sync is noticeably faster in large projects.\r\n","comments":[],"labels":["task","editor"]},{"title":"Exit message on a trigger collision emits at a wrong time","body":"**Describe the bug (REQUIRED)**\r\nExit message on a trigger collision with object A emits after an enter message on the collision with object B, which is not overlapping with object A.\r\n\r\nComes from discussion in discord https:\/\/discordapp.com\/channels\/250018174974689280\/954383800840892426\/1210289747931566120\r\nhttps:\/\/discordapp.com\/channels\/250018174974689280\/817015305632874528\/1210523837201121280\r\n\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\nTwo kinematic collision objects (A and B) are placed 2 pixels away from each other. Trigger collision circle with a diameter of .01 moves from A to B.\r\n\r\nMessages happen in the following order:\r\n  1. enter B\r\n  2. exit A\r\n\r\n**Expected behavior (REQUIRED)**\r\nExpected order of enter and exit messages:\r\n  1. exit A\r\n  2. enter B\r\n\r\n**Defold version (REQUIRED):**\r\n  - 1.6.4\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows\r\n - OS: Windows 11","comments":[],"labels":["bug","engine","physics"]},{"title":"The bottom of menus are cut off","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\nWhen viewing menus and context-menus, able to see the entire menu list, or at least scroll through all of the items in the list if the menu isn't large enough.\r\n### Actual behaviour\r\nWhen selecting a menu from the menu-bar or righ-clicking for a context menu, the bottom portion of the menu is cut off, making the last several items unreadable, and there isn't an option to scroll further down the menu.\r\n\r\n### Steps to reproduce\r\n1. Install Defold 1.6.2 from Steam on Linux.\r\n2. Download the update to 1.6.4 and re-launch Defold to install the update.\r\n3. Open or begin a new project\r\n4. Click on one of the options in the menu-bar or right-click on an item in the Outline view for the context menu.\r\n5. Take note of the bottom of the menu.\r\n\r\nVideo reproducing steps is attached here: https:\/\/github.com\/defold\/defold\/assets\/5029072\/a3e3d27d-1ddb-44db-b289-b14e3924cfee\r\nand also available in the Editor channel on the Defold Discord. Here's the message link where the video appears: https:\/\/discord.com\/channels\/250018174974689280\/817015161737969705\/1210679452560920636\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2024-02-21T19:38:02.976066<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>e05a2df96a5ccce119e8c3528988c4ad9e729c2c<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>fcec9500fd438e365d4e4f6cec24b99afb907247<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.4<\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Mesa Intel(R) Iris(R) Pro Graphics P5200 (HSW GT3)<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6 (Compatibility Profile) Mesa 23.3.5-arch1.1<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Linux<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>6.6.14-2-lts<\/td><\/tr>\r\n<table>","comments":["This issue appears to only exist when upgrading from 1.6.2 to 1.6.4 from Steam. I installed 1.6.4 from my Linux distribution repository and the issue didn't exist. Here is another short video demonstrating the difference.\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/5029072\/9a0b5d47-4730-4b49-a0d3-40b79f3780d8\r\n\r\n","I'm glad you got your issue fixed! This seems like a bug in our graphics library dependency (JavaFX). Unfortunately, I couldn't find any reports of the issue in [their bug tracker](https:\/\/bugs.openjdk.org\/browse\/JDK-8326428?jql=project%20%3D%20JDK%20AND%20component%20%3D%20javafx%20AND%20text%20~%20%22linux%22%20ORDER%20BY%20created%20DESC). Please share your Linux distro name and window manager, maybe this will help."],"labels":["more info","editor","linux","javafx"]},{"title":"Stuttering on iOS when there's touch input","body":"**Describe the bug**\r\n\r\nWhen playing a game on iOS, I can see stuttering **when there is touch input**.\r\n\r\nHere's an example on iPad 6th Gen, iOS 17.1.2. The text is `UP` or `DOWN` depending on the touch input. It's not super clear in a video, but you can see when I am tapping, there is some subtle but noticeable stutter:\r\n\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/15923595\/311a103f-a494-468b-ab14-a79282812555\r\n\r\n\r\n\r\nOn my iPhone 14 Pro, iOS 17.2.1, this is even more noticeable. However I also saw the same issue in Godot where there is an issue, so it could be related: https:\/\/github.com\/godotengine\/godot\/issues\/76425\r\n\r\nI tried recording on my iPhone, but strangely got stuttering as soon as I started screen recording, even without input.\r\n\r\n**To Reproduce**\r\n\r\nClone this repo: https:\/\/github.com\/edbentley\/defold-stutter-repro\r\n\r\nDeploy to an iOS device and try tapping.\r\n\r\n**Expected behavior**\r\n\r\nThere shouldn't be stuttering on input change.\r\n\r\n**Defold version:**\r\n\r\n1.6.4\r\n\r\n**Platforms:**\r\n\r\niOS.\r\n\r\nI don't see the issue on Android or Mac.","comments":["Hi!\r\n\r\nIn [1.6.4](https:\/\/forum.defold.com\/t\/defold-1-6-4-has-been-released\/75979), we updated to iOS 17.2.\r\n\r\nYou could try downloading the 1.6.3 to see if the previous iOS 16 works better. ([1.6.3 release](https:\/\/github.com\/defold\/defold\/releases\/tag\/1.6.3)), just to see if perhaps the iOS version is to blame.\r\n","Thanks @JCash, I just tried with Defold 1.6.3 but seeing the same behaviour on iOS. (The devices are still running iOS 17, not sure if that matters?)\r\n\r\nIt's definitely much more noticeable on the iPhone 14 Pro than the iPad, but can still see it a bit on the iPad.","I think it's related to https:\/\/github.com\/defold\/defold\/issues\/6795"],"labels":["bug","more info","engine","ios"]},{"title":"device does not appear in the Targets menu [macOS]","body":"The device does not appear in the Targets menu,\r\n\r\n1) certificate iOS Development, profile iOS Development (the application opens successfully on the device)\r\n\r\n2) iOS developer mode is enabled on device.\r\n\r\n3) device is connected to the same wifi network as your computer (checked also via `ios-deploy -c`, device is connected via USB and via wif-fi)\r\n```\r\n[....] Found 00008120-0001451C0A70201E (D73AP, iPhone 14 Pro, iphoneos, arm64e, 17.3.1, ) a.k.a. 'iPhone (Nikita)' connected through WIFI.\r\n[....] Found 00008120-0001451C0A70201E (D73AP, iPhone 14 Pro, iphoneos, arm64e, 17.3.1, 21D61) a.k.a. 'iPhone (Nikita)' connected through USB.\r\n```\r\n4) the dev app is built in Debug mode\r\n\r\n5) I tried also `Project -> \"Enter Target IP\"` - without success. `no route to host (connect failed)`\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.4\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: macOS\r\n - OS: Monterey 12.7.3\r\n - Device: iPhone 14 Pro iOS 17.3.1","comments":[],"labels":["bug"]},{"title":"Options for matching case and word in editor Search In Files","body":"**Is your feature request related to a problem? Please describe:**\r\nCertain file searching operations require checking for the matching case and\/or whole word.\r\n\r\nFor example, if I'm doing some refactoring of a tutorial system and am thinking about removing an element called `tutorial_step` from a table, I would want to check if any code is accessing that directly. It's not useful for search results to return matches on functions such as `get_tutorial_step()` nor on data such as `M.Tutorial_Steps`. I could search for `.tutorial_step` but that could still returns matches on things such as `.tutorial_step_name`\r\n\r\n**Describe the solution you'd like:**\r\nThe 'Search in Files...' window should have checkboxes for Case and Word.\r\n\r\n**Describe alternatives you've considered:**\r\nUsing the 'keep results' option and using the Case and Word checkboxes while searching in the current file. This is feasible if there are search results in a small number of files.\r\n\r\n**Additional context:**\r\nAdd any other context or screenshots about the feature request here.\r\n","comments":[],"labels":["feature request","editor","text-editor"]},{"title":"Error and black screen when i edit collection file","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\nI have no idea what and why happened. I edit .collection files. Then i open another collection file\r\n\r\nAfter few minutes, after error i get black screen and need reboot pc.\r\n\r\nMb is was something with my drivers or mb you do something wrong)\r\n\r\nPlease look on it\r\n### Actual behaviour\r\n\r\n### Steps to reproduce\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2024-02-16T08:36:38.395220<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>842ff043cad46c2b6d944bd7fb091943a462f03f<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>fcec9500fd438e365d4e4f6cec24b99afb907247<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.4<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"e1e8abc4ad304e4eae44c2c0ea66a1f6\"'>e1e8abc4ad304e4eae44c2c0ea66a1f6<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>AMD Radeon(TM) Graphics<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 Compatibility Profile Context 23.5.2.230523<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":["```\r\njogamp.opengl.windows.wgl.WindowsWGLContext.createImpl.class com.jogamp.opengl.GLException: Error making temp context current: 0x0x200cf, werr: 126\r\n    at jogamp.opengl.windows.wgl.WindowsWGLContext.createImpl(WindowsWGLContext.java:355)\r\n    at jogamp.opengl.GLContextImpl.makeCurrentWithinLock(GLContextImpl.java:793)\r\n    at jogamp.opengl.GLContextImpl.makeCurrent(GLContextImpl.java:676)\r\n    at jogamp.opengl.GLContextImpl.makeCurrent(GLContextImpl.java:614)\r\n    at jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1279)\r\n    at jogamp.opengl.GLDrawableHelper.invokeGL(GLDrawableHelper.java:1147)\r\n    at jogamp.opengl.GLAutoDrawableBase.defaultDisplay(GLAutoDrawableBase.java:476)\r\n    at com.jogamp.opengl.GLAutoDrawableDelegate.display(GLAutoDrawableDelegate.java:190)\r\n    at jogamp.opengl.GLAutoDrawableBase.defaultWindowResizedOp(GLAutoDrawableBase.java:260)\r\n    at jogamp.opengl.GLOffscreenAutoDrawableImpl.setSurfaceSize(GLOffscreenAutoDrawableImpl.java:61)\r\n    at editor.scene$make_gl_pane_BANG_$fn$fn.invoke(scene.clj:1296)\r\n    at editor.scene$make_gl_pane_BANG_$fn.invoke(scene.clj:1286)\r\n    at editor.scene.proxy$com.defold.control.Region$ff19274a.layoutChildren\r\n    at javafx.scene.Parent.layout(Parent.java:1208)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Parent.layout(Parent.java:1215)\r\n    at javafx.scene.Scene.doLayoutPass(Scene.java:596)\r\n    at javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2603)\r\n    at com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:401)\r\n    at java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    at com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:400)\r\n    at com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:430)\r\n    at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:598)\r\n    at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:578)\r\n    at com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:571)\r\n    at com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)\r\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\r\n    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n    at java.lang.Thread.run(Thread.java:833)\r\n```"],"labels":["editor","3d"]},{"title":"Local position attribute are different in Editor and Runtime for sprites","body":"**Describe the bug (REQUIRED)**\r\nLocal position coordinates are based on sprite size in editor and runtime, **BUT if sprite has <ins>overridden<\/ins> any vertex attribute** then coordinates are between -0.5 and 0.5  in runtime only\r\n\r\n**To Reproduce (REQUIRED)**\r\n1. Create new material\r\n2. Add vertex attribute (name: 'position_local', semantic: position, count: 3, normalize: false, space: local)\r\n3. Add vertex attribute (name: 'test_att', semantic: none, count: 4, normalize: false, space: local )\r\n3. Write any shader that uses 'position_local' and 'test_att' and set it to material\r\n4. Set material to sprite\r\n5. See the result of shader execution in Editor and Runtime. **It's correct**\r\n6. <ins>Override<\/ins> 'test_att' for sprite\r\n7. See the result of shader execution in Editor and Runtime. **It's not correct. Now in runtime local_space has value between -0.5 to 0.5**\r\n\r\n\r\n**Expected behavior (REQUIRED)**\r\nLocal position coordinates are based on sprite size in editor and runtime\r\n\r\n**Defold version (REQUIRED):**\r\n  - 1.6.4 \r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: macOS editor\r\n - OS: macOS Monterey 12.5 (21G72)\r\n - Device: MacBook Pro 15 2019 i9\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\nTest shader\r\n<details>\r\n<summary>vertex shader<\/summary>\r\n\r\n```glsl\r\nattribute mediump vec4 position;\r\nattribute mediump vec2 texcoord0;\r\nattribute mediump vec2 shadow_line;\r\nattribute mediump vec3 position_local;\r\n\r\nvarying mediump vec2 var_texcoord0;\r\nvarying mediump vec2 var_shadow_line;\r\nvarying mediump vec2 var_position_local;\r\n\r\nuniform mediump mat4 view_proj;\r\n\r\nvoid main() {\r\n var_texcoord0 = texcoord0;\r\n var_shadow_line = shadow_line;\r\n var_position_local = position_local.xy;\r\n\r\n gl_Position = view_proj * vec4(position.xyz, 1.0);\r\n}\r\n```\r\n<\/details>\r\n<details>\r\n<summary>fragment shader<\/summary>\r\n\r\n```glsl\r\nvarying mediump vec2 var_texcoord0;\r\nvarying mediump vec2 var_shadow_line;\r\nvarying mediump vec2 var_position_local;\r\n\r\nuniform lowp sampler2D MAIN_TEX;\r\n\r\nvoid main() {\r\n vec4 c = texture2D(MAIN_TEX, var_texcoord0.xy);\r\n float s = step(var_shadow_line.y, var_position_local.y);\r\n\r\n c.rgb = mix(vec3(c.a), c.rgb, s);\r\n\r\n gl_FragColor = c;\r\n}\r\n```\r\n<\/details>\r\n\r\n\r\nSet shadow_line to (0.0, 20.0)\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/29479345\/e247a76f-e187-4a1f-899b-4ced424b8534)\r\n\r\n\r\nSet shadow_line to (0.0, 0.25)\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/29479345\/d63435de-fb8e-4f8e-b2f8-c461c4dcf261)\r\n\r\n\r\n\r\n","comments":[],"labels":["bug","engine","editor"]},{"title":"Crash when calling label.set_text addressing a game object with multiple labels","body":"**Describe the bug (REQUIRED)**\r\nIf a game object has multiple labels, calling `label.set_text` addressing the game object will cause a crash.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Run the linked project, or\r\n2. Add a game object with a script and two labels\r\n3. In the script, call `label.set_text('.', 'my text')`\r\n4. Run and see crash\r\n\r\n**Expected behavior (REQUIRED)**\r\nThe text of all or the first encountered label should be set.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.4\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows\r\n - OS: Windows 10\r\n - Device: None\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\nRepo: https:\/\/github.com\/redoak\/defold-label-set-text-crash\r\nCrash dump: [_crash.zip](https:\/\/github.com\/defold\/defold\/files\/14322483\/_crash.zip)\r\n\r\n**Logs (OPTIONAL):**\r\n<details><summary><b>Console log<\/b><\/summary>\r\n\r\n```\r\nINFO:DLIB: Log server started on port 51200\r\nINFO:ENGINE: Target listening with name: HIDDEN\r\nINFO:ENGINE: Engine service started on port 51201\r\nINFO:GRAPHICS: Installed graphics device 'ADAPTER_FAMILY_OPENGL'\r\nINFO:ENGINE: Defold Engine 1.6.4 (fcec950)\r\nINFO:DLIB: Initialized Remotery (ws:\/\/127.0.0.1:17815\/rmt)\r\nINFO:ENGINE: Loading data from: build\/default\r\nINFO:ENGINE: Initialised sound device 'default'\r\nINFO:CRASH: Successfully wrote Crashdump to file: C:\\Users\\HIDDEN\\AppData\\Roaming\\Defold\/_crash\r\nERROR:CRASH: CALL STACK:\r\n\r\nERROR:CRASH:  0 0x7FF79E4C6590 dmCrash::GenerateCallstack D:\\a\\defold\\defold\\engine\\crash\\src\\backtrace_win32.cpp:144\r\n\r\nERROR:CRASH:  1 0x7FF79E5BD2EC _seh_filter_exe minkernel\\crts\\ucrt\\src\\appcrt\\misc\\exception_filter.cpp:219\r\n\r\nERROR:CRASH:  2 0x7FF79E601E94 `__scrt_common_main_seh'::`1'::filt$0 D:\\a\\_work\\1\\s\\src\\vctools\\crt\\vcstartup\\src\\startup\\exe_common.inl:304\r\n\r\nERROR:CRASH:  3 0x7FF79E53E52C __C_specific_handler D:\\a\\_work\\1\\s\\src\\vctools\\crt\\vcruntime\\src\\eh\\riscchandler.cpp:389\r\n\r\nERROR:CRASH:  4 0x7FF8CCAB2290 __chkstk <unknown>:0\r\n\r\nERROR:CRASH:  5 0x7FF8CCA61030 RtlRaiseException <unknown>:0\r\n\r\nERROR:CRASH:  6 0x7FF8CCAB0E90 KiUserExceptionDispatcher <unknown>:0\r\n\r\nERROR:CRASH:  7 0x7FF79E5C3144 _strdup minkernel\\crts\\ucrt\\src\\appcrt\\string\\strdup.cpp:44\r\n\r\nERROR:CRASH:  8 0x7FF79E202FA0 dmGameSystem::CompLabelOnMessage D:\\a\\defold\\defold\\engine\\gamesys\\src\\gamesys\\components\\comp_label.cpp:544\r\n\r\nERROR:CRASH:  9 0x7FF79E135090 dmGameObject::DispatchMessagesFunction D:\\a\\defold\\defold\\engine\\gameobject\\src\\gameobject\\gameobject.cpp:2376\r\n\r\nERROR:CRASH: 10 0x7FF79E3E77A0 dmMessage::InternalDispatch D:\\a\\defold\\defold\\engine\\dlib\\src\\dlib\\message.cpp:573\r\n\r\nERROR:CRASH: 11 0x7FF79E1395D0 dmGameObject::InitCollection D:\\a\\defold\\defold\\engine\\gameobject\\src\\gameobject\\gameobject.cpp:1776\r\n\r\nERROR:CRASH: 12 0x7FF79E118610 dmEngine::Init D:\\a\\defold\\defold\\engine\\engine\\src\\engine.cpp:1311\r\n\r\nERROR:CRASH: 13 0x7FF79E11D070 dmEngineCreate D:\\a\\defold\\defold\\engine\\engine\\src\\engine.cpp:2120\r\n\r\nERROR:CRASH: 14 0x7FF79E11D600 dmEngine::RunLoop D:\\a\\defold\\defold\\engine\\engine\\src\\engine_loop.cpp:68\r\n\r\nERROR:CRASH: 15 0x7FF79E115A70 engine_main D:\\a\\defold\\defold\\engine\\engine\\src\\engine_main.cpp:148\r\n\r\nERROR:CRASH: 16 0x7FF79E532924 __scrt_common_main_seh D:\\a\\_work\\1\\s\\src\\vctools\\crt\\vcstartup\\src\\startup\\exe_common.inl:288\r\n\r\nERROR:CRASH: 17 0x7FF8CAED7330 BaseThreadInitThunk <unknown>:0\r\n\r\nERROR:CRASH: 18 0x7FF8CCA62690 RtlUserThreadStart <unknown>:0\r\n\r\nERROR:CRASH: \r\n\r\nINFO:CRASH: Successfully wrote Crashdump to file: C:\\Users\\HIDDEN\\AppData\\Roaming\\Defold\/_crash\r\nERROR:CRASH: CALL STACK:\r\n\r\nERROR:CRASH:  0 0x7FF79E5C3144 _strdup minkernel\\crts\\ucrt\\src\\appcrt\\string\\strdup.cpp:44\r\n\r\nERROR:CRASH:  1 0x7FF79E202FA0 dmGameSystem::CompLabelOnMessage D:\\a\\defold\\defold\\engine\\gamesys\\src\\gamesys\\components\\comp_label.cpp:544\r\n\r\nERROR:CRASH:  2 0x7FF79E135090 dmGameObject::DispatchMessagesFunction D:\\a\\defold\\defold\\engine\\gameobject\\src\\gameobject\\gameobject.cpp:2376\r\n\r\nERROR:CRASH:  3 0x7FF79E3E77A0 dmMessage::InternalDispatch D:\\a\\defold\\defold\\engine\\dlib\\src\\dlib\\message.cpp:573\r\n\r\nERROR:CRASH:  4 0x7FF79E1395D0 dmGameObject::InitCollection D:\\a\\defold\\defold\\engine\\gameobject\\src\\gameobject\\gameobject.cpp:1776\r\n\r\nERROR:CRASH:  5 0x7FF79E118610 dmEngine::Init D:\\a\\defold\\defold\\engine\\engine\\src\\engine.cpp:1311\r\n\r\nERROR:CRASH:  6 0x7FF79E11D070 dmEngineCreate D:\\a\\defold\\defold\\engine\\engine\\src\\engine.cpp:2120\r\n\r\nERROR:CRASH:  7 0x7FF79E11D600 dmEngine::RunLoop D:\\a\\defold\\defold\\engine\\engine\\src\\engine_loop.cpp:68\r\n\r\nERROR:CRASH:  8 0x7FF79E115A70 engine_main D:\\a\\defold\\defold\\engine\\engine\\src\\engine_main.cpp:148\r\n\r\nERROR:CRASH:  9 0x7FF79E532924 __scrt_common_main_seh D:\\a\\_work\\1\\s\\src\\vctools\\crt\\vcstartup\\src\\startup\\exe_common.inl:288\r\n\r\nERROR:CRASH: 10 0x7FF8CAED7330 BaseThreadInitThunk <unknown>:0\r\n\r\nERROR:CRASH: 11 0x7FF8CCA62690 RtlUserThreadStart <unknown>:0\r\n\r\nERROR:CRASH: \r\n\r\nINFO:CRASH: Successfully wrote MiniDump to file: C:\\Users\\HIDDEN\\AppData\\Roaming\\Defold\/_crash.dmp\r\n```\r\n<\/details>\r\n\r\n**Workaround (OPTIONAL):**\r\nIt works as expected if the label fragment is addressed directly.","comments":[],"labels":["bug","label"]},{"title":"Editor 'Open as Code' for .project and .settings files","body":"**Is your feature request related to a problem? Please describe:**\r\nRight clicking on certain file types in the asset browser - project, settings and others - includes 'Open As -> Text', but that view is read-only.\r\nCertain tasks such as adding an entirely new section or setting are not possible in the default Form view.\r\n\r\n**Describe the solution you'd like :**\r\nI would like to be able to open such files in an editable Code view.\r\n\r\n**Describe alternatives you've considered :**\r\nThe alternative is to select Show in Desktop, and then open from Finder (or Windows explorer) in an external text editor.\r\n\r\n","comments":[],"labels":["feature request","editor","text-editor"]},{"title":"Renaming a file with no extension containing plaintext to .md generates an error","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\n-making a \"File\" and naming it any version of \"readme.md\" then trying to open (which defaults to web-view)\r\n- I did not expect not to be able to edit a markdown file inside of Defold. I thought it was just plaintext run through a formatting viewer.\r\n\r\n### Actual behaviour\r\n- opening a markdown file made from renaming a \"File\" containing some text within Defold produces an error message\r\n- right-click > Open As > Text still works correctly\r\n\r\n### Steps to reproduce\r\n\r\nI'm making a \"collection of brain teaser games\" game (think Lumosity, Peak, Elevate specifically, or Warioware \/ Mario Party for real examples of collections of games.\r\n\r\n- Make a folder for each game and associated bits and pieces, e.g.\r\n>BrainTrain\r\n>>Assets\r\n>>Input\r\n>>Main\r\n>>DirectionLook\r\n>>>DirectionLook.collection, \r\n>>>Arrow.go.\r\n>>>Arrow.script\r\n>>>readme\r\n- inside each minigame's folder, create a New File or New > File, name it readme\r\n- put some text into it\r\n- rename it readme.md\r\n>BrainTrain\r\n>>Assets\r\n>>Input\r\n>>Main\r\n>>DirectionLook\r\n>>>DirectionLook.collection, \r\n>>>Arrow.go.\r\n>>>Arrow.script\r\n>>>readme.md\r\n- try and open\r\n- unexpected result\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2024-02-15T08:54:48.112358<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>7bafadda047312e68a7094c2928e5a403ebf90d8<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>fcec9500fd438e365d4e4f6cec24b99afb907247<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.4<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"b0c6a27aacee4579adb901e5b464e850\"'>b0c6a27aacee4579adb901e5b464e850<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Intel(R) UHD Graphics 630<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 - Build 26.20.100.7584<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 11<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":["```\r\ninternal.node.NodeImpl.produce_value.class java.lang.AssertionError: Assert failed: No such output, input, or property :html exists for node 72057594037928633 of type editor.placeholder-resource\/PlaceholderResourceNode\r\nIn production: #{}\r\nbeh\r\n    at internal.node.NodeImpl.produce_value(node.clj:294)\r\n    at internal.node$node_value.invokeStatic(node.clj:454)\r\n    at internal.system$node_value.invokeStatic(system.clj:354)\r\n    at dynamo.graph$do_node_value.invokeStatic(graph.clj:830)\r\n    at dynamo.graph$node_value.invokeStatic(graph.clj:833)\r\n    at editor.html_view$resource_handler.invokeStatic(html_view.clj:56)\r\n    at editor.html_view$resource_handler.invoke(html_view.clj:50)\r\n    at clojure.core$partial$fn.invoke(core.clj:2624)\r\n    at util.http_server$setup_server_BANG_$reify.handle(http_server.clj:65)\r\n    at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:95)\r\n    at sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:82)\r\n    at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:98)\r\n    at sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:851)\r\n    at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:95)\r\n    at sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:818)\r\n    at sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:201)\r\n    at sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:561)\r\n    at sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:527)\r\n    at java.lang.Thread.run(Thread.java:833)\r\n```"],"labels":["bug","editor"]},{"title":"Clicking reset button on changed gui template properties makes editor blow up","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\nChanged gui property (e.g. size) of a template node resets to the template defaults.\r\n\r\n### Actual behaviour\r\nSpits three errors. Requires editor restart.\r\n\r\n### Steps to reproduce\r\n1. New mobile project\r\n2. Create main.gui and template.gui\r\n3. Open template.gui and add box. Set size to manual (64x64)\r\n4. Open main.gui, add template and set the Template to template.gui\r\n5. Edit template\/box size to something else from 64x64 and click away to make sure the change is applied\r\n6. Click the reset button where you changed the values -> Error\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2024-02-15T08:54:48.112358<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>7bafadda047312e68a7094c2928e5a403ebf90d8<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>fcec9500fd438e365d4e4f6cec24b99afb907247<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.4<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"a850d8d521b24561b1a288d2bbf773d9\"'>a850d8d521b24561b1a288d2bbf773d9<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>NVIDIA GeForce GTX 1070\/PCIe\/SSE2<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 NVIDIA 531.79<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":["```\r\nclojure.lang.RT.uncheckedDoubleCast.class java.lang.NullPointerException: Cannot invoke \"java.lang.Number.doubleValue()\" because \"x\" is null\r\n    at clojure.lang.RT.uncheckedDoubleCast(RT.java:1559)\r\n    at editor.slice9$vertex_data.invokeStatic(slice9.clj:220)\r\n    at editor.gui$fn.invokeStatic(gui.clj:1012)\r\n    at editor.gui$fn.invoke(gui.clj:1012)\r\n    at clojure.lang.AFn.applyToHelper(AFn.java:154)\r\n    at clojure.lang.AFn.applyTo(AFn.java:144)\r\n    at clojure.lang.AFunction$1.doInvoke(AFunction.java:31)\r\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\r\n    at clojure.lang.Var.invoke(Var.java:384)\r\n    at editor.gui$BoxNode$behavior$scene_renderable_user_data$fn.invoke(gui.clj:998)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n```"],"labels":["bug","editor"]},{"title":"assert(nil, nil) do a build crash","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\n\r\nassert(nil, \"boo\") works as expected, says \"boo\".\r\nassert() works as expected  just says \"bad argument #1 to 'assert' (value expected)\"\r\nassert(nil, nil) crashes with log:\r\n\r\n```\r\nERROR:CRASH:  0 0x7FF80E64CEB0 RaiseException <unknown>:0\r\n\r\nERROR:CRASH:  1 0x7FF7569F7490 lj_err_unwind_win <unknown>:0\r\n\r\nERROR:CRASH:  2 0x7FF7569F6AA0 lj_err_throw <unknown>:0\r\n\r\nERROR:CRASH:  3 0x7FF7569F6B40 lj_err_run <unknown>:0\r\n\r\nERROR:CRASH:  4 0x7FF7569F7490 lj_err_unwind_win <unknown>:0\r\n\r\nERROR:CRASH:  5 0x7FF7569F6DE0 lj_err_optype <unknown>:0\r\n\r\nERROR:CRASH:  6 0x7FF756ADAAB0 lj_meta_tget <unknown>:0\r\n\r\nERROR:CRASH:  7 0x7FF7569EF9A0 lua_getfield <unknown>:0\r\n\r\nERROR:CRASH:  8 0x7FF756A21EA0 dmScript::PCallInternal D:\\a\\defold\\defold\\engine\\script\\src\\script.cpp:1393\r\n\r\nERROR:CRASH:  9 0x7FF756A85490 dmGameObject::RunScript D:\\a\\defold\\defold\\engine\\gameobject\\src\\gameobject\\comp_script.cpp:142\r\n\r\nERROR:CRASH: 10 0x7FF756A83D30 dmGameObject::CompScriptInit D:\\a\\defold\\defold\\engine\\gameobject\\src\\gameobject\\comp_script.cpp:183\r\n\r\nERROR:CRASH: 11 0x7FF756A57380 dmGameObject::InitComponents D:\\a\\defold\\defold\\engine\\gameobject\\src\\gameobject\\gameobject.cpp:1696\r\n\r\nERROR:CRASH: 12 0x7FF756A53C00 dmGameObject::InitCollection D:\\a\\defold\\defold\\engine\\gameobject\\src\\gameobject\\gameobject.cpp:1765\r\n\r\nERROR:CRASH: 13 0x7FF756B4F2D0 dmGameSystem::CompCollectionProxyOnMessage D:\\a\\defold\\defold\\engine\\gamesys\\src\\gamesys\\components\\comp_collection_proxy.cpp:504\r\n\r\nERROR:CRASH: 14 0x7FF756A57A80 dmGameObject::DispatchMessagesFunction D:\\a\\defold\\defold\\engine\\gameobject\\src\\gameobject\\gameobject.cpp:2341\r\n\r\nERROR:CRASH: 15 0x7FF756ABF6C0 dmMessage::InternalDispatch D:\\a\\defold\\defold\\engine\\dlib\\src\\dlib\\message.cpp:573\r\n\r\nERROR:CRASH: 16 0x7FF756A58480 dmGameObject::Update D:\\a\\defold\\defold\\engine\\gameobject\\src\\gameobject\\gameobject.cpp:2582\r\n\r\nERROR:CRASH: 17 0x7FF756ACF3E0 dmEngine::StepFrame D:\\a\\defold\\defold\\engine\\engine\\src\\engine.cpp:1615\r\n\r\nERROR:CRASH: 18 0x7FF756ACA490 dmEngineUpdate D:\\a\\defold\\defold\\engine\\engine\\src\\engine.cpp:2150\r\n\r\nERROR:CRASH: 19 0x7FF756ACFE90 dmEngine::RunLoop D:\\a\\defold\\defold\\engine\\engine\\src\\engine_loop.cpp:83\r\n\r\nERROR:CRASH: 20 0x7FF7569E6990 engine_main D:\\a\\defold\\defold\\engine\\engine\\src\\engine_main.cpp:148\r\n\r\nERROR:CRASH: 21 0x7FF756D54FE4 __scrt_common_main_seh D:\\a\\_work\\1\\s\\src\\vctools\\crt\\vcstartup\\src\\startup\\exe_common.inl:288\r\n\r\nERROR:CRASH: 22 0x7FF8101E7330 BaseThreadInitThunk <unknown>:0\r\n\r\nERROR:CRASH: 23 0x7FF810C62690 RtlUserThreadStart <unknown>:0\r\n```\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2024-02-07T10:43:12.794405<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>beta<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>bd3b7ff0aba50163ab8485ac76fba1ee681c5d36<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>bd3b7ff0aba50163ab8485ac76fba1ee681c5d36<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.4<\/td><\/tr>\r\n<tr><td>GPU<\/td><td>NVIDIA GeForce GTX 1060 6GB\/PCIe\/SSE2<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 NVIDIA 551.23<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":["Wow, pretty harsh with that crash. Hmm, on macOS I get:\r\n\r\n`PANIC: unprotected error in call to Lua API (attempt to index a nil value)`\r\n\r\nThe error comes from `lauxlib.c`: https:\/\/github.com\/defold\/defold\/blob\/dev\/engine\/lua\/src\/lua\/lauxlib.c#L641\r\n\r\n"],"labels":["bug","engine","lua"]},{"title":"Editor crash upon loading malformed collection","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Background\r\nWriting editor scripts to generate a collection. The issue is most likely due to the collection file being malformed after the generation. The issue disappears if the collection is removed.\r\n\r\n### Expected behaviour\r\nA (potentially helpful) error message stating the issue with the collection. \r\n\r\n### Actual behaviour\r\nThe editor (I presume) crashes while loading the asset, and throws quite a bit of java errors when opening the file in the editor. \r\n\r\n### Steps to reproduce\r\n[My Project.zip](https:\/\/github.com\/defold\/defold\/files\/14277469\/My.Project.zip)\r\n\r\nOpen the project through the defold project manager. \r\nOr drop the `audio_test.collection`file into an empty project and open it. \r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2024-02-13T13:38:18.531113<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>553487eb9c84a23b6ddd2afcba0ff6085784a5fa<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>4d724d91839eb6c42e078cfe4f7e95e08f69a48f<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.4<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"42c0593cec214c90b5b0f47764ba3aa3\"'>42c0593cec214c90b5b0f47764ba3aa3<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>NVIDIA GeForce GTX 1660 SUPER\/PCIe\/SSE2<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 NVIDIA 472.80<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":["I tracked the malformed issue down to the embedded instance `sfx` having a child that didn't exist. For ctrl+f:ing it `  children: \"clang\"`","Ah, yeah, if the data is malformed we can't guarantee anything. We should fail gracefully though and not crash. Also, I think we want a set of editor scripts to help with data creation."],"labels":["bug","editor","editor scripts"]},{"title":"Physics crash when using both primitive and tilemap shapes","body":"Crash occurs when you set up the collision shape property and add the shape to the collision component.\r\n\r\nMinimal repro case project is attached.\r\n[collision_shape_crash.zip](https:\/\/github.com\/defold\/defold\/files\/14270168\/collision_shape_crash.zip)\r\n","comments":["You can't use both a tilemap shape and a primitive shape at the same time. We should make sure that the editor prevents this.","```\r\nERROR:CRASH: CALL STACK:\r\nERROR:CRASH: 0   dmengine                            0x00000001004e1304 _ZN7dmCrash7OnCrashEi + 104\r\nERROR:CRASH: 1   libsystem_platform.dylib            0x00000001869f5a24 _sigtramp + 56\r\nERROR:CRASH: 2   dmengine                            0x0000000100305098 _ZN12dmGameSystem16AcquireResourcesEPNS_14PhysicsContextEPN10dmResource16SResourceFactoryEPKvjPNS_23CollisionObjectResourceEPKc + 1148\r\nERROR:CRASH: 3   dmengine                            0x00000001003053f4 _ZN12dmGameSystem24ResCollisionObjectCreateERKN10dmResource20ResourceCreateParamsE + 88\r\nERROR:CRASH: 4   dmengine                            0x00000001002cb598 _ZN10dmResourceL16DoCreateResourceEPNS_16SResourceFactoryEPNS_13SResourceTypeEPKcS5_yPvjPS6_ + 184\r\nERROR:CRASH: 5   dmengine                            0x00000001002cbafc _ZN10dmResource3GetEPNS_16SResourceFactoryEPKcPPv + 788\r\nERROR:CRASH: 6   dmengine                            0x00000001002c2068 _ZN12dmGameObjectL16AcquireResourcesEPN10dmResource16SResourceFactoryEPNS_8RegisterEPN15dmGameObjectDDF13PrototypeDescEPNS_9PrototypeEPKc + 284\r\nERROR:CRASH: 7   dmengine                            0x00000001002c1ce4 _ZN12dmGameObjectL19ResGameObjectCreateERKN10dmResource20ResourceCreateParamsE + 96\r\nERROR:CRASH: 8   dmengine                            0x00000001002cb598 _ZN10dmResourceL16DoCreateResourceEPNS_16SResourceFactoryEPNS_13SResourceTypeEPKcS5_yPvjPS6_ + 184\r\nERROR:CRASH: 9   dmengine                            0x00000001002cbafc _ZN10dmResource3GetEPNS_16SResourceFactoryEPKcPPv + 788\r\nERROR:CRASH: 10  dmengine                            0x00000001002c1578 _ZN12dmGameObjectL16AcquireResourcesEPKcPN10dmResource16SResourceFactoryEPNS_8RegisterEPN15dmGameObjectDDF14CollectionDescES1_PPNS_16CollectionHandleE + 396\r\nERROR:CRASH: 11  dmengine                            0x00000001002c1114 _ZN12dmGameObjectL19ResCollectionCreateERKN10dmResource20ResourceCreateParamsE + 52\r\nERROR:CRASH: 12  dmengine                            0x00000001002cb598 _ZN10dmResourceL16DoCreateResourceEPNS_16SResourceFactoryEPNS_13SResourceTypeEPKcS5_yPvjPS6_ + 184\r\nERROR:CRASH: 13  dmengine                            0x00000001002cbafc _ZN10dmResource3GetEPNS_16SResourceFactoryEPKcPPv + 788\r\nERROR:CRASH: 14  dmengine                            0x00000001002a1a40 _ZN8dmEngine4InitEPNS_6EngineEiPPc + 7872\r\nERROR:CRASH: 15  dmengine                            0x00000001002a283c _Z14dmEngineCreateiPPc + 172\r\nERROR:CRASH: 16  dmengine                            0x00000001002a348c _ZN8dmEngine7RunLoopEPKNS_13RunLoopParamsE + 84\r\nERROR:CRASH: 17  dmengine                            0x00000001002a3388 _Z11engine_mainiPPc + 88\r\nERROR:CRASH: 18  dyld                                0x00000001866450e0 start + 2360\r\nERROR:CRASH: \r\n","We should detect and fail builds and make the properties field red in the editor."],"labels":["bug","editor","physics","quick win?"]},{"title":"With shared state enabled, gui_script's fixed_update is called, and in fixed_update \"#\" posts to the GO's script instead of the gui_script","body":"**Describe the bug (REQUIRED)**\r\nWith project setting `script.shared_state = 1`, if a gui_script has a `fixed_update` function, it will be called. Neither the [manual](https:\/\/defold.com\/manuals\/gui-script\/) or [API docs](https:\/\/defold.com\/ref\/stable\/gui\/) show `fixed_update` as a valid function for gui_script.\r\n\r\nIf the gui_script posts a message to `\"#\"` from `fixed_update`, it will be sent to the GO's script instead of itself. If the gui_script explicitly specifies the name of itself, e.g. `\"#my_gui\"`, it will be sent to itself as expected.\r\n\r\nWith two gui_scripts, A and B, the A's `fixed_update` function may get called for both A and B.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Download this minimal repro case project and run it: https:\/\/github.com\/redoak\/defold-gui-fixed-update-bug\r\n2. Notice the issue as illustrated in the console output\r\n3. Disable shared state, rename the gui_scripts' `fixed_update` to `update`, and run it again\r\n4. Notice that the messages now arrive at the gui_script as expected\r\n\r\nSteps to reproduce function mix-up behavior:\r\n1. Download this minimal repro case project and run it: https:\/\/github.com\/redoak\/defold-gui-fixed-update-bug-nr2\r\n2. Notice that in the console output you end up with two `gui_script_1 fixed_update`, but that the messages posted from `fixed_update` are received by gui_script_1 and gui_script_2 as expected:\r\n```\r\ngui_script_1 on_message: from gui_script_1 fixed_update\r\ngui_script_2 on_message: from gui_script_1 fixed_update\r\n```\r\n\r\n**Expected behavior (REQUIRED)**\r\nThe shared state setting should not affect if gui_scripts get calls to `fixed_update` \u2014 it should be called always or never. If gui_scripts should support `fixed_update`, message addressing should work as normal.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.3\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows\r\n - OS: Windows 10\r\n - Device: None, didn't test","comments":["I simplified issue 2:\r\n\r\n[defold-gui-fixed-update-bug-nr2-main 3.zip](https:\/\/github.com\/defold\/defold\/files\/14277284\/defold-gui-fixed-update-bug-nr2-main.3.zip)\r\n\r\nI have one collection with two game objects, each with its own gui component and gui script with a fixed_update(). Both game objects have the same empty dummy1.script attached.\r\n\r\n<img width=\"345\" alt=\"Screenshot 2024-02-14 at 09 52 18\" src=\"https:\/\/github.com\/defold\/defold\/assets\/1300688\/ab22878a-ca5d-4a2b-ae4d-c8906a1c38c1\">\r\n\r\nIn this scenario both game objects seem to be calling the fixed_update() of the first gui script!\r\n\r\n```\r\nDEBUG:SCRIPT: gui_script_1 fixed_update\turl: [main:\/gui_1#dummy1]\r\nDEBUG:SCRIPT: gui_script_1 fixed_update\turl: [main:\/gui_2#dummy2]\r\n```\r\n","Note that if you change so that the two game objects use one script each (dummy1.script and dummy2.script) everything works as expected."],"labels":["bug","engine"]},{"title":"Flip sprite in editor(hflip and vflip)","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI need to use flip sprites when make character hierarchy for game.\r\n![2024-02-07_11-07-06](https:\/\/github.com\/defold\/defold\/assets\/2655263\/43bc80f2-b55d-45da-bf75-d76a41d0d9c6)\r\n\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nAdd hflip and vflip in editor\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nUse negative scale\r\n\r\n**Additional context (OPTIONAL):**\r\nAdd any other context or screenshots about the feature request here.\r\n","comments":["As I know you can use rotation to flip sprite.\r\n<img width=\"1432\" alt=\"Screenshot 2024-02-07 at 10 31 00\" src=\"https:\/\/github.com\/defold\/defold\/assets\/770105\/a61f71b8-da95-4e93-803c-af1a98f1dfeb\">\r\nFor vflip: rotation = (0, 180, 0)\r\nFor hflip: rotation = (180, 0, 0)\r\n"],"labels":["feature request","editor","sprite"]},{"title":"Undoable io.open() for editor scripts","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nThere are currently two ways to make changes to assets through editor scripts. First one is through shell scripts, second is through io.open(). Having the possibility to undo changes made with editor scripts would increase the usability of them a lot, and would make it possible to automate processes like bulk adding sound fx, or generating a collection from a set of data. \r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nPotential solutions:\r\n- io.open() \/ the saving counterpart becomes part of the undo stack when used in editor scripts\r\n- a way to add a step to the undo stack\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\n- a lot of small commits in git\r\n\r\n**Additional context (OPTIONAL):**\r\n[Idea came from from this issue](https:\/\/github.com\/defold\/defold\/issues\/8504)\r\n[Docs for edit scripts regarding io.open()](https:\/\/defold.com\/manuals\/editor-scripts\/#mixing-actions-and-side-effects)\r\n[Monarch creating assets](https:\/\/github.com\/britzl\/monarch\/blob\/master\/monarch\/editor-script\/make_monarch.editor_script)","comments":["What is the problem you are trying to solve by writing to a file with `io.open()`?","Background:\r\nI use debeat as my tool for audio. To use it in the event driven style, you have to create a sound component for every sound and then set the path to each sound. Manually. \r\n\r\nCase:\r\nGenerate a collection based on file structure within the editor. I have a folder with the sounds `slash1.ogg`, `slash2.ogg`, `slash3.ogg` and so on, and with a script I would like to within a specific collection create a game object for the folder, then add a sound component for each sound and then set the sound file as the source for each component. `io.open()`, except for shell scripts, is the only way I know of that can make large modifications to a collection like that."],"labels":["feature request","editor","editor scripts"]},{"title":"Add Chain Shape for box2d","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\n\r\nit's needed to be able to make 2d HillClimb-like games\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nAn ability to create and edit Chain Shapes\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nthe only way to do so now is to create many boxes or something like that\r\n\r\n**Additional context (OPTIONAL):**\r\nAdd any other context or screenshots about the feature request here.\r\n","comments":[],"labels":["feature request","physics"]},{"title":"Editor's scripting proposal","body":"_Is it a private platform specific feature? (i.e. would it break your NDA?)<br>_\r\nNo\r\n\r\n**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nSome of project\/extensions should make assets generation\/modification. Introduce new API which add possibility to generate\/modify project's assets.\r\n\r\n**Use cases:**\r\n1. Editor scripts which update atlas with all images from folder\r\nYou add\/remove image - with editor's script you list all images from folder and recreate atlas asset with new API.\r\n\r\n2. Generate \"spawner\" objects\r\nFor example, you have some king of strategy game. In your game you can create new type of units manually and after that you should update game object that used to spawn new unit type in runtime. I mean you should add new factory\/collectionfactory component to \"spawner\" object.\r\n\r\n3. Extend previous case - generate game objects\/collections from balance table\r\nFor example, you have some Excel\/Google sheets tables that can be exported to csv and stored inside repository. During build phase you need to generate game objects\/collections\/other assets related to balance table. It helps to make assets to be consistent with balance tables.\r\n\r\n4. Generate collection for level\r\nFor example, you used Photoshop to combine different sprites and create a game level. Use tool like PsdSplit to create a bunch of sprites and xml description with sprite position. After that use editor's script to create set of game objects, atlas with all sprites and level collection where you place game objects in the right place according to xml description.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nExpose more API in editor's script for:\r\n1. Creating all type of assets: atlas, game object, collection, etc.\r\n2. Modify assets: \r\n2a. add\/remove components\r\n2b. modify atlas content\/settings\r\n2c. modify game objects hierarchy inside collection\r\n2d. change component properties\r\n3. Iterating over nested data\r\n4. Getting component\/game object\/piece of data via id (see example below)\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nYou can use any external scripted or compiled language to create external tool to generate\/modifying assets. For now workflow can be looked like:\r\n1. Download defoldsdk.zip according to pinned version\r\n2. Unzip archive\r\n3. Generate code for certain language from proto definitions (if it scripting language like Python) (optional)\r\n4. Run script or compiled program to make asset generation\/modification\r\n\r\n**Additional context (OPTIONAL):**\r\nSome examples how it can be looks like:\r\n1. Group game object as children of newly created empty game object\r\n```\r\nlocal work_collection = assets.get_collection(\"\/main\/test\/main.collection\")\r\nlocal new_parent = assets.collection.create_game_object(\"new_parent_id\")\r\nfor id, game_object in pairs(work_collection.get_game_objects()) do\r\n    if string.find(id, \"tile_\") then\r\n        assets.collection.set_parent(game_object, new_parent, {}) --- some additional options\r\n    end\r\nend\r\nassets.save(work_collection, assets.get_path(work_collection)) --- can be assets.save(work_collection, \"<path_to_new_asset_location\")\r\neditor.complete_transaction() --- resync editor's state\r\n```\r\n\r\n2. Add all images from folder to atlas\r\n```\r\nlocal atlas_path = \"\/main\/atlases\/rgb\/level1\/tiles.atlas\"\r\nlocal images = editor.list_directory(\"\/assets\/level1\/tiles\/\")\r\neditor.remove(atlas_path)\r\nlocal atlas_asset = assets.create_atlas()\r\natlas.margin = 2\r\natlas.padding = 1\r\natlas.extrude_border = 2\r\nfor _, image_path in ipairs(images) do\r\n    assets.atlas.add_image(atlas, image_path, assets.atlas.TRIM_MODE.VERTICES_7) -- last parameter can be optional\r\nend\r\nassets.save(atlas, atlas_path)\r\neditor.complete_transaction()\r\n```\r\n\r\n\r\n\r\n","comments":["This might not be entirely what you have in mind, but currently you can [add menu items](https:\/\/defold.com\/manuals\/editor-scripts\/#commands). This is what monarch does with it's scene creation. Monarch is actually doing some file modification with it's menu item, it might be worth taking a peek into [this file](https:\/\/github.com\/britzl\/monarch\/blob\/master\/monarch\/editor-script\/make_monarch.editor_script).\r\n\r\nSo you can modify every asset (though the action is not undoable) in your project (which includes generating stuff for collections). It just takes a lot of wiggling around with the asset files. So maybe a nice lua wrapper for editing asset data could be a way of achieving what you want to do?\r\n\r\nThen the flow would be something along the lines of \r\ndefold menu item ->\r\nread the asset file ->\r\nmodify whatever you want with it (remember that this works with collections as well!!) ->\r\nsave the modified asset file ->\r\nprofit","Yes, every assets modification can be done via plain lua because assets store tin text form of protobuf. It can be done like make string template with placeholders and replacing it (something like monarch do https:\/\/github.com\/britzl\/monarch\/blob\/master\/monarch\/editor-script\/make_monarch.editor_script#L117). But it become harder to do when you operate with complex structure. For example, storing component description in `data` field (like https:\/\/github.com\/britzl\/monarch\/blob\/master\/example\/advanced\/menu.collection#L87)\r\n\r\nThose proposal is more about providing API to work with assets because under the hood every asset is simple protobuf structure. Also when you work with assets via API you don't depend on how asset stored. I mean any changes to protobuf structure doesn't break you script because you don't use string template. ","Thank you for the suggestion @ekharkunov!\r\n\r\nMe and @matgis discussed your feature request. We conclude that editor extensions should be expanded, and modifying components is a very useful extension point. There might be different approaches to providing an API for the functionality, e.g. using an imperative API, using transactions similar to how we have a `\"set\"` action, or using some blend of it as we are considering in #8427.\r\n\r\nWe also agree that working with resources as simple data structures (which the protobufs are) is useful, although some trade-offs need to be considered first. We store the data in the editor data graph in a relational way, so fine-grained transactions may propagate and update the related references. This means that while the approach of modifying the whole structure in a single step is simpler for the user, in some cases, it might lead to broken references. We still think this is very useful, so we might implement it in the future, but we generally want the main API to be more fine-grained.\r\n\r\nRegarding building Defold resources from user data formats like Excel sheets: this is a slightly different functionality than the use cases 1 and 2. For such builders, we probably want to support them both in the editor and Bob. This idea was on the back of our minds for some time already, see #4503. We want this feature eventually, but we haven't decided on the exact implementation yet.\r\n\r\nWe will keep your suggestion in mind when deciding what to do next for the editor scripts!","Poking my head in here only to mention that one of the first editor-scripts I created was one that adds images to atlases. If you are looking for that functionality.\r\n\r\nhttps:\/\/github.com\/Jerakin\/editor-script-atlas\r\n\r\nAnd +1 to improving editor scripting in general!"],"labels":["feature request","editor","editor scripts"]},{"title":"PlayStation controllers (DualShock 4 and DualSense) incorrectly yielding raw input on axis 4 and 5","body":"I've got a brand new DualShock 4. Tested on https:\/\/hardwaretester.com\/gamepad :\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/24439991\/5ac45f39-dac2-48fe-9193-ac8f79a4011c)\r\n\r\nHowever, in Defold, the raw input yields -1 on axis 4 and 5. A pprint of the raw action shows:\r\n```\r\ngamepad_axis = { --[[0000015C7796B840]]\r\n    1 = 0,\r\n    2 = 0,\r\n    3 = 0,\r\n    4 = -1,\r\n    5 = -1,\r\n    6 = 0,\r\n    --rest trimmed for readability\r\n  },\r\n```\r\n\r\nIt's fine once a gamepad mapping is applied, but may be an issue in the future with other gamepad models. For example, this unexplained raw input made my custom gamepad mapping tool fail until I manually ignored it. Not sure how gdc handles it (I haven't been able to run it).","comments":["> However, in Defold, the raw input yields -1 on axis 4 and 5\r\n\r\nYou mean that the axis is -1 even when you don't touch anything on the controller?","> You mean that the axis is -1 even when you don't touch anything on the controller?\r\n\r\nYes, exactly.","What platform is this on?","Windows. My bad - thought I had mentioned that for sure! Happens on at least 4 machines (all I've tested).","in our mappings we have GAMEPAD_MODIFIER_NEGATE and GAMEPAD_MODIFIER_CLAMP to solve such issues:\r\nhttps:\/\/github.com\/defold\/defold\/blob\/82425b87b2d120169561692a8f8280023f216be4\/engine\/input\/src\/input.cpp#L1034-L1041\r\n\r\nSo, I think this is exactly what driver sends to us. Maybe browser solves it internally.\r\nDid you try Defold HTML5 bundle with raw input and see? Because browsers have their own layer between driver and html5 app, and it's not right to compare windows raw data with browsers data."],"labels":["bug","engine","input"]},{"title":"Tilemap tiles z-sorting for pseudo 3D games like classic Pok\u00e8mon","body":"Tilemap layers can be z-sorted statically. It works great for platformers and games where tilemap layers are always in the background and layers that are always in the foreground. But can't be used in pseudo 3D maps where a tile may hide a moving character, like this:\r\n\r\n![imagen](https:\/\/github.com\/defold\/defold\/assets\/973927\/a466404a-1129-4d9e-add0-543812b4f8cc)\r\n\r\nwhere top of the tree hides part of the character, or here:\r\n\r\n![imagen](https:\/\/github.com\/defold\/defold\/assets\/973927\/5f213828-7569-42c0-a9d3-669d217fc1c5)\r\n\r\nwhere both rats are partially covered by an element in the tilemap that, given this fake perspective, is in front of them.\r\n\r\nUsually these tricks work because individual tiles are y\/z-sorted (depending on the engine) independently.\r\n\r\nI'm attaching a demo project which shows this effect. As seen in the next capture, the character is sorted properly in relation to the lower wall, but can't be sorted in relation to the upper wall. If you run the project you'll see its z being printed in the console. Can be moved around with WASD\r\n\r\n![sorting](https:\/\/github.com\/defold\/defold\/assets\/973927\/adc2763b-a9aa-47ba-b0df-329755b8d046)\r\n[TilemapSortingTest.zip](https:\/\/github.com\/defold\/defold\/files\/14166065\/TilemapSortingTest.zip)\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\n\r\nIn order to get this effect, tilemap TILES (as opposed to layers), require being able to be z-sorted independently, ideally automatically or, as other engines do, when a certain checkbox is ticked.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\n\r\nA temporal solution is not using built-in tilemap and use one regular game object with a sprite and a z-sorting script, but then the power of the tilemap editor is lost and all tiles require being updated to be sorted.\r\n\r\n\r\n","comments":[],"labels":["feature request","tilemap"]},{"title":"Orthographic Zoom should affect frustum box visualization for camera component","body":"Currently Orthographic Zoom does not affect the frustum visualization for camera component in Defold Editor. The Near and Far planes are affecting it, but not zoom.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nWidth and height of frustum box for orthographic camera representation is affected by Orthographic Zoom property of camera component.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\n-\r\n\r\n**Additional context (OPTIONAL):**\r\nRelated: https:\/\/github.com\/defold\/defold\/issues\/3227\r\n","comments":[],"labels":["feature request"]},{"title":"Adding Sprite Mask support natively instead of using shader workarounds.","body":"Defold is a great engine, especially for making 2d games. I know that Defold's general philosophy is that it gives you the fundamental building blocks, and you add them as you need it. But I believe having Sprite Mask's are needed quite often enough to consider out of the box support for it. (Slot games, creating splash effects on ground\/walls with mask\/ making a detective games with hidden items etc... examples vary I believe). \r\n\r\nI would personally would like to be able to set it from editor via url, also set it dynamically in code in runtime.\r\n\r\nhttps:\/\/forum.defold.com\/t\/how-to-mask-clipping-a-sprite\/28706\r\nhttps:\/\/forum.defold.com\/t\/another-sprite-masking-question\/69203\r\nhttps:\/\/forum.defold.com\/t\/solved-how-to-make-sprite-only-visible-in-certain-rectangle-area\/70925\r\nhttps:\/\/github.com\/jhonnyking\/my-public-defold-examples\/tree\/master\/sprite-masking\r\n\r\nVarious questions about it and also I could find two custom solutions for it, one is altering with the stencil buffer via rendering scripts and other just hardcodes the sprite area to shader. I believe having a more unified solution would be nicer. I think while both solutions are nice and can save the day, having this by default would make more sense.\r\n\r\nIt does not have to be built in exactly to the editor I believe. It would be more than enough if it was a defold asset\/extension with some documentation and design for general use.\r\n","comments":[],"labels":["feature request","engine","render"]},{"title":"Add a way to run bob with a specific list of updated resources","body":"The build time with bob is longer than in Defold Editor.\r\n\r\nThis is noticeable when using the [Defold Kit](https:\/\/github.com\/astrochili\/vscode-defold) VS Code extension, which uses bob to build and run the game for debugging. But in this case, when using Defold Kit most often you don't need to rebuild all the resources, only the modified ones, like it works in Defold Editor.\r\n\r\nTracking of changed files is possible in VS Code, there is an API for that. So adding tracking to Defold Kit should not be difficult. \r\n\r\nThis feature request is about adding some API for bob to rebuild only the list of changed resources and not waste time on unchanged ones. I realise it's low priority, but added this issue to have it.\r\n\r\nRelated issue \u2014 https:\/\/github.com\/astrochili\/vscode-defold\/issues\/33.","comments":["I would love to see bob incremental builds- I also build using bob, but mostly via shell scripting. I would really love if bob's output included a cache of file modification times or some other data so that I could run bob incrementally as long as that cache persisted. I maintain multiple concurrent build directories (client \/ server) so this would need to be cached by build. I see there's already a `_BobBuildState_` file in there- is this something that's already being tracked perhaps?","Take a look at https:\/\/defold.com\/manuals\/caching-assets\/. Maybe it will be helpful.","> Take a look at https:\/\/defold.com\/manuals\/caching-assets\/. Maybe it will be helpful.\r\n\r\nYep, adding a local cache will surely help a bit. But I suppose one problem with bob compare to the editor is that the editor is loaded, ready and has the full project state in memory, which makes it really fast to rebuild changed assets. Bob on the other hand need to start a java vm, load the classes of bob.jar, load the entire project and the build it. I would like to point out that bob will not rebuild something that is already built, but it does ofc have to do some processing (read file and measure checksums) to figure out if it has to be rebuilt or not.","> Yep, adding a local cache will surely help a bit.\r\n\r\nIs this the equivalent of running the `build` command without the `distclean` command? I thought there was a cache in the `\/build\/` folder, which is reused when you run `bob build` again.","May be we need measurements of some large project to see what takes the longest.\r\n\r\nI don't have huge projects. My small ones with a dozen collections, several atlases and half a hundred lua scripts take 5 to 15 seconds to build second time, which is acceptable to me. But in the editor, yes, it is faster, takes about 2-3 seconds.\r\n\r\n@swajj As far as I know you have not a small project. Maybe you could share the build log measurements?","Bob already supports incremental builds. It does so by using a cache.\r\n\r\nAre you sure you're not calling it with the `clean` command?\r\nIf doing so, it will rebuild all content.\r\n\r\nAlso note that bob was\/is designed to be run once, not to be run as a server (like the editor), so you'll always pay for the startup time (compare with the loading of a project in the editor).\r\n\r\nI'm not sure what we can do to speed up the initial loading of the project when starting bob.\r\n\r\n","Also, the process is more complex than simply checking if a file has changed to decide on a rebuild. As Bj\u00f6rn mentioned:\r\n\r\n> but it does of course have to do some processing (read the file and measure checksums) to figure out if it has to be rebuilt or not.\r\n\r\nHowever, it involves more than just reading the file and getting its checksum. We run the `create` stage for each builder (see `@Override public Task<Void> create(IResource input)` in each `*Builder.java`). This is crucial because the system does not operate on a `one input -> one output` basis. Some inputs produce multiple outputs, and some outputs require multiple inputs. Additionally, there are dependencies, where one output can be utilized as an input for another resource tree node.\r\n\r\nThe editor maintains the dependency tree in memory and always knows exactly what needs to be rebuilt at any point in time. Bob, on the other hand, cannot do this and must read this tree from the project files all the time (that's what the `create()` function in each builder does). That's what takes most of the time. You can check it yourself by producing html build report.","> Are you sure you're not calling it with the clean command?\r\n\r\nSure, there is a difference. I don't have large projects, so maybe my measurements aren't representative, but I tried to record 4 logs and separate in them intervals that either take appreciable time or are very different between the first and second builds.\r\n\r\n- [catsday_clean.log](https:\/\/github.com\/defold\/defold\/files\/14181845\/catsday_clean.log) \u2014 a clean first build of [**catsday**](https:\/\/astronachos.com\/catsday\/).\r\n- [catsday_second.log](https:\/\/github.com\/defold\/defold\/files\/14181844\/catsday_second.log) \u2014 a second build of **catsday** without cleaning.\r\n- [walker_clean.log](https:\/\/github.com\/defold\/defold\/files\/14181846\/walker_clean.log) \u2014 a clean first build of [**walker**](https:\/\/github.com\/astrochili\/defold-kinematic-walker).\r\n- [walker_second.log](https:\/\/github.com\/defold\/defold\/files\/14181847\/walker_second.log) \u2014 a second build of **walker** without cleaning.\r\n\r\nDespite saving on matches (I'm personally happy with the current build time anyway), what can we see here that's interesting? The first number is clean build and the second is an incremental build.\r\n\r\n### Total for  **catsday** \u2014 **7.8 vs 7.4** seconds \ud83e\udd37\u200d\u2642\ufe0f.\r\n- `0% to 99%` \u2014 4.1 vs 1.3 seconds \u2705.\r\n- `99% to 100%` \u2014 1.0 vs 4.5 seconds \ud83e\udd37\u200d\u2642\ufe0f.\r\n- `other`  \u2014 2.7 vs 1.6 seconds \u2705.\r\n \r\n### Total for **walker** \u2014 **3.8 vs 1.7** seconds \u2705.\r\n- `0% to 99%` \u2014 2.2 vs 0.6 seconds \u2705.\r\n- `99% to 100%` \u2014 0.6 vs 0.1 seconds \u2705.\r\n- `other` \u2014 1.0 vs 1.0 seconds \u2705.\r\n\r\nSo, I don't know, if `0% to 99%` is what is cached and the rest is environment initialization, then there's really nothing to speed up.\r\n\r\n","Yeah, not sure what things are processed in the actual last bit (99% to 100%), and it seems worth investigating.\r\nSo, same end goal, but a slightly different task."],"labels":["feature request"]},{"title":"Defold gui file editor crash","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\n\r\n### Actual behaviour\r\n\r\n### Steps to reproduce\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-10-10T06:48:54.384007<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>dev<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>aa5089a770bba1605be131cf46d32784dc37a597<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>aa5089a770bba1605be131cf46d32784dc37a597<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.5.0<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"2cc0e5cb4d324716ac6428ab2385f9ac\"'>2cc0e5cb4d324716ac6428ab2385f9ac<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Apple M1 Max<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>2.1 Metal - 83.1<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>x86_64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Mac OS X<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>13.6.4<\/td><\/tr>\r\n<table>","comments":["If gui file opened after game is built, ALWAYS get this error, and cant navigate gui files"],"labels":["editor"]},{"title":"Add QuatToEuler and EulerToQuat in dmVMath","body":"I spend a lot of time trying to impelemt quat->euler and euler->quat convertion in lua.\r\nMy functions worked but not always)\r\n\r\nMy cases:\r\n1)For BlockyUniverse i use quat->euler convertion to make hp bar in gui always look in camera.(gui only worked with euler)\r\n2) For Blocky Fighting i try to remove roll from quaterion. So i need to convert euler in quat, remove roll, convert euler to quat back.\r\n( try to fix how items look in player hand, this not worked but i try that)\r\n\r\nYou already have that function in engine:\r\nhttps:\/\/github.com\/defold\/defold\/blob\/a11256553ef4bce0f534c227769f6eacd1583ea3\/engine\/dlib\/src\/dlib\/vmath.h#L82\r\nhttps:\/\/github.com\/defold\/defold\/blob\/a11256553ef4bce0f534c227769f6eacd1583ea3\/engine\/dlib\/src\/dlib\/vmath.h#L142\r\n\r\n\r\nMy suggestions:\r\n1)Add QuatToEuler and EulerToQuat in native api <[dmsdk\/dlib\/vmath.h](https:\/\/github.com\/defold\/defold\/blob\/dev\/engine\/dlib\/src\/dmsdk\/dlib\/vmath.h)>\r\n2)Add quat_to_euler and euler_to_quat in vmath(lua)\r\n\r\n\r\nWorkaround\r\ncopy QuatToEuler and EulerToQuat in native library\r\n\r\n\r\n","comments":["Sure, this makes sense! Would you like to create a PR @d954mas ?","I can.\r\nWhat is the best way to include?\r\n\r\nThis functions inline in vmath.h with other includes and function.\r\n\r\nIf I include vmath.h in public api it will be add unnecessary lines","> What is the best way to include?\r\n\r\nGood question! Let's get some feedback from @JCash "],"labels":["feature request","engine","dmsdk"]},{"title":"Editor collection view grid color bug","body":"\r\n\r\nWhen working with a quad that displays a render target and adding a second texture to the model the grid in scene view changes its color.\r\n\r\n![gridcolor_bug](https:\/\/github.com\/defold\/defold\/assets\/28400489\/e92f91df-6009-40f1-8b6e-7311fa0e440a)\r\n\r\n\r\n**To Reproduce:**\r\nIn the repro example provided below, you can open the main collection.\r\ngo to the water game object then select the quad model and in the properties remove dismap texture or add another image and the grid and background color of the collection scene view will change.\r\n\r\n**Expected behavior**\r\nThe grid and collection scene view should be rendered as expected.\r\n\r\n**Defold version:**\r\n  - Version 1.6.3\r\n\r\n**Platforms:**\r\n - Platforms: Windows\r\n - OS: Windows10\r\n - Device: [PC]\r\n\r\n**Minimal repro case project :**\r\n[sample_water_effect.zip](https:\/\/github.com\/defold\/defold\/files\/14099304\/sample_water_effect.zip)\r\n\r\n","comments":[],"labels":["bug","editor"]},{"title":"Make sure model's textures are properly preloaded asynchronously","body":"Also see if we can add a test (in e.g. gamesys) to make sure it contains the textures.\r\n\r\n**Task (REQUIRED):**\r\nA clear and concise description of the task.\r\n\r\n**Expected outcome (REQUIRED):**\r\nDescribe the expected outcome of the task (new issue, documentation, code change etc)\r\n","comments":[],"labels":["task","engine"]},{"title":"Investigate if we can remove begin\/end dispatch calls for empty batches","body":null,"comments":[],"labels":["task","render"]},{"title":"Long time waiting while working with animations","body":"Describe the bug (REQUIRED)\r\nWhen working with animations in Defold, the system experiences significant performance issues. Actions such as copying, deleting, and moving elements upwards cause the computer to freeze for a few seconds.\r\n\r\nTo Reproduce (REQUIRED)\r\nSteps to reproduce the behavior:\r\n\r\nOpen a project in Defold.\r\nWork with animations (e.g., create\/edit animations).\r\nPerform actions like copying, deleting, or moving elements.\r\nObserve the system lagging or freezing.\r\nExpected behavior (REQUIRED)\r\nThe expected behavior is smooth and responsive performance when working with animations, without causing the system to freeze or lag.\r\n\r\nDefold version (REQUIRED):\r\n\r\nVersion 1.6.3\r\nPlatforms (REQUIRED): Windows 10\r\n\r\nPlatforms: [Please list the platforms you are experiencing this issue on, e.g., Windows, macOS]\r\nOS: Windows 10\r\nDevice: Desktop PC\r\n\r\n\r\nWorkaround (OPTIONAL):\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/27631293\/36ea8940-bb7a-4514-a7b5-46d04e20d704\r\n\r\n","comments":["Editor should re-calculate layout only when: Margin or Borders changed, and sprite added\/removed."],"labels":["bug","editor","performance"]},{"title":"Platform specific settings for Linux","body":"_Is it a private platform specific feature? \r\nNo.\r\n\r\n**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nYes. I can't currently change any settings related to the Linux platform.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI'd like to be able to set Linux specific settings in the game.project file, similar to how I'd change the settings for Windows or OSX.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nI could always try to edit the Linux application bundle after it was exported by the engine.\r\n\r\n**Additional context (OPTIONAL):**\r\nI'd just like a tab that says Linux:\r\n\r\n![Screenshot from 2024-01-29 09-47-40](https:\/\/github.com\/defold\/defold\/assets\/34652519\/80d69de8-32b5-4c5b-954c-1a51ead29f62)\r\n\r\n\r\n","comments":["Could you please specify which specific Linux settings you are missing?","I'd like to be able to specify an app icon and the name of the program.","> specify an app icon\r\n\r\nDo you know if there is there a standard for this on Linux?\r\n\r\n> the name of the program\r\n\r\nI believe the project title will be used for the name of the program.","> Do you know if there is there a standard for this on Linux?\r\n\r\nI have no idea. I'm not well versed in how the low level things work, especially not OS specific APIs.\r\n\r\n> I believe the project title will be used for the name of the program.\r\n\r\nThe outputted name gets stripped of all spaces and \".x86_64\" gets concatenated at the end. It's not the biggest issue since I could manually edit the name of the executable afterwards.","> The outputted name gets stripped of all spaces and \".x86_64\" gets concatenated at the end.\r\n\r\nWe sanitize the project title such that it becomes a string which is guaranteed to be acceptable as a filename. The sanitizer is a bit strict though, as you've seen. Not sure why we add .x86_64 at the end though, seems unnecessary.\r\n\r\n> I have no idea. I'm not well versed in how the low level things work, especially not OS specific APIs.\r\n\r\nIt seems like one way is to put the app icon in `\/usr\/share\/icons` or `~\/.local\/share\/icons` but since we do not use an installer it is not helpful.\r\n\r\nIt seems like a `.desktop` file is the way to do it:\r\n\r\nhttps:\/\/wiki.archlinux.org\/title\/desktop_entries\r\n\r\nSpec: https:\/\/specifications.freedesktop.org\/desktop-entry-spec\/desktop-entry-spec-latest.html\r\n\r\nThe .desktop file format includes support for specifying icons (and also the name, which could then be the non-sanitized version of the project title).","@PsionicAlch could you please try and create a .desktop file next to the executable file and add something like this:\r\n\r\n```\r\n[Desktop Entry]\r\nEncoding=UTF-8\r\nVersion=1.0\r\nType=Application\r\nTerminal=false\r\nExec=projecttitle.x86_64\r\nName=Name of Application\r\nIcon=myappicon.png\r\n```\r\n\r\nAdd a `myappicon.png` file too and make sure `projecttitle.x86_64` matches the name of the executable.","Okay, so I added the .desktop file, next to the executable file, with the contents:\r\n\r\n`[Desktop Entry]\r\nEncoding=UTF-8\r\nVersion=1.0\r\nType=Application\r\nTerminal=false\r\nExec=Walkingastronauttutorial.x86_64\r\nName=Walking Astronaut Tutorial\r\nIcon=myappicon.png`\r\n\r\nI made sure to also put a valid png alongside the .desktop file:\r\n\r\n![Screenshot from 2024-01-30 17-07-18](https:\/\/github.com\/defold\/defold\/assets\/34652519\/1f886311-de19-45cf-88c5-bde0b3af587d)\r\n\r\nI tried running the file in various ways but every time a terminal opens up for a moment and then closes again without anything else happening.","Hmm, ok, more research into .desktop files is required. Note: this will be a low priority issue where we would appreciate community support.",".desktop files have to be copied to a specific directory, usually `~\/.local\/share\/applications\/` for user apps or `\/usr\/share\/applications\/` for system-wide apps. I believe it technically searches `$XDG_DATA_HOME\/applications\/` (note that `$XDG_DATA_HOME` should be `~\/.local\/share\/` if not set) and then `{every value of $XDG_DATA_DIRS}\/applications`. See also the [ArchWiki page](https:\/\/wiki.archlinux.org\/title\/desktop_entries) (applies to all distros, not just Arch) and the [official spec](https:\/\/specifications.freedesktop.org\/desktop-entry-spec\/desktop-entry-spec-latest.html)."],"labels":["more info","feature request","linux"]},{"title":"sound.set_gain() and sound.set_pan() for individual voices","body":"I would like to be able to modify gain and pan for individual sound voices.\r\n\r\nUse case:\r\nI have a looping engine noise coming from enemy objects. As the enemy moves around relative to the player\/camera, I would like to be able to update the gain and pan for that individual voice to reflect the position.","comments":["I talked with @JCash, and we are not sure if we want to have this functionality implemented this way.\r\nSound is a `fire-and-forget` component type and if with stop case it makes sense to be able to stop instances separately, but in this case it feels more like another feature request for positional audio: https:\/\/github.com\/defold\/defold\/issues\/3506"],"labels":["feature request","engine","sound"]},{"title":"Enabling Fullscreen Mode on Game Locks the OS","body":"_Is it a private platform, and a platform specific issue? (i.e. would it break your NDA?)<br>\r\nThen please report your issue in the corresponding extension repository!_\r\n\r\n**Describe the bug (REQUIRED)**\r\nA clear and concise description of what the bug is.\r\n\r\nEnabling fullscreen mode  locks the operating system in a visual glitch where no key press or input action takes affect (with one exception), the game window does appear but does not take any input nor you can exit it.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Create an empty project\r\n2. Open game.project file\r\n3. Under display enable \"Fullscreen\"\r\n4. Build the project and see the result \r\n\r\n**Expected behavior (REQUIRED)**\r\nA clear and concise description of what you expected to happen.\r\nI expect to receive no lock nor glitch in OS and the game to start at fullscreen\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.3\r\n\r\n**Platforms (REQUIRED):**\r\n \r\n - OS: MacOS Ventura\r\n - Device: MacBook Air\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\nPlease attach a minimal project where the bug is reproduced. This will greatly help the person trying to investigate and fix the bug.\r\n\r\n**Logs (OPTIONAL):**\r\nPlease provide relevant logs from engine, editor or build server. Learn where the logs are stored [here](https:\/\/defold.com\/manuals\/getting-help\/#log-files).\r\n\r\n**Workaround (OPTIONAL):**\r\nIf there is a workaround, please describe it here.\r\n\r\n**Screenshots (OPTIONAL):**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Additional context (OPTIONAL):**\r\nAdd any other context about the problem here.\r\n","comments":["\"Enabling fullscreen mode locks the operating system in a visual glitch where no key press or input action takes affect (with one exception), the game window does appear but does not take any input nor you can exit it.\"\r\n\r\nCould you clarify a bit what you mean by \"visual glitch\"? Does something like weird?\r\nAnd regarding the input, do you mean _any_ input, e.g even if you have specified input maps and acquire input and all that, or do you mean that you can't \"alt-tab\" out from the application? ","For the visual glitch, it depends, sometimes the game window appears sometimes it freezes before then. On that point, any system input will not work including shortcuts used by the OS like ctrl + arrow-left (Mission Control shortcut). The only way I found to exit this situation is to press option + command + esc (the exception I mentioned) which open force to quit window which tempts the OS to terminate the process of running the game since it realizes something is going wrong."],"labels":["bug","macos"]},{"title":"IDE: Hidpi viewport","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\n**Note:** I'm only going to write about the Windows experience, but as I understand this applies to all platforms.\r\n\r\nI use a 4K 24' monitor and I have the entire OS interface scaled up x2 from normal. That said, it looks just gorgeous. Including Defold IDE. But for some reason the viewport in Defold IDE is rendered in LARGE pixels,i.e. without highdpi support.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nIt would be cool to leave viewport in the current non-highdpi state by default, to save performance and device battery. And make the \"High-dpi viewport view\" toggle.\r\n\r\nAnd you need to keep all the lines to the appropriate scale. I think that's the hardest part (maybe [this article](https:\/\/bgolus.medium.com\/the-best-darn-grid-shader-yet-727f9278b9d8) will help).\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nN\/A.\r\n\r\n**Additional context (OPTIONAL):**\r\nThe screenshot is from 4K monitor, 200% scale (plus-minus equals to \"Best (Retina)\" on macOS and Retina devices). Fonts and icons and the whole IDE interface looks great since it supports Hidpi. But viewport is rendered in non-hidpi mode:\r\n\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/193258\/d4e2560d-f598-4bdd-9b76-b423fb965a1d)\r\n\r\n","comments":[],"labels":["feature request","editor"]},{"title":"In editor UI make texture profiles selected by default","body":"Now it's not obvious that texture profile (Default, Generic) is clickable to reveal more options. Especially for newcomers.\nInstead it would be nice to have these additional options to be visible from the beginning by having the Default texture profile and Generic platform selected by default.\n\n![image](https:\/\/github.com\/defold\/defold\/assets\/859486\/625079d1-8254-4049-84ea-c1e9d13175e9)","comments":[],"labels":["bug","editor"]},{"title":"Hinge joints are not always respecting the limits","body":"The hinge joint seems to ignore the lower and upper angle set on it during certain circumstances.\r\n\r\n```lua\r\nlocal position_a = go.get_position(\"anchor_t_leg_left\")*sc\r\nlocal position_b = go.get_position(\"anchor_leg_left\")*sc\r\nlocal properties = { enable_limit = true, lower_angle=math.rad(-60),upper_angle = math.rad(-60),reference_angle=0 }\r\nphysics.create_joint(physics.JOINT_TYPE_HINGE, \"torso#collisionobject\", \"my_test_joint1\", position_a, \"leg_left#collisionobject\", position_b, properties)\r\n```\r\n\r\nForum thread with video and sample projects: https:\/\/forum.defold.com\/t\/defold-physics-hinge-bug\/75745","comments":[],"labels":["bug","engine","physics"]},{"title":"Editor crashes during load if a GUI with layouts refers to a missing .gui resource","body":"If the `node-ids` output of a gui `NodeTree` produces an `ErrorValue`, the `nodes` property of `LayoutNode` will throw an exception that crashes the editor during project load.\n\n1. Set up a gui to reference another gui as a template.\n2. Add a layout to the gui.\n3. Save and exit the editor.\n4. Delete the referenced gui from disk.\n5. Try to load the project.\n\n```\n2024-01-22 12:14:49.108 467254 [clojure-agent-send-off-pool-0] ERROR editor.dialogs - {:line 442}\njava.lang.ClassCastException: class internal.graph.error_values.ErrorValue cannot be cast to class clojure.lang.IFn (internal.graph.error_values.ErrorValue and clojure.lang.IFn are in unnamed module of loader 'app')\n    at clojure.core$comp$fn__5792.invoke(core.clj:2569)\n    at editor.gui$LayoutNode$property$nodes$setter$fn__90276$iter__90315__90321$fn__90322.invoke(gui.clj:1842)\n    at clojure.lang.LazySeq.sval(LazySeq.java:42)\n    at clojure.lang.LazySeq.seq(LazySeq.java:51)\n    at clojure.lang.RT.seq(RT.java:531)\n    at clojure.core$seq__5387.invokeStatic(core.clj:137)\n    at clojure.core$concat$cat__5480$fn__5481.invoke(core.clj:734)\n    at clojure.lang.LazySeq.sval(LazySeq.java:42)\n    at clojure.lang.LazySeq.seq(LazySeq.java:58)\n    at clojure.lang.ChunkedCons.chunkedNext(ChunkedCons.java:59)\n    at clojure.lang.ChunkedCons.next(ChunkedCons.java:43)\n    at clojure.lang.RT.next(RT.java:709)\n    at clojure.core$next__5371.invokeStatic(core.clj:64)\n    at internal.transaction$apply_tx.invokeStatic(transaction.clj:802)\n    at internal.transaction$apply_tx.invoke(transaction.clj:795)\n    at internal.transaction$fn__9846.invokeStatic(transaction.clj:374)\n    at internal.transaction$fn__9846.invoke(transaction.clj:348)\n    at clojure.lang.MultiFn.invoke(MultiFn.java:234)\n    at internal.transaction$apply_tx$fn__10015.invoke(transaction.clj:805)\n    at internal.transaction$apply_tx.invokeStatic(transaction.clj:803)\n    at internal.transaction$apply_tx.invoke(transaction.clj:795)\n    at internal.transaction$invoke_setter.invokeStatic(transaction.clj:569)\n    at internal.transaction$fn__9926.invokeStatic(transaction.clj:622)\n    at internal.transaction$fn__9926.invoke(transaction.clj:610)\n    at clojure.lang.MultiFn.invoke(MultiFn.java:234)\n    at internal.transaction$apply_tx$fn__10015.invoke(transaction.clj:805)\n    at internal.transaction$apply_tx.invokeStatic(transaction.clj:803)\n    at internal.transaction$apply_tx.invoke(transaction.clj:795)\n    at internal.transaction$apply_tx.invokeStatic(transaction.clj:802)\n    at internal.transaction$apply_tx.invoke(transaction.clj:795)\n    at internal.transaction$apply_tx.invokeStatic(transaction.clj:802)\n    at internal.transaction$apply_tx.invoke(transaction.clj:795)\n    at internal.transaction$apply_tx.invokeStatic(transaction.clj:802)\n    at internal.transaction$transact_STAR_.invokeStatic(transaction.clj:886)\n    at dynamo.graph$transact.invokeStatic(graph.clj:164)\n    at editor.defold_project$load_nodes_BANG_.invokeStatic(defold_project.clj:204)\n    at editor.defold_project$load_project$fn__32148.invoke(defold_project.clj:275)\n    at clojure.lang.AFn.applyToHelper(AFn.java:152)\n    at clojure.lang.AFn.applyTo(AFn.java:144)\n    at clojure.core$apply.invokeStatic(core.clj:665)\n    at clojure.core$with_bindings_STAR_.invokeStatic(core.clj:1973)\n    at clojure.core$with_bindings_STAR_.doInvoke(core.clj:1973)\n    at clojure.lang.RestFn.invoke(RestFn.java:425)\n    at editor.defold_project$load_project.invokeStatic(defold_project.clj:275)\n    at editor.defold_project$open_project_BANG_.invokeStatic(defold_project.clj:957)\n    at editor.boot_open_project$open_project_BANG_.invokeStatic(boot_open_project.clj:388)\n    at editor.boot_open_project$open_project_BANG_.invoke(boot_open_project.clj:386)\n    at clojure.lang.AFn.applyToHelper(AFn.java:171)\n    at clojure.lang.AFn.applyTo(AFn.java:144)\n    at clojure.core$apply.invokeStatic(core.clj:665)\n    at editor.boot$open_project_with_progress_dialog$fn__108320.invoke(boot.clj:70)\n    at editor.dialogs$make_load_project_dialog$fn__25884$fn__25887.invoke(dialogs.clj:440)\n    at clojure.core$binding_conveyor_fn$fn__5739.invoke(core.clj:2030)\n    at clojure.lang.AFn.call(AFn.java:18)\n    at java.base\/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base\/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base\/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base\/java.lang.Thread.run(Thread.java:833)\n2024-01-22 12:14:49.119 467265 [JavaFX Application Thread] ERROR editor.error-reporting - {:line 116}\n```","comments":[],"labels":["bug","editor"]},{"title":"Convexshape collides when objects are close but not actually colliding","body":"**Describe the bug**\r\nConvexshape collides when objects are close but not actually colliding\r\n\r\n**To Reproduce**\r\n1. Create two game objects with a gap between them\r\n2. Put a collider with a convexshape on one, and a standard box collisionshape on the other\r\n3. Move them slowly together - they will trigger collision messages before they have collided\r\n\r\n**Expected behavior**\r\nConvexshape collision objects should only collide when there is an overlap rather than when they are close.\r\n\r\n**Defold version:** 1.6.3\r\n\r\n**Platforms:** Windows 11 (haven't tested any others)\r\n\r\n**Minimal repro case project:**\r\n[defold-convexshape-test.zip](https:\/\/github.com\/defold\/defold\/files\/14008339\/defold-convexshape-test.zip)\r\nUse keyboard keys 1, 2, 3, 4 to switch between demos\r\n- 1 + 3 are convexshape and have an issue\r\n- 2 + 4 are using a standard collisionobject with box and this works as expected\r\n\r\n**Screenshots:**\r\nIn the screenshot below you can see a gap between the box on the left and the quad on the right. The convexshape is on the right outlined in green and has a larger physics box than is needed.\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/34728713\/741bf906-ca4e-44e9-8972-d33e35ab6a16)","comments":[],"labels":["bug","engine","physics","3d"]},{"title":"Incorrect behavior sys.get_connectivity() on IOS","body":"**Describe the bug (REQUIRED)**\r\nsys.get_connectivity() return 0 (sys.NETWORK_DISCONNECTED), but I can do requests. I tested connected through mobile cellular and, Wifi. Also game has permission to network\r\n\r\n**To Reproduce (REQUIRED)**\r\nCall sys.get_connectivity() on IOS device.\r\n\r\n**Expected behavior (REQUIRED)**\r\nsys.get_connectivity() returns correct code: sys.NETWORK_CONNECTED_CELLULAR or sys.NETWORK_CONNECTED\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version [e.g. 1.6.3]\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: [iOS]\r\n - OS: [iOS17.2.1]\r\n - Device: [e.g. iPhone12]\r\n<img width=\"437\" alt=\"Screenshot 2024-01-21 at 13 42 28\" src=\"https:\/\/github.com\/defold\/defold\/assets\/22659468\/881de6eb-9fb4-4b36-a341-fb74b256bbd6\">\r\n\r\nExample: [Network Ios.zip](https:\/\/github.com\/defold\/defold\/files\/14001127\/Network.Ios.zip)\r\n\r\n","comments":[],"labels":["bug","ios","network"]},{"title":"Add imperative editor script API","body":"**Context:**\r\nIt's easier to mix and match shell invocations and in-editor transactions in a procedural, imperative style (as opposed to returning a list of actions). Related to #6810, depends on #8426.\r\n\r\n**Task (REQUIRED):**\r\nAdd more editor script functions:\r\n- `editor.transact()` - apply a collection of `set` actions at once, do resource sync, continue execution\r\n- `os.execute()` - execute a shell command, do resource sync, continue execution\r\n- `editor.save()` - save unsaved changes, which might be necessary in some rare cases before calling `os.execute()`\r\n\r\n**Expected outcome (REQUIRED):**\r\nOur editor actions can be executed imperatively.\r\n","comments":[],"labels":["bug","task","editor","editor scripts"]},{"title":"Make the editor script evaluation context mutable","body":"**Context:**\r\nCurrently, the evaluation context is unchanged during the editor script invocation, but we want to do a sync on a write to a file in the project directory. Meanwhile, for performance, we want to ensure we use a single evaluation context in the commands' `active` checks. We probably shouldn't allow any writes there at all!\r\nRelated to #6810.\r\n\r\n**Task (REQUIRED):**\r\nMake the evaluation context modifiable when the editor script changes the editor state.\r\n\r\n**Expected outcome (REQUIRED):**\r\n`editor.get` after `io:write` returns actual data.\r\n","comments":[],"labels":["bug","task","editor","editor scripts"]},{"title":"Particle effects at runtime","body":"**Describe the solution you'd like (REQUIRED):**\r\nRequesting a feature which would allow for particle emitters to be able to resize, horizontally in my case, without the need to scale the object as this affects the particle output.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nI tried scaling the emitter \/ particle effect as suggested, but due to the large scale, the particles scale as well which causes undesired results.\r\n","comments":[],"labels":["feature request","engine","particlefx"]},{"title":"Add support for string values to go.property","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI'd like support for normal \"string\" properties on scripts, in addition to the existing \"hash\" support. I want it currently for unit test configuration (e.g. \"run tests matching this regex\") and in the future I expect to need it for other strategy\/card-game related configuration.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI can do this and it works. (no errors, I can go edit this string property in the editor)\r\n`go.property('pattern', '.*') -- default to all tests`\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nHashes work for most Defold-related use cases, but you cannot turn a hash back into a string in a release-mode way. (and in debug mode, it's also blocked due to a bug: #7422 ) So if you actually need the STRING (to display to user e.g. character names, to serialize\/save data, to use as a regex string...) you cannot use go.property at all right now.\r\n\r\n**Additional context (OPTIONAL):**\r\n<img width=\"500\" alt=\"image\" src=\"https:\/\/github.com\/defold\/defold\/assets\/133168946\/702fd629-fe48-4bda-8cf9-aad62e330713\">","comments":["You can use custom data component to store any type of data. Here is an example how to implement custom data component https:\/\/github.com\/defold\/extension-simpledata.\r\nAfter implementation you can add custom data component to any game object and get data from it via `go.get(\"url_of_component\", \"field_name\")\r\n"],"labels":["feature request"]},{"title":"Setting textures for specific materials in a model","body":"Now that we fully support multi-materials for models, we should have a way of setting textures per material slot.\r\nWe have go.set(\"#material\", \"texture0\", t_id), but this will set the texture for all materials. If you want to override specific textures per material, you need to replace the texture resource.\r\n\r\nperhaps something similar to setting fonts in GUIs:\r\n```\r\ngo.set(\"#material\", \"texture0\", tex_id, { material_index = i })\r\ngo.set(\"#material\", \"texture0\", tex_id, { material_name = hash|string })\r\n```","comments":["Surely `material_name` should be preferred? Or is it sometimes better to use an index?"],"labels":["feature request","engine","model"]},{"title":"Share gpu-textures between models","body":"Currently, we call the `gpu-texture-generator` in order to get individual `:texture-units` vectors for the textures used in `model.clj`. We should instead be connecting the `gpu-texture` output from the source images to the model and `assoc` in the `:texture-units` vectors. Also, it is not enough to offset the start index by the sampler index. We need offset by the accumulated `count` of the `:texture-units` vectors from prior samplers to take paged atlases into account.\n","comments":[],"labels":["task","editor","model"]},{"title":"Preview Tabs","body":"_Is it a private platform specific feature?\r\nNo\r\n\r\n**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nNo\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nPreview tabs (instead of double clicking on an item in the assets list, single click to open a preview tab) similar in **vscode** when you press a file in the list it will create a temporary tab until u double click or edit\/save the file\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nDouble clicking is alright, however slightly annoying when coming from other dev environments where this feature exists\r\n\r\n**Additional context (OPTIONAL):**\r\nN\/A\r\n","comments":[],"labels":["feature request","editor"]},{"title":"2D Grid for The Editor","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nWhile designing levels, it always frustrated me that there is no sense of measurement besides side rulers and numerical data which does not help in terms of placing objects efficiently.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nA 2 dimensional grid system which can have configurable cell sizing and line color. If a specific shortcut key is triggered the object or component could snap to the grid. This system I described is standard with many engines editors.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nUsing another external editor but this defeats the purpose of Defold engine.\r\n\r\n**Additional context (OPTIONAL):**\r\n## How other Editors Provide Grid and Snapping\r\n\r\nIn other editors, snapping usually involves a grid, that\u2019s why I combined them. In some cases snapping mode is triggered by a keybinding (like shift) or a UI button. After it is enabled, when the object\u2019s position is modified with UI handles, it changes the position of the object according to its dragged position but approximating it to the configured cell size of the grid to fit it to the grid. I saw similar implementations with adjusting size\/scale as well.","comments":[],"labels":["feature request","editor"]},{"title":"Renaming image in Asset browser should affect all components, where this image file is referenced","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\n\r\nWhen I rename a file, e.g. image in Asset browser, it is automatically changing its reference in atlas file where it was used and it works correctly, but if that atlas is used as a texture in e.g. GUI or sprite the property does not have a reference changed.\r\n\r\nHere I renamed image `north_compass.png` to `north_compass2.png`:\r\n\r\nIn atlas file everything is correctly changed:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/11634203\/988870ae-3549-45fe-84b0-9feaa0512bd7)\r\n\r\nIn Texture property in GUI it is not detecting the change automatically (but in dropdown list it sees an updated list of animations in atlas):\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/11634203\/3f382bbf-24b1-45af-9654-f56a839a24b1)\r\n\r\nThis is problematic, because it behaves unintuitively and makes refactoring problematic.\r\n\r\nStrangely, the issue does not happen, when file is moved around in project tree, so components somehow are enabled to track changes, right?\r\n\r\nIt is not an issue for all resource files, because e.g. when I rename a sound (`.wav`) file - Sound components that are using it, are referencing a correct, changed filename. Image files (`.png`) that are used directly as textures, e.g. in Model components are also referencing a correct file.\r\n\r\nThe issue happens for when I change a name of a file that is used in Atlas and this atlas is used in:\r\n- GUI component - when that texture is selected for any Box node\r\n- Sprite component - and that texture (renamed image) is selected for Default Animation\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nWhen I change the file name in Asset browser using `F2` or `\"Rename...\"` option, the files that are using this file should also reference to the new name automatically.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nNo alternative for this, beside manually changing it.\r\n\r\n**Additional context (OPTIONAL):**\r\n-\r\n","comments":[],"labels":["bug","editor"]},{"title":"Scripting api for resource.create_atlas() needs to have image names","body":"With the latest changes of using multiple atlases, we also need to update the `resource.create_atlas()` to have \"image\" names.\r\nOtherwise it won't work as intended with lookups (by image name hash) between texture sets.\r\n\r\nE.g. given the frame name \"run_frame_1\" in atlas 1, we want to find the corresponding frame \"run_frame_1\" in atlas 2.\r\nSee `m_ImageNameHashes`","comments":[],"labels":["task"]},{"title":"Context menu option for resources to create duplicate of a res. and replace everywhere where it's used","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nNow if I want to create a custom material, I have to:\r\n1. copy this material into my project\r\n2. find all the places I use material and replace it with my new material\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI want to have an option \"Duplicate and use\" (or something like that) which can do it in one click.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nHaving a powerful `Search and Replace` option that works on project scale and may operate not just a text data in files, but fields\r\n\r\n**Additional context (OPTIONAL):**\r\nInitially I thought it as option only for builtins, but it sounds more like an option per file format in any place in the project.\r\nThe most useful case is materials, ofc. But it might be useful to use it for some other resources as well (texture_profile)\r\nAlso, it needs confirmation popup because it potentially makes changes in many places.\r\n","comments":["Maybe we want to do a small design pass on this, e.g. maybe the command should do only the second step (replace all uses of resource X with resource Y without the copying)."],"labels":["feature request","editor"]},{"title":"Increase the editor UI contrast","body":"Somehow, the editor contrast decreased over the last couple of years:\r\n![05-liveupdate-settings](https:\/\/github.com\/defold\/defold\/assets\/732554\/f5a81456-3d38-4e0b-ab5a-fedd76c297f7)\r\n![image (1)](https:\/\/github.com\/defold\/defold\/assets\/732554\/c82805f7-9619-4ad7-9b11-d17354bc4710)\r\n\r\n**Task (REQUIRED):**\r\nWe should make a pass on the editor CSS and improve the readability.\r\n\r\n**Expected outcome (REQUIRED):**\r\nThe text throughout the editor is more readable.\r\n","comments":[],"labels":["task","editor"]},{"title":"Include an Apple Privacy Manifest","body":"Apple will require SDKs and tools to include a Privacy Manifest when certain APIs are used\r\n\r\n* https:\/\/developer.apple.com\/documentation\/bundleresources\/privacy_manifest_files?language=objc\r\n* https:\/\/developer.apple.com\/documentation\/bundleresources\/privacy_manifest_files\/describing_use_of_required_reason_api?language=objc\r\n\r\nFirst step is to identify APIs in Defold which require a Privacy Manifest.","comments":["We use `fstat()` to find out the size of a file (for instance to memory map the game archive)\r\n\r\n* https:\/\/github.com\/defold\/defold\/blob\/dev\/engine\/resource\/src\/mount\/mount_mmap.cpp#L48","Remotery uses `mach_absolute_time()`\r\n\r\n* https:\/\/github.com\/defold\/defold\/blob\/dev\/engine\/dlib\/src\/remotery\/lib\/Remotery.c#L383\r\n* https:\/\/github.com\/defold\/defold\/blob\/dev\/engine\/dlib\/src\/remotery\/lib\/Remotery.c#L407\r\n\r\n","> Remotery uses `mach_absolute_time()`\r\n\r\nWe use it only in debug, maybe this is not that necessary then?","Hi.\r\nCould you please clarify will Defold merge Privacy Manifests from SDKs and game into one privacy manifest? Or how it will work? \r\nThank you in advance","We do not yet know how this will work. It seems reasonable that the build pipeline collects all PrivacyInfo.xcprivacy files from extensions and the engine manifest and possibly also a game specific manifest into a single file.\r\n\r\n[Apple mentions](https:\/\/developer.apple.com\/support\/third-party-SDK-requirements\/) _\"when you prepare to distribute your app, Xcode will combine the privacy manifests across all the third-party SDKs used by your app into a single, easy-to-use report. With one comprehensive report that summarizes all the third-party SDKs found in an app, it will be even easier for you to create more accurate Privacy Nutrition Labels.\"_\r\n\r\nBased on the above description it seems more like a convenience function to merge them into one rather than a requirement, especially since it seems like it is the developer's responsibility to use it to set Privacy Nutrition Labels.","https:\/\/developer.apple.com\/news\/?id=3d8a9yyh\n\nStarting March 13: If you upload a new or updated app to App Store Connect that uses an API requiring approved reasons, we\u2019ll send you an email letting you know if you\u2019re missing reasons in your app\u2019s privacy manifest. This is in addition to the existing notification in App Store Connect.\n\nStarting May 1: You\u2019ll need to include approved reasons for the listed APIs used by your app\u2019s code to upload a new or updated app to App Store Connect. If you\u2019re not using an API for an allowed reason, please find an alternative. And if you add a new third-party SDK that\u2019s on the list of commonly used third-party SDKs, these API, privacy manifest, and signature requirements will apply to that SDK. Make sure to use a version of the SDK that includes its privacy manifest and note that signatures are also required when the SDK is added as a binary dependency.\n\nhttps:\/\/developer.apple.com\/support\/third-party-SDK-requirements\/\n\nhttps:\/\/developer.apple.com\/documentation\/bundleresources\/privacy_manifest_files\/describing_use_of_required_reason_api","PR to copy manifest from extender to build output: https:\/\/github.com\/defold\/extender\/pull\/355"],"labels":["task","ios"]},{"title":"Use default `android_native_app_glue.c` instead of custom one","body":"**Task (REQUIRED):**\r\n`android_native_app_glue.c` we currently use contains a workaround for an old issue on old android version we don't support anymore. So it would be nice to use default one from NDK to make sure we don't need to patch anything in our custom version.\r\n\r\n**Expected outcome (REQUIRED):**\r\n\r\nLess custom code in the engine we should support + better handling of the native events, which maybe a reason of some ANR in case we don't handle something properly (less likely).\r\n","comments":[],"labels":["task","android"]},{"title":"Whole screen not showin on HTML5 in full screen mode(Chrome only)","body":"my game width and height in game.project  is 1080 and 1920.\r\nin 4K and 2K monitor if I press the full-screen button in the desktop browser some portion of the bottom and right section of the screen not showing up. (including GUI)\r\nthis issue occurs only on desktop Chrome. \r\nI tested it on Firefox and Microsoft Edge and Even on Android Chrome, it works without any issues. also in 1920x1080 resolution, it's ok.\r\nI made a simple project to reproduce this problem in here:\r\n\r\n[https:\/\/github.com\/thawri1\/DefoldFullScreenIssue](https:\/\/github.com\/thawri1\/DefoldFullScreenIssue)\r\n\r\n","comments":[],"labels":["bug","html5"]},{"title":"Quick \"pre-hear\" Play sound functionality in sound component Editor","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nTo hear the sound that is used in the sound component users need to open it in an external software after opening it in file explorer.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nIt would be great to have a pre-hear option in Defold like a preview for particleFX enabled\/disabled with e.g. Space key or eventually a button \"Play sound\"\/\"Listen\"\/\"Test sound\" in Sound component Editor.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nOpen sound component in system file explorer and play it with external software.\r\n\r\n**Additional context (OPTIONAL):**\r\nSound component is now only a duplication of the properties pane. Adding a play button would distinguish editor view for sound component from properties pane (as such button is not a property).\r\nI imagine a time-line of the sound where you can play, pause, stop, rewind to any place a sound being used would be an evolution of this idea.\r\nIf we would have more features for sound in the Editor it would be great. Then, a simple functionality like trimming would be useful too.\r\n","comments":["I like this idea. One question to figure out is how to play the sound? Should the editor bundle standalone exes to play the sounds or is there some kind of Java lib to play ogg and wav files?","> I like this idea. One question to figure out is how to play the sound? Should the editor bundle standalone exes to play the sounds or is there some kind of Java lib to play ogg and wav files?\r\n\r\nMaybe we can use javafx mediaplayer:\r\n```\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\n```\r\nhttps:\/\/jenkov.com\/tutorials\/javafx\/media.html"],"labels":["feature request","editor","sound"]},{"title":"When there is an error in shader programs, Defold complains about a line that doesn't exist in the project","body":"I assume it complains about a combined version of the fp+vp\r\n\r\nbad shader\r\n```\r\nvarying mediump vec2 var_texcoord0;\r\n\r\nuniform lowp sampler2D texture_sampler;\r\nuniform lowp vec4 tint;\r\n\r\nvoid main()\r\n{\r\n    \/\/ Pre-multiply alpha since all runtime textures already are\r\n    lowp vec4 tint_pm = vec4(tint.xyz * tint.w, tint.w);\r\n    lowp float test = 1;\r\n    gl_FragColor = texture2D(texture_sampler + test, var_texcoord0.xy) * tint_pm;\r\n}\r\n```\r\n\r\nerror\r\n```\r\n\/shader\/sprite.fp\r\n\tCompatability issue: \\Temp\\_generated_3eca2237.fpc1417467711906793201.glsl:          \"precision mediump int; precision highp float;\" \r\n\\Temp\\_generated_3eca2237.fpc1417467711906793201.glsl:15: error: '+' :  wrong operand types: no operation '+' exists that takes a left-hand operand of type 'layout( set=1) uniform lowp sampler2D' and a right operand of type ' temp lowp float' (or there is no acceptable conversion)\r\n1 error generated.\r\n```\r\n\r\nthere are 12 lines in the original fragment program where the error is\r\nit's complaining about line 15\r\nDefold needs to be able to figure out which file the error is and what the original line number it is\r\n\r\n[ShaderLineErrorWrong.zip](https:\/\/github.com\/defold\/defold\/files\/13848993\/ShaderLineErrorWrong.zip)\r\n\r\n","comments":["The \"*.glsl:15\" suggests that the `#line` directive isn't working as expected.\r\n\r\nIs this a debug build?","This is ran from the editor on Windows 11."],"labels":["bug","bob","render","pipeline"]},{"title":"Support touchpad gestures to navigate .go and .atlas contents within Defold editor.","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\n\r\nOn macbooks, and some PC laptops, we have an ability to use pan, zoom and pinch using touchpad gestures, and it works consistently for all scrollable content. But in Defold I've encountered an inconsistent behavior: side panels like Assets or Outline scroll with gestures normally; but in order to scroll around a .go or .atlas content I have to use ALT-click and drag. Two-finger scroll on these screens is treated as if it was just a mousewheel scroll, and it just zooms the content in and out. It is mildly inconvenient since as an editor user I treat the .go or .atlas scene as a 2D scrollable content, just as if it were a list view.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\n\r\nI'd like for the .go and .atlas content screen to recongnize touchpad gestures such as pan, pinch and zoom.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\n\r\nThe alternative is to use ALT-click and drag, it just feels less convenient when I don't have a mouse attached.\r\n","comments":[],"labels":["feature request","editor"]},{"title":"Bob cannot bundle with certain characters in the project title","body":"As reported [here](https:\/\/forum.defold.com\/t\/error-failed-compiling-android-resources\/68060\/7), the bundling step may fail if the title contains certain characters.\r\n\r\nFrom forum post:\r\n\r\n If I set project title to \u201cK\u1ef3 Ho\u00e0ng\u201d, it failed to compile Android bundle, but if I set it to \u201cKy Hoang\u201d, it compiled successfully.\r\n\r\nThese lines are in console when it failed:\r\n\r\n```\r\n2024-01-02 12:30:20 INFO exec: C:\\Users\\chung\\AppData\\Local\\Temp\\3013256825095741087\\aapt2.exe compile -o C:\\Users\\chung\\AppData\\Local\\Temp\\compiled_resources9302001017514913233\\com.chungxa.kyhoang --dir D:\\Defold\\Projects\\KyHoang\\build\\armv7-android\\K\u1ef3 Ho\u00e0ng\\res\\com.chungxa.kyhoang\r\n```","comments":["Could someone take this? Thanks!","> Could someone take this? Thanks!\r\n\r\nIt has not been planned yet. I took a quick look and was unable reproduce on macOS. Which OS are you using? Also, is this when running from the editor or from command line using bob.jar?","Thanks for taking your time! I'm using Windows 11 and that was running from editor.","I added some images to describle my case\r\n<img width=\"960\" alt=\"Screenshot 2024-01-30 101107\" src=\"https:\/\/github.com\/defold\/defold\/assets\/228385\/c24beae1-25d6-4326-be24-6f7caac2f771\">\r\n<img width=\"960\" alt=\"Screenshot 2024-01-30 101138\" src=\"https:\/\/github.com\/defold\/defold\/assets\/228385\/93fb9f2b-1e98-4179-b6f5-62c6f53727c4\">\r\n<img width=\"960\" alt=\"Screenshot 2024-01-30 101340\" src=\"https:\/\/github.com\/defold\/defold\/assets\/228385\/95c309b0-d6e2-41fb-b77d-228175326d46\">\r\n\r\nIt seems the error message now is different from the one I catched on 1.6.2 but it still failed to build with the project title having unicode characters, for example `K\u1ef3 Ho\u00e0ng`.\r\n\r\n---\r\n2024-01-30 10:13:05 INFO    Copying resources to D:\\Defold\\Projects\\KyHoang\\build\\armv7-android\\K\u1ef3 Ho\u00e0ng\\aab\\base\\res \r\n\r\n2024-01-30 10:13:05 INFO    Copying engine to D:\\Defold\\Projects\\KyHoang\\build\\armv7-android\\K\u1ef3 Ho\u00e0ng\\aab\\base\\lib\\armeabi-v7a\\libKHong.so \r\n\r\n2024-01-30 10:13:05 INFO    Zipping D:\\Defold\\Projects\\KyHoang\\build\\armv7-android\\K\u1ef3 Ho\u00e0ng\\aab\\base to D:\\Defold\\Projects\\KyHoang\\build\\armv7-android\\K\u1ef3 Ho\u00e0ng\\aab\\base.zip \r\n\r\n2024-01-30 10:13:06 INFO    Creating Android Application Bundle \r\n\r\n2024-01-30 10:13:06 INFO    exec: D:\\Defold\\packages\\jdk-17.0.5+8\\bin\\java -jar C:\\Users\\chung\\AppData\\Local\\Temp\\14482672558673546865\\bundletool-all.jar build-bundle --modules D:\\Defold\\Projects\\KyHoang\\build\\armv7-android\\K\u1ef3 Ho\u00e0ng\\aab\\base.zip --output D:\\Defold\\Projects\\KyHoang\\build\\armv7-android\\K\u1ef3 Ho\u00e0ng\\K\u1ef3 Ho\u00e0ng.aab --config D:\\Defold\\Projects\\KyHoang\\build\\armv7-android\\K\u1ef3 Ho\u00e0ng\\aab\\BundleConfig.json \r\n\r\nERROR: unspecified:-1: 'com.dynamo.bob.CompileExceptionError: Failed creating Android Application Bundle'\r\n"],"labels":["bug","more info","bob","good first issue?"]},{"title":"Async `resource.create_texture()`","body":"_Is it a private platform specific feature? (i.e. would it break your NDA?)<br>\r\nThen please add your feature request in the corresponding extension repository!_\r\nNo\r\n\r\n**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nNow Defold supports a few ways to load textures from external source:\r\n- `resource.create_texture()`\r\n- `gui.new_texture()`\r\n\r\nThe both ways create textures synchronously and require to have texture data loaded. This approach works fine if the game asks  small textures dynamically. But it leads to performance problems if the game wants to load big texture.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nAsync version of `resource.create_texture()` with support of the texture file source under external filesystem (in game data folder) or under game filesystem. The main idea is to keep all works done in async manner from file reading to texture loading. Also possibility to cancel operation would be great.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nNo alternatives because there are no async file load API (`sys.load_resource` and `io.file`) and async texture creation API\r\n\r\n","comments":[],"labels":["feature request","engine","graphics"]},{"title":"Migrate OSX to GLFW3+","body":"We have removed our old modified GLFW version on OSX in favour of the latest publicly released GLFW 3.3.8 version. This will enable us to improve our desktop feature set, as well as help fix many legacy OS issues across the board.\r\n\r\nFixes #7970 ","comments":[],"labels":["engine","macos","glfw"]},{"title":"Win10, Defold doesn't start at all","body":"**Describe the bug (REQUIRED)**\r\nNo matter which version I try from the list below, Defold just doesn't start on my system.\r\nTrying to run it from terminal yields no output, while the log file in `~\\AppData\\Local\\Defold` folder only writes variations of this line:\r\n\r\n```ini\r\n2023-12-20 18:49:48.248 523  [JavaFX-Launcher] WARN  javafx - Unsupported JavaFX configuration: classes were loaded from 'unnamed module @5b399b10'\r\n```\r\n\r\nAt first I thought that those `unnamed module @yada-yada` were all different, but actually there were only 4 of them so far:\r\n- `@42fed190`\r\n- `@4bb81afc`\r\n- `@5b399b10`\r\n- `@762fe7d0`\r\n\r\nAlso note, that while versions \u2265 1.4.8 weren't launching anything, version 1.4.7 actually showed a splash screen, but hanged there forever without opening the editor (for like an hour, before I forcefully stopped it).\r\n\r\nMaybe, the culprit lies in the fact that I have Java 8, 11, 17 and 21 installed on the system, with 21 being in JAVA_HOME:\r\n\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/45818008\/9804c920-8059-4f15-8547-429171114128)\r\n\r\nBut skimming through other issues in this repo I've seen people with different setups get this log message, so maybe not.\r\n\r\n<p>\u200e <\/p>\r\n<p>\u200e <\/p>\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Download and extract, say, latest version of Defold \r\n2. Double-click to run the `Defold.exe` or run it from command-line.\r\n\r\n**Expected behavior (REQUIRED)**\r\nDefold's GUI should open.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.2 stable\r\n  - Version 1.6.3 beta\r\n  - Version 1.4.8 stable\r\n  - Version 1.4.7 stable\r\n  - Version from the Steam launcher\r\n\r\n**Platforms (REQUIRED):**\r\n - OS: Windows 10 Home, 22H2, OS Build 19045.3803\r\n\r\n**P.S.:** I would still like to try out the editor, so I'll probably spin up a Linux VM in VirtualBox and try it there. But not being able to run it from Windows 10 natively kinda sours the experience just a little :)","comments":["> ```ini\r\n> WARN  javafx - Unsupported JavaFX configuration: classes were loaded from 'unnamed module\r\n> ```\r\n\r\nThis is just a warning and is no indication of why the editor doesn't start in your case.\r\n\r\n> Maybe, the culprit lies in the fact that I have Java 8, 11, 17 and 21 installed on the system, with 21 being in JAVA_HOME\r\n\r\nNope. The editor comes bundled with a Java version and should completely ignore whatever Java versions you may have installed on the system.\r\n\r\n> I would still like to try out the editor\r\n\r\nLet's try to figure this out!\r\n\r\n1. Let's start by checking if the editor writes any log file. Please read this and then check if you have a log. If you have a log file please share it here. https:\/\/defold.com\/manuals\/editor\/#editor-logs\r\n2. Are you using an anti-virus software of some kind which might block the editor from starting? The Defold.exe and other files are code signed and should bypass Windows Smart Screen, but who knows, you might have security software which incorrectly classifies the Defold.exe as a threat. [We've had a similar thing with McAfee](https:\/\/forum.defold.com\/t\/luajit-32-exe-problem-on-windows-with-mcafee-antivirus\/73890\/26?u=britzl) a while back but that got resorted when they whitelisted the file","Sure, let's do it!\r\n\r\n1. Yes, it writes, but only one line I've mentioned in the issue. Each time I try to launch the 1.6.2 version from Steam or from an unpacked zip folder from website downloads it simply writes that warning line to the file, without errors or anything of sorts.\r\n\r\nFile: `C:\\Users\\mutal\\AppData\\Local\\Defold\\editor2.2023-12-21.log`\r\nContents:\r\n\r\n```ini\r\n2023-12-21 16:08:58.075 636  [JavaFX-Launcher] WARN  javafx - Unsupported JavaFX configuration: classes were loaded from 'unnamed module @4bb81afc'\r\n2023-12-21 16:10:11.470 482  [JavaFX-Launcher] WARN  javafx - Unsupported JavaFX configuration: classes were loaded from 'unnamed module @4bb81afc'\r\n```\r\n\r\n2. Nope, only the default Windows Security Center. Moreover, I've added the folder with Defold to it's exceptions and that didn't affect anything.\r\n\r\n@britzl I don't know how to approach the issue search here, but if I may I'd suggest you guys to look more into the logging system in Defold a bit before the next stable release (1.6.3). It may even help fix other issues like this one!","Ok, what if you run Defold.exe from a command prompt? What is the output?","No output when running Defold.exe from command prompt","> No output when running Defold.exe from command prompt\r\n\r\nOk, and from where are you running the Defold.exe? From somewhere in user home?","> Ok, and from where are you running the Defold.exe? From somewhere in user home?\r\n\r\nI've tried both:\r\n1. Running Defold.exe right in the folder with it.\r\n2. Running Defold.exe from user's home folder.\r\n\r\nNeither produces anything in terminal:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/45818008\/62cb21e2-201e-4a8d-8c88-6ba2ecedfb27)","Do you perhaps have any clues in the Windows Events Log? Check using the Windows Event Viewer tool.","No, no mentions of Defold and no other logs reported at times of trying to launch the Defold.exe in Application, Security or System logs.","I'm at a loss then. I'm thinking if it is GPU driver related, but I guess I'd expect you to get further and more logs to be written."],"labels":["bug","more info","windows"]},{"title":"2D Line\/Spline Path Feature Request","body":"_Is it a private platform specific feature? (i.e. would it break your NDA?)\r\nNO\r\n\r\n**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nAs a game developer using Defold, I often find myself needing to have objects follow a specific path, such as a 2D line or a spline. Currently, Defold does not have built-in support for these types of paths. This can make it more difficult to create certain types of games or simulations, especially those that require complex movement patterns.\r\n\r\nA 2D line\/Spline path feature would allow developers to define a path using a series of points, and then have an object move along this path. This could be used for a variety of purposes, such as guiding a character along a predetermined route, or having an object follow a specific trajectory.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\n\r\nSpline path feature would allow developers to define a smooth curve through a series of points, and then have an object move along this curve. This could be used for more complex movement patterns, such as guiding a character along a winding path, or having an object follow a specific trajectory.\r\n\r\nI would like to request that the Defold team consider adding support for 2D line \/spline paths in a future update. This would greatly enhance the capabilities of Defold and make it easier for developers to create a wide range of games and simulations.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nCurrently this is can be achieved like this:\r\n\r\n-- Define the path\r\nlocal path = { vmath.vector3(0, 0, 0), vmath.vector3(100, 0, 0), vmath.vector3(200, 0, 0) }\r\n\r\n-- Get the current position of the object\r\nlocal current_position = go.get_position()\r\n\r\n-- Find the next point on the path\r\nlocal next_point = nil\r\nfor i, point in ipairs(path) do\r\n   if vmath.vector3_equal(current_position, point) then\r\n       next_point = path[i + 1]\r\n       break\r\n   end\r\nend\r\n\r\n-- If there is a next point, move the object towards it\r\nif next_point then\r\n   -- Calculate the direction towards the next point\r\n   local direction = vmath.vector3_sub(next_point, current_position)\r\n   direction = vmath.vector3_normalize(direction)\r\n\r\n   -- Apply the direction to the object\r\n   local physics_body = go.get(\"physics_body\")\r\n   physics_body.apply_impulse(direction)\r\nend\r\n\r\nBut as 2d game engine the 2d line\/Spline should be part of core feature.\r\n\r\nThanks","comments":[],"labels":["feature request","editor"]},{"title":"Publishing to Apple, improve documentation about icons.","body":"When publishing to Apple, I encountered a number of problems that were not described in the official defold documentation. (https:\/\/defold.com\/manuals\/ios\/)\r\nI use:\r\nDefold - 1.6.2\r\nXcode - 15\r\nMacOS - Catalina.\r\nAccording to the instructions on the official page, to create icons there is a checkbox for IPhone + iPad, and in the new version of XCode there is an option for iOS only without separation.\r\nIn the Xcode project, an IPhone has been added to Supported Destinations, and during assembly, if you assemble it in Single Size mode, Apple will generate errors even at the stage of sending the application via Transporter about missing images (120px and 152px), but if you fill in everything in All Sizes mode, it will be sent successfully, but at the stage of sending for moderation it will report an error of missing 1024px icon.\r\nAfter analysis, the decision turned out that in Assets.car, in the correct case, there should be 2 icons of 1024px size (for iPhone and iPad)\r\nAnd therefore, you need to add IPhone + IPad to Supported Destinations (even if the application is not intended for it), then the problem is solved.","comments":["Thanks. I'm going to see if I can update the instructions tomorrow."],"labels":["task","documentation","ios"]},{"title":"Make context menu options more consistent in the Editor","body":"**Task (REQUIRED):**\r\nFor now editor uses `New...` in Assets context menu,  `Add` in Outline context menu. It's also `Add` in both cases when it's creation of a new GO\/Component and when it's adding from disk, which makes it hard to understand.\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/2209596\/6ac48064-f63d-4752-afef-c772d91cab07)\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/2209596\/5047c0a9-5f5b-482b-b9ac-e379bda2999b)\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/2209596\/3a1b43ed-56cd-4a7f-bdab-6edecb34f0c1)\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/2209596\/ddd558ab-df04-4bc3-810e-0bb484d48eb9)\r\n\r\n\r\n**Expected outcome (REQUIRED):**\r\nIt would be nice if all the entity creation have the same `New` word in the beginning and explain what exactly it adds, like this:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/2209596\/60dad61c-7902-4319-9172-3521131f8f87)\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/2209596\/eb2189ec-0a04-4597-a95d-87b5b5c3e8e5)\r\n\r\n\r\n\r\nBut we need to decide what to do with `A` (and `shift+A`) shortcuts in this case. Also it would be nice to change icons. ","comments":[],"labels":["task","editor"]},{"title":"Attaching a directory from an extension as `custom_resources` works in the editor, but doesn't work in build","body":"**Describe the bug (REQUIRED)**\r\nAttaching a directory from an extension as `custom_resources` works in the editor, but doesn't work in build\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Add an extension as a dependency\r\n2. Add path to any extension's directory to the `custom_resources` option in game.project3. \r\n3. Try to build it \r\n\r\n**Expected behavior (REQUIRED)**\r\nSame behaviour like in the editor\r\n\r\n**Defold version (REQUIRED):**\r\n  - 1.6.2\r\n\r\n**Platforms (REQUIRED):**\r\n - Target platform:  HTML5\r\n - OS: Mac OS\r\n - Bob: stable\/a90c50928623cf23b3687a7eec05972d11427202\r\n\r\n**Logs (OPTIONAL):**\r\nException:\r\n\r\n```\r\nWorking...Reading classes... 1% ...done!\r\nCleaning... ...done!\r\nCleaning... 2% ...done!\r\nBuild Remote Engine...\r\nReading tasks...Building engine... ...done!\r\n 2147483647% ...done!\r\nBuilding... 3% 4% 5% 6% 7% 8% 9% 10% 11% 12% 13% 14% 15% 16% 17% 18% 19% 20% 21% 22% 23% 24% 25% 26% 27% 28% 29% 30% 31% 32% 33% 34% 35% 36% 37% 38% 39% 40% 41%java.io.FileNotFoundException: \/Users\/tony\/Workspace\/royalmatch\/build\/default\/m3\/assets\/images\/bar.png (Not a directory)\r\n\tat java.base\/java.io.FileOutputStream.open0(Native Method)\r\n\tat java.base\/java.io.FileOutputStream.open(FileOutputStream.java:293)\r\n\tat java.base\/java.io.FileOutputStream.<init>(FileOutputStream.java:235)\r\n\tat java.base\/java.io.FileOutputStream.<init>(FileOutputStream.java:184)\r\n\tat com.dynamo.bob.fs.DefaultResource.setContent(DefaultResource.java:61)\r\n\tat com.dynamo.bob.CopyCustomResourcesBuilder.build(CopyCustomResourcesBuilder.java:62)\r\n\tat com.dynamo.bob.Project.runTasks(Project.java:1619)\r\n\tat com.dynamo.bob.Project.createAndRunTasks(Project.java:1314)\r\n\tat com.dynamo.bob.Project.doBuild(Project.java:1424)\r\n\tat com.dynamo.bob.Project.build(Project.java:711)\r\n\tat com.dynamo.bob.Bob.mainInternal(Bob.java:893)\r\n\tat com.dynamo.bob.Bob.main(Bob.java:953)\r\n 100% ...done!\r\n ...done!\r\n\r\nThe build failed for the following reasons:\r\nERROR m3\/assets:0 \/Users\/tony\/Workspace\/match\/build\/default\/m3\/assets\/images\/bar.png (Not a directory)\r\n```\r\n\r\ngame.project:\r\n```\r\n[project]\r\ncustom_resources = m3\/assets\r\n```\r\n\r\nDirectory `m3` added by extension\r\n\r\n**Workaround (OPTIONAL):**\r\nMove assets from extension to project\r\n","comments":[],"labels":["bug","bob"]},{"title":"Add ability to draw several tiles height objects as one item on the tilemap","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI'm making a game with a tileset where trees and some furniture are two or three tiles height. It can be resolved by using an additional layer and putting top tiles there but it causes issues with y-sorting when sprites are also higher that a tile:\r\n* when sprite is in front\/aside of the high object, top tile overlaps the sprite even when it shouldn't\r\n* if we hide overlaping tile, we have to draw it back when sprite moves behind the high object and now should be overlaped\r\n* it makes code more difficult to manage if this high object should be replaced by game logic\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nAs an option, you can allow to mark several tiles in one column of the tileset as one object, so it can be placed on the tilemap as one piece without adding additional layer manually. It is necessary to make it works properly with y-sort.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nThere are two options how it can be without changes in engine:\r\n1. Using additional layer (described above)\r\n2. Using sprites to display high objects instead of tiles (will make game logic more complicated)\r\n\r\n**Additional context (OPTIONAL):**\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/11061723\/e90acc43-e987-4835-a12b-857dd4fefdf7)\r\n\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/11061723\/964c9206-807c-4896-b840-7cd077155801)\r\n\r\nGodot 4 has similar functionality \r\n![image](https:\/\/github.com\/defold\/defold\/assets\/11061723\/620e61f6-986b-4587-87af-a1d21247cdcf)\r\n\r\n","comments":["Thank you for the feature request. This is currently way beyond the capabilities of the Defold tilemap editor. I wonder if this is supported in something like Tiled?","@britzl seems like in Tiled it should be possible by using several tilesets - separated tileset for each size or main tileset with \"Collection of images\" tileset. I think if using tilesets with different sizes allows to use the grid based on the smalles tileset, and it works fine with y-sort then it will be a good option."],"labels":["feature request","engine","editor","tilemap"]},{"title":"Linux ARM64 (AArch64) as target platform","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nARM processors are becoming more and more common, not only in mobile devices. It would be cool to be able to build a Defold game for Linux ARM64, not just x86_64. \r\n\r\nWhat kind of target devices are these?\r\n- SBC (single-board computer) devices like RPi and retro handhelds.\r\n- desktop computers. This is probably only Chromebooks on ARM with Linux kernel installed for now?\r\n- servers.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nAdd the arm64 option to the architectures of the Linux platform.\r\n\r\n","comments":["Most SBC devices do not use X11, so they will require DRM support for graphics output and keyboard handling. I'll make a separate issue on this and it comes out that it's great that @Jhonnyg is working on isolating all platform code into `dmPlatform`.","I'd appreciate this being a thing as a user of Asahi Linux on an M1 MacBook Pro - the OpenGL support is more mature than MacOS at this point."],"labels":["feature request"]},{"title":"Pause rendering for battery saving","body":"My mobile app does not change anything on the screen most of the time, but sometimes it needs 60 fps to render a smooth animation. This no-change situation could be taken advantage of to save CPU\/GPU cycles and thus save battery.\r\n\r\nWhen forcing a lower frame rate, the app starts to become slow to respond to user input.\r\n\r\nIn order for the app to remain responsive with a zero frame rate, the input system (touch) has to be decoupled from the rendering loop.\r\n\r\nThe new battery saving feature can either be an automatic system which detects that nothing changes, and\/or a manual system where the the frame rate can be set to zero, or rendering paused.\r\n\r\nIf an automatic change detection is used, it should work with Rive.\r\n","comments":[],"labels":["feature request"]},{"title":"Add right-click menu in code editor to copy and paste text","body":"\u6211\u5728\u4f7f\u7528 Defold \u7f16\u8f91 Script \u4ee3\u7801\u65f6\uff0c\u603b\u662f\u4e60\u60ef\u6027\u7684\u901a\u8fc7\u9f20\u6807\u53f3\u952e\u529f\u80fd\u83dc\u5355\u8fdb\u884c\u4e00\u4e9b\u5feb\u6377\u64cd\u4f5c\uff0c\u5982\u590d\u5236\u548c\u7c98\u8d34\uff0c\u4f46\u662f\u5728 Defold \u4e2d\u7f16\u8f91 Script \u4ee3\u7801\u65f6\u662f\u6ca1\u6709\u53f3\u952e\u529f\u80fd\uff0c\u8fd9\u8ba9\u6211\u5f88\u662f\u82e6\u607c\uff0c\u56e0\u4e3a\u6211\u8fd9\u65f6\u5fc5\u987b\u7528\u53e6\u4e00\u53ea\u624b\u53bb\u70b9\u51fb Ctrl+C \u548c Ctrl+V\uff0c\u4f60\u4eec\u8981\u77e5\u9053\u8fd9\u6837\u53cd\u590d\u64cd\u4f5c\uff0c\u5de6\u624b\u662f\u5fc5\u987b\u4fdd\u6301 2 \u4e2a\u624b\u6307\u968f\u65f6\u5f85\u547d\uff0c\u8fd9\u8ba9\u4eba\u5341\u5206\u82e6\u607c\uff0c\u6211\u5e0c\u671b\u4f60\u4eec\u80fd\u52a0\u5165\u8fd9\u4e2a\u7b80\u5355\u597d\u7528\u7684\u9f20\u6807\u53f3\u952e\u5feb\u6377\u64cd\u4f5c\uff0c\u8c22\u8c22\uff01\r\n\r\n\u5728\u4f7f\u7528 Defold \u7f16\u8f91\u5668\u65f6\uff0c\u8ba9\u6211\u4e0d\u80fd\u7406\u89e3\u7684\u662f\uff0c\u9664\u4e86\u8fd9\u4e2a Script \u4ee3\u7801\u7f16\u8f91\u7a97\u53e3\u6ca1\u6709\u9f20\u6807\u53f3\u952e\u529f\u80fd\u83dc\u5355\uff0c\u5176\u5b83\u4e24\u8fb9\u7684\u529f\u80fd\u7a97\u53e3\u90fd\u6709\u9f20\u6807\u53f3\u952e\u529f\u80fd\u83dc\u5355\uff0c\u8fd9\u8ba9\u6211\u611f\u5230\u5341\u5206\u7684\u4e0d\u80fd\u7406\u89e3\uff0c\u4e3a\u4ec0\u4e48\u4f5c\u4e3a\u4e3b\u8981\u7f16\u8f91\u7a97\u53e3\u5c3d\u7136\u6ca1\u6709\u9f20\u6807\u53f3\u952e\u529f\u80fd\u83dc\u5355\uff1f\r\n\r\n\u4e0d\u7ba1\u600e\u6837\uff0c\u8fd8\u662f\u8bf7\u6dfb\u52a0\u8fd9\u4e2a\u597d\u7528\u7684\u529f\u80fd\uff0c\u5982\u679c\u662f\u6211\u90a3\u91cc\u6ca1\u80fd\u8bbe\u7f6e\u8fd9\u4e2a\u5f00\u5173\uff0c\u54ea\u8bf7\u5b50\u8fd9\u91cc\u544a\u77e5\uff0c\u8c22\u8c22\uff01\r\n\r\n\u73b0\u7528 Defold 1.6.2","comments":["\r\n>When I use Defold to edit Script code, I always use the right-click function menu to perform some shortcut operations, such as copy and paste. However, when editing Script code in Defold, there is no right-click function, which makes me very distressed because I have to use my other hand to click Ctrl+C and Ctrl+V. You have to know that if you do this repeatedly, you have to keep 2 fingers on your left hand ready at any time. This is very distressing. I hope you can join this simple and good Use the right mouse button for shortcut operation, thank you!\r\n>\r\n>When using the Defold editor, what I can't understand is that except for the Script code editing window, which has no right-click function menu, the other two functional windows have right-click function menus. This makes me feel very incomprehensible. There is no right-click function menu in the editing window?\r\n>\r\n>Anyway, please add this useful function. If I can't set this switch, please let me know here, thank you!\r\n>\r\n>Currently using Defold 1.6.2\r\n\r\n\r\nhttps:\/\/forum.defold.com\/t\/script\/75274"],"labels":["feature request","editor"]},{"title":"Make tips more useful","body":"**Task (REQUIRED):**\r\nNewcomers complain that tips we have in the editor are for the people \"who knows Defold\" and they don't really need these tips. But for newcomers these aren't that useful really.\r\n\r\nA comparison between unity and Defold:\r\n\r\n![telegram-cloud-photo-size-2-5433705543446417690-y](https:\/\/github.com\/defold\/defold\/assets\/2209596\/8be5dd62-ed45-47e5-878f-1a95a9898677)\r\n![telegram-cloud-photo-size-2-5433705543446417691-y](https:\/\/github.com\/defold\/defold\/assets\/2209596\/bc859c93-58c9-44cf-ab86-b5432f00bc06)\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/2209596\/147c03a9-54b2-4b33-9a25-56c0d3ebe8b2\r\n\r\n\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/2209596\/af86e89c-ea48-4b68-9494-464b6edca9c6\r\n\r\n\r\n\r\n**Expected outcome (REQUIRED):**\r\nTips are useful and informative, even if it's very first project in Defold for you. \r\n\r\n\r\n","comments":[],"labels":["task","editor","documentation","good first issue?"]},{"title":"Do not copy same models in bundle","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI use defold-blender export plugin. This plugin can export meshes of glb.\r\nI make test scene and try export meshes and glb.\r\n\r\n![2023-12-04_13-37-07](https:\/\/github.com\/defold\/defold\/assets\/2655263\/2879caa0-d696-4e3e-a007-8d8bab558aff)\r\n![2023-12-04_13-34-47](https:\/\/github.com\/defold\/defold\/assets\/2655263\/2be2ae37-1fa8-4128-a20a-24baa88ecdbd)\r\n\r\nLook at Sphere. \r\n\r\n1)Every mesh after export is new glb model or buffer.\r\n2)For buffer defold check if it same. And copy only one of buffers if it contains same data.\r\n3)For model defold copy all of them\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nWhen build do not copy same model data in archive.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nUse buffers to export from blender.\r\nMb check same models in blender(i have no idea how to do it)\r\n\r\n**Additional context (OPTIONAL):**\r\nSame model exported from blender.\r\n[meshes.zip](https:\/\/github.com\/defold\/defold\/files\/13544916\/meshes.zip)\r\n\r\n\r\n","comments":[],"labels":["feature request","model","pipeline","mesh"]},{"title":"Prototype use of Teal as a typed Lua alternative","body":"Follow-up prototyping task to https:\/\/github.com\/defold\/defold\/issues\/6398","comments":["Hello. It's great that you are exploring options for adding type annotations to Defold.\r\n\r\nI would like to add my 5 cents, as this topic was actively discussed in the Russian-speaking Defold chat.\r\n\r\nWhen we were exploring the possibility of integrating Teal into our workflow, the main limitation that stood out for us was the restriction on union types in Teal: [Teal Documentation on Current Limitations of Union Types](https:\/\/github.com\/teal-language\/tl\/blob\/master\/docs\/tutorial.md#current-limitations-of-union-types)\r\n\r\nThis made it challenging to create definitions even for the standard Defold API in certain situations. The simplest example is the function `vmath.length`, which accepts a union type of `vector3|vector4|quat`.\r\n\r\nThis limitation led us to switch to EmmyLua and later to sumneko's Lua Language Server, proved to be much more functional, albeit with a lot of problems of its own.","> Hello. It's great that you are exploring options for adding type annotations to Defold.\r\n> \r\n> I would like to add my 5 cents, as this topic was actively discussed in the Russian-speaking Defold chat.\r\n> \r\n> When we were exploring the possibility of integrating Teal into our workflow, the main limitation that stood out for us was the restriction on union types in Teal: [Teal Documentation on Current Limitations of Union Types](https:\/\/github.com\/teal-language\/tl\/blob\/master\/docs\/tutorial.md#current-limitations-of-union-types)\r\n> \r\n> This made it challenging to create definitions even for the standard Defold API in certain situations. The simplest example is the function `vmath.length`, which accepts a union type of `vector3|vector4|quat`.\r\n> \r\n> This limitation led us to switch to EmmyLua and later to sumneko's Lua Language Server, proved to be much more functional, albeit with a lot of problems of its own.\r\n> This made it challenging to create definitions even for the standard Defold API in certain situations. The simplest example is the function `vmath.length`, which accepts a union type of `vector3|vector4|quat`.\r\n\r\nThis will be solved in the next Teal version: https:\/\/github.com\/teal-language\/tl\/pull\/732"],"labels":["task","lua"]},{"title":"Error when trying to restart after update","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\n\r\n### Actual behaviour\r\n\r\n### Steps to reproduce\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-11-23T08:02:18.242359<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>32c7a7f321c3ed0b1ce848fa9e7b500e09a7d311<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>4e156b7cf37a380122aada30dacbf2b590ead76b<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.2<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"1dd0687afed149eda1d433a8dec1c6ed\"'>1dd0687afed149eda1d433a8dec1c6ed<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>AMD Radeon Pro 580 OpenGL Engine<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>2.1 ATI-4.14.1<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>x86_64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Mac OS X<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>13.6.1<\/td><\/tr>\r\n<table>","comments":["Not sure exactly what happened. Defold keeps telling me that I need to restart to update, but when I click the \"Restart to Update\" text button it crashes. Closing and reopening Defold seems to solve the issue.","```\r\ncom.dynamo.bob.ClassLoaderScanner.scanLoader.class java.lang.RuntimeException: java.nio.file.NoSuchFileException: \/Applications\/Defold.app\/Contents\/Resources\/packages\/defold-32c7a7f321c3ed0b1ce848fa9e7b500e09a7d311.jar\r\n    at com.dynamo.bob.ClassLoaderScanner.scanLoader(ClassLoaderScanner.java:122)\r\n    at com.dynamo.bob.ClassLoaderScanner.scanClassLoader(ClassLoaderScanner.java:129)\r\n    at editor.code.preprocessors$try_initialize_lua_preprocessors.invokeStatic(preprocessors.clj:108)\r\n    at editor.code.preprocessors$reload_lua_preprocessors_BANG_.invokeStatic(preprocessors.clj:152)\r\n    at editor.workspace$load_java_editor_plugins_BANG_.invokeStatic(workspace.clj:494)\r\n    at editor.workspace$reload_plugins_BANG_.invokeStatic(workspace.clj:628)\r\n    at editor.disk$start_save_job_BANG_$fn.invoke(disk.clj:165)\r\n    at clojure.core$binding_conveyor_fn$fn.invoke(core.clj:2030)\r\n    at clojure.lang.AFn.call(AFn.java:18)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    at java.lang.Thread.run(Thread.java:833)\r\n```","The error is somehow related to lua preprocessor, I guess there is a lua preprocessor plugin interfering with the updater..","@jamma Do you use https:\/\/github.com\/defold\/extension-lua-preprocessor?","Not that I know of. I'm very new to Defold but according to the lua-preprocessr github page I'd have to set this up under game.project -> Project -> Dependencies. That property is currently empty, I have no installed editor extensions outside of what may come with a default Defold installation."],"labels":["bug","editor","macos"]},{"title":"Native api for draw debug lines","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nUsing message draw_line can be slow when you need to draw a lot of lines. \r\nFor example debug for 3d physics.\r\n\r\nhttps:\/\/forum.defold.com\/t\/reactphysics3d-native-extension\/72544\/15?u=d954mas\r\n```\r\nDebug render is very slow. I think it because every line is `msg.post`\r\n```\r\nhttps:\/\/github.com\/d954mas\/defold-reactphysics3d\/blob\/f7099ad54dd4d101ae45d306f4ffccea307e8657\/reactphysics3d\/src\/objects\/debug_renderer_userdata.cpp#L121\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nNative api for draw_line.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nPost message draw_line\r\n\r\n**Additional context (OPTIONAL):**\r\n\r\n","comments":[],"labels":["feature request","engine","render"]},{"title":"`render.FORMAT_*` texture formats exist even if they are non-renderable","body":"**Describe the bug (REQUIRED)**\r\n@JCash stated here https:\/\/github.com\/defold\/defold\/issues\/6319#issuecomment-1060537485 that in the current implementation, the format will either exist (not nil), or be nil, depending on the support on the device. \r\n\r\nIn reality, the list of color renderable formats are hard-coded for GLES 3 \/ WebGL 2.0 - https:\/\/github.com\/defold\/defold\/blob\/799a9e73dc2f3518387e3eb5a1a77f98c002e019\/engine\/graphics\/src\/opengl\/graphics_opengl.cpp#L1171\r\nhttps:\/\/github.com\/defold\/defold\/blob\/799a9e73dc2f3518387e3eb5a1a77f98c002e019\/engine\/render\/src\/render\/render_script.cpp#L2998\r\n\r\nI think that \"renderability\" of the formats should be detected on the engine start. \r\n\r\n**Expected behavior (REQUIRED)**\r\nI expect that:\r\n- if `resource.TEXTURE_FORMAT_*` exists, you can use it as color texture.\r\n- if `render.FORMAT_*` exists, you can render into that format.\r\n\r\nNow on GLES 3.0\/WebGL 2.0 devices Defold always [tells you that you can render to R16F and other formats](https:\/\/github.com\/defold\/defold\/blob\/799a9e73dc2f3518387e3eb5a1a77f98c002e019\/engine\/graphics\/src\/opengl\/graphics_opengl.cpp#L1177), although this is not always the true.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version: 1.6.2\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: All.\r\n\r\n**Additional context (OPTIONAL):**\r\nRelated issue https:\/\/github.com\/defold\/defold\/issues\/6319\r\n\r\nFor example, FYI:\r\n- GLES 2.0, WebGL 1.0: `OES_texture_half_float` indicates that the device supports 16-bit floating point texture formats aka you use RGBA16F texture for your 3D model.\r\n- GLES 2.0\/3.0, WebGL 1.0\/2.0: `EXT_color_buffer_half_float` **allows** rendering to 16-bit floating point formats.\r\n- OpenGL (desktop): it looks like you can render to anything here. The OpenGL spec is enormously huge and it's easier to check empirically.\r\n\r\nPlus, there are GLES 3.0 mobile devices that do not support GL_EXT_color_buffer_float \/ WEBGL_color_buffer_float (look at [gpuinfo](https:\/\/opengles.gpuinfo.org\/listreports.php?extension=GL_EXT_color_buffer_float&option=not) - do not forget to filter out really dated Mali-4xx, or [Poki Player Device Report](https:\/\/developers.poki.com\/player-device-report\/)) or GL_EXT_color_buffer_half_float. ","comments":["To clarify: this is important not only because of the huge variety of mobile devices. On desktop, in spite of 100% support for half float by all GPUs and the same backend (ANGLE), browsers do not have the same support for extensions. For some reason Firefox does not have an extension for rendering to the half float colour buffer:\r\n\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/193258\/776853fb-a422-4b5a-9945-fee6055864c3)\r\n"],"labels":["bug","engine","html5","render"]},{"title":"Add apply impulse to Defold Physics 2D\/3D API","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI\u2019m trying to port a Unity game to Defold, it relies heavily on the 2D physics engine, which fortunately is Box2D in both.\r\n\r\nIn our Unity games, we use a lot [ForceMode2D.Impulse](https:\/\/docs.unity3d.com\/ScriptReference\/ForceMode2D.Impulse.html), which I guess translates internally to [ApplyLinearImpulse](https:\/\/box2d.org\/documentation\/classb2_body.html#a7f677e93efb3c4c065087aff317274a3)\r\n\r\nBut in Defold, I only see [apply_force](https:\/\/defold.com\/ref\/physics\/#apply_force)\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nSame way as we currently have [apply_force](https:\/\/defold.com\/ref\/physics\/#apply_force), I'd like to have `apply_impulse`\r\nInternally, for 2D it would call [ApplyLinearImpulse](https:\/\/box2d.org\/documentation\/classb2_body.html#a7f677e93efb3c4c065087aff317274a3)\r\nfor 3D, Bullet has [applyImpulse](https:\/\/github.com\/bulletphysics\/bullet3\/blob\/39b8de74df93721add193e5b3d9ebee579faebf8\/src\/BulletDynamics\/Dynamics\/btRigidBody.h#L335), but I can't find it in the code source of Defold (not sure if maybe it's because the actual source are not in the repo, but downloaded later when building ?)\r\nOr like Unity did, add a parameter to the apply_force to specify if it's a force or an impulse.\r\n\r\nI'd be happy to contribute a potential solution if we can agree on something.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nI believe I could maybe set [linear_velocity](https:\/\/defold.com\/ref\/physics\/#linear_velocity) taking into account the mass of my rigidbody, but I\u2019d rather let the physics engine set the final velocity of the rigidbodies.\r\n\r\nAlternatively, I could just bring Box2D directly via https:\/\/defold.com\/assets\/defold-box2d\/, but it seems it would require much more code and time to then use physics in the game, which relies heavily on physics to begin with...\r\n\r\n**Additional context (OPTIONAL):**\r\n* I mentioned this problem initially on Defold forum, cf. https:\/\/forum.defold.com\/t\/apply-impulse-in-2d-physics\/74388\r\n* The game I'm trying to port: https:\/\/surmoi.itch.io\/baijiu-drifters","comments":[],"labels":["feature request","engine","physics"]},{"title":"Inconsistent negative go scaling through API ","body":"**Describe the bug (REQUIRED)**\r\nFound some strange behaviour that we cannot scale go to negative values to mirror it. But only if you are trying to make it through go.set_scale API. Some other variants work fine:\r\n\r\n```\r\ngo.set_scale(vmath.vector3(-1, 1, 1)) -- not work\r\ngo.set(\".\", \"scale.x\", -1) -- works\r\ngo.animate(\".\", \"scale.x\", go.PLAYBACK_LOOP_PINGPONG, -1, go.EASING_LINEAR, 1) -- works\r\n```\r\nFirst variant does't work because of [this](https:\/\/github.com\/defold\/defold\/blob\/f1da373b895df6f80fd18dbd747adbf4b9c05e0f\/engine\/gameobject\/src\/gameobject\/gameobject_script.cpp#L1277) \r\nIs there some motivation to restrict negative scale?\r\n\r\n**Expected behavior (REQUIRED)**\r\nAll api gives error or work without it\r\n\r\n**Defold version (REQUIRED):**\r\n  - Any\r\n\r\n**Platforms (REQUIRED):**\r\n - Any\r\n","comments":["I  believe this design decision was made due to make it easier for the physics engine(s).\r\nIn general, physics engines don't allow non uniform or negative scaling.\r\n\r\nI agree, it should be up to the user to avoid that mistake, and we should make the api's more consistent.\r\n"],"labels":["bug","engine","physics"]},{"title":"The gui_script can get layout_changed before proxy_loaded","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n\r\nI have 3 collections: **main, debug, scene**.\r\nI added layouts to **scene** collection.\r\nThe **debug** collection will change window size in the init function: `msg.post(\"@render:\", \"resize\", {width = 640,height = 960})`\r\nIn the **main** collection I start loading **debug** and **scene** proxies using **async_load**.\r\nThe bug appears from time to time.\r\n\r\n### Expected behaviour\r\n\r\n1. The **main** collection receives the **proxy_loaded** message and sends an **init** message to the **scene** collection.\r\n2. Perhaps at this moment the **debug** collection is initialized and the game changes sizes. Perhaps this happens after 4 point.\r\n3. The **scene** collection is initialized.\r\n4. The **scene** collection receives the **layout_changed** message or the **scene** already has a new layout\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/12486956\/974097ce-5f74-4adf-bafe-56635090dc54)\r\n\r\n### Actual behaviour\r\n\r\n1. The **main** collection receives the **proxy_loaded** message and sends an **init** message to the **debug** collection.\r\n2. The **debug** collection is initialized and the game changes sizes.\r\n3. The **main** collection doesn't receive the **proxy_loaded** message for the **scene** collection.\r\n4. The **scene** collection receives the **layout_changed** message\r\n5. The **main** collection receives the **proxy_loaded** message for the **scene** collection.\r\n6. The **scene** collection is initialized.\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/12486956\/9ccabfb7-e349-4296-b4c4-5018d40f69e3)\r\n\r\n\r\n### Steps to reproduce\r\n[Bug.zip](https:\/\/github.com\/defold\/defold\/files\/13440510\/Bug.zip)\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-11-22T07:56:30.866726<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>1d7b3883314cfca0cd91febe38a0d5fded8f3b02<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>708bbcc6985d4cf3719829603972a39895a03a07<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.2<\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Radeon RX 580 Series<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 Compatibility Profile Context 23.7.1.230626<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":[],"labels":["bug","engine","gui"]},{"title":"Sounds in html5 not started until first user touch","body":"**Describe the bug (REQUIRED)**\r\n\r\n**ERROR:SOUND: Out of sound data instance slots (256). Increase the project setting 'sound.max_sound_instances'\\n\"**\r\n\r\nBrowser block sound play until first user touch. So sounds not started and player reach limit.\r\n\r\nThis error not block player from playing in my case. But if someone use cb of sounds for logic it can break there games.\r\n\r\nThis example from my game. I play step sounds when player move.\r\n\r\n**This is correct. I make touch and you can hear sounds.**\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/2655263\/3105c490-8453-48a8-a434-dbc35f8531bb\r\n\r\n**This is error.**\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/2655263\/84357247-64f6-42c2-828a-75a3433ed960\r\n\r\nAlso you can hear in video that all sounds start playing on first touch.\r\n\r\n\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Start web build\r\n2. Some sounds\r\n3. Sounds not finished until user make first touch(browser not allow to play sounds untils first click or touch)\r\n4. You get error when reach limit.\r\n\r\n**Expected behavior (REQUIRED)**\r\nNot sure what is best case for that scenario. \r\nIf it possible sounds should started and finished. If not mb we need sound.can_play() method\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.1\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: HTML5\r\n\r\n","comments":[],"labels":["bug","sound","html5"]},{"title":"Failed to rename \u2018._httptmp\u2019 to \u2018\u2019","body":"**Describe the bug (REQUIRED)**\r\n\r\nhttps:\/\/forum.defold.com\/t\/error-failed-to-rename-httptmp-to-n\/74935\r\n\r\nI have this error in poki dashboard.\r\n\r\n\u2018\u2019\u2019\r\n\u201cDEFOLD:ERROR:SCRIPT: Failed to rename \u2018._httptmp\u2019 to \u2018\u2019\\n\u201d\r\n\u2018\u2019\u2019\r\n_httptmp failed to rename to empty string.\r\n\r\n8% of user report error.\r\nThis is web build. I can't reproduce it.\r\n\r\nhttps:\/\/github.com\/defold\/defold\/blob\/dev\/engine\/script\/src\/script_http_util.h#L26\r\n\r\n\r\nLooks like path required. But you not set it value in http js version. What value have m_Path now.\r\n\r\nSo 8% of user get empty string '' in m_path, and 92% of user have 0 in m_path value.\r\n\r\nhttps:\/\/github.com\/defold\/defold\/blob\/750368cbae6e010f68f8f4c71c244c59f1e0bda2\/engine\/script\/src\/script\/http_ddf.proto#L40\r\n\r\nI can be wrong but in js version of http.requests you can't use path.\r\n\r\nMb you need set it to 0 here?\r\nhttps:\/\/github.com\/defold\/defold\/blob\/750368cbae6e010f68f8f4c71c244c59f1e0bda2\/engine\/script\/src\/script_http_js.cpp#L80\r\n\r\n\r\n**To Reproduce (REQUIRED)**\r\nCan't reproduce\r\n\r\n**Expected behavior (REQUIRED)**\r\nhttp.request not try to save something in path l\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.1\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: HTML5\r\n","comments":["![CleanShot 2024-02-04 at 23 12 14@2x](https:\/\/github.com\/defold\/defold\/assets\/2209596\/d6a4251e-6e11-40b8-beb2-05189e31e051)\r\nthe same"],"labels":["bug","html5","network"]},{"title":"Add shader path to shader errors.","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI get some errors in poki dashboard. But i have no idea which shader throw this error.\r\nIt is not critical for me, there are only few such errors. But this can be helpful.\r\n\r\n```\r\n\"DEFOLD:ERROR:GRAPHICS: 0:1: F0003: Shader too long. This shader is 583 instruction words long, but\\n Mali-400 GP only supports up to 512 instruction words.\\n\\n\"\r\n```\r\n\r\nI think this is line, but i can be wrong.\r\nhttps:\/\/github.com\/defold\/defold\/blob\/750368cbae6e010f68f8f4c71c244c59f1e0bda2\/engine\/graphics\/src\/opengl\/graphics_opengl.cpp#L1890\r\n\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nPlease add path to shader in error. Something like this\r\n```\r\n\"DEFOLD:ERROR:GRAPHICS: Error in shader:\"\/assets\/materials\/model_bones.vp\". 0:1: F0003: Shader too long. This shader is 583 instruction words long, but\\n Mali-400 GP only supports up to 512 instruction words.\\n\\n\"\r\n```\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nNo alternatices","comments":[],"labels":["feature request","engine","render"]},{"title":"Return value format differs for physics.raycast if options argument is provided or not","body":"**Describe the bug (REQUIRED)**\r\n`physics.raycast` can be called without the last argument `options` (which was added in #4870). This is what is done in the manual ([Physics - Ray casts](https:\/\/defold.com\/manuals\/physics-ray-casts\/)) and an example ([Physics - Raycast](https:\/\/defold.com\/examples\/physics\/raycast\/)).\r\n\r\nHowever, the [API reference](https:\/\/defold.com\/ref\/stable\/physics\/#physics.raycast) doesn't indicate that `options` is optional. It also doesn't specify that the return value format differs if `options` is provided.\r\n\r\n- With `options`, the return value is nil or an *array of* `ray_cast_response`\r\n- Without `options`, the return value is nil or a `ray_cast_response`\r\n\r\n**To Reproduce (REQUIRED)**\r\nSet up a project and call `physics.raycast` with and without `options` (it should be `{all=true|false}`). You can grab the collection and code from [the physics example](https:\/\/github.com\/defold\/examples\/tree\/master\/examples\/physics\/raycast).\r\n\r\n**Expected behavior (REQUIRED)**\r\nI see two possible solutions, with my preference being the first:\r\n1. Update the API reference to state that `options` is optional, and add info describing the differing return value formats.\r\n2. Update the API reference to include the \"legacy\" behavior, and update the manual and example to use the \"new\" behavior with explicit `options`.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.2.170\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows\r\n - OS: Windows 10","comments":[],"labels":["bug","engine","physics"]},{"title":"Handle WebGL context loss","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nWebGL context can be lost when not enough GPU resources are available. \r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI don't know how the game can restore it, or if it should. But at the very least, it should have a handler for this error. Because in the logs of the error reporting system I see _indirect_ errors that there is no WebGL context and consequently players see a frozen game:\r\n\r\n- `TypeError: Argument 1 ('shader') to WebGL2RenderingContext.shaderSource must be an instance of WebGLShader`\r\n- `TypeError: Failed to execute 'getAttribLocation' on 'WebGL2RenderingContext': parameter 1 is not of type 'WebGLProgram'`\r\n- `TypeError: WebGLRenderingContext.shaderSource: Argument 1 is not an object.`\r\n\r\netc.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nNo alternatives.\r\n\r\n**Additional context (OPTIONAL):**\r\nhttps:\/\/www.khronos.org\/webgl\/wiki\/HandlingContextLost\r\n","comments":["Aha, the game is not frozen. The player sees a blank page, but the game logic (and even sounds!) works as before.\r\n\r\nMy current workaround is to reload the page if the context loss happens:\r\n```js\r\ndocument.getElementById(\"canvas\").addEventListener(\"webglcontextlost\", function (event) {\r\n    location.reload();\r\n});\r\n```","Do you know under which circumstances this can happen? It would be nice to be able to reproduce it. I wonder how if it is possible to handle it gracefully in the engine if we listen for the \"webglcontextlost\" event? Or is the only option to reload the page?","Another option might be restarted the engine. \r\nAlso, it's interesting what context lost mean. As I understand, resources will be lost if we just recreate context, so it's not that easy to recreate it we should also reload resources. \r\nI think it's similar on android.\r\n\r\nBut I agree, it would be nice to reproduce it locally.","> **Additional context (OPTIONAL):**\r\n> https:\/\/www.khronos.org\/webgl\/wiki\/HandlingContextLost\r\n\r\nThe document explains well the circumstances of the context loss.\r\n\r\nTo test the behavior locally use the extension https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/WEBGL_lose_context\/loseContext","Thanks. We'll add it to our backlog. We will start working on HTML5 related tasks more frequently in the coming months.","I'm not sure if this is useful as a reference, but Phaser implemented [Webgl context restore](https:\/\/github.com\/phaserjs\/phaser\/blob\/master\/changelog\/3.80\/WebGLContextRestore.md) in the latest update."],"labels":["feature request","html5","render"]},{"title":"Evaluate using Profile-Guided Optimization (PGO) and LLVM BOLT","body":"_Is it a private platform specific feature? (i.e. would it break your NDA?)<br>\r\nNo.\r\n\r\n**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nNot a problem. Just an idea of how to possibly improve the Defold engine performance from the CPU perspective.\r\n\r\nI am collecting all materials (benchmarks, articles, stories, showcases, etc.) about Profile-Guided Optimization (PGO) across different applications [here](https:\/\/github.com\/zamazan4ik\/awesome-pgo). I am sure you will be able to find helpful information regarding PGO.\r\n\r\nRelated to the gamedev domains, I suggest you look at the following things:\r\n\r\n* Unreal Engine supports PGO build since 4.27 ([release notes](https:\/\/docs.unrealengine.com\/4.27\/en-US\/WhatsNew\/Builds\/ReleaseNotes\/4_27\/)). According to the documentation, PGO allows to achieve better performance on UE too (+10% on some CPU-heavy scenarios from this page). Also, I've talked with developers in a local Telegram chat about UE. A person said that they use PGO as a default optimization with UE and their games. The PGO profiles are collected via crafted local test workloads (usually - the most difficult scenes) with [Gauntlet](https:\/\/docs.unrealengine.com\/4.27\/en-US\/TestingAndOptimization\/Automation\/Gauntlet\/). The performance improvement is something like 6-8%\r\n* I did some benchmarks for Bevy with PGO. PGO-run (first) vs non-PGO (second) - [Pastebin](https:\/\/gist.github.com\/zamazan4ik\/bbffbdf9b10e2a281f5d5373347f48ef). In these results you need to interpret performance decrease as \"Release version is slower than PGOed\" and performance increase as \"Release version is faster than PGOed\". As you see, in many scenarios PGO improves performance, but in some of them, performance is decreased.\r\n* Godot proposal about PGO - [link](https:\/\/github.com\/godotengine\/godot-proposals\/issues\/2610)\r\n* Unity Burst thread about PGO - [link](https:\/\/forum.unity.com\/threads\/profile-guided-optimisation-for-burst.931419\/)\r\n\r\nThat's why I think trying to optimize Defold with PGO would be a good idea.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI can propose the following action points:\r\n\r\n* Check the PGO effects on Defold. If it works well - write a note in the Defold documentation about building with PGO. \r\n* Provide an easy way to build Defold with PGO (e.g. via custom build options in the build scripts), and experienced users will be able to rebuild Defold with PGO on their own for their own usage scenarios.\r\n* Optimizing prebuilt binaries with PGO would be a nice thing to have (if it's possible to prepare a generic enough workload).\r\n\r\nAs an additional optimization, I suggest looking at [LLVM BOLT](https:\/\/github.com\/llvm\/llvm-project\/blob\/main\/bolt\/README.md). But from my experience, starting with PGO and only then using BOLT would be better.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nDo not perform additional optimization.","comments":["Hi!\r\n\r\nWhile the PGO feels useful, I also get flashes of shader compiler permutations.\r\n\r\nI think it might be doable to add a compile flag, to research any potential gains.\r\n\r\nI don't know enough about how the workflow though.\r\nI'm guessing this PGO is only used occasionally? As it otherwise would be subject of a loop of `compile->run test->compile->run test...` which would  take an undue time for every change we do to the code.\r\nHow many runs are recommended? 1, 2, 5?\r\n\r\nCurrently, building the entire engine takes ~50seconds, while running the tests takes ~5 minutes\r\nRebuilding a library+engine takes a couple of seconds, and adding running all the tests (if only for that library), would be a no go for development.\r\n\r\nIs the goal to identify possibly optimizations that the compiler can suggest to us, or is it to \"just\" optimize the compiled code?\r\n\r\nIn general, I want the default build (for the devs) to be the same code as the end user runs.\r\nI feel doing this PGO step is a new beast entirely, that we'd need to think more about for our production code.\r\nAs a separate parameter though, for the professional ones that want to build their own builds from scratch, it shouldn't be a problem.\r\n\r\nI think LLVM BOLT suffers a bit from the same problem.\r\nFor us to run the same code as the users, we would have to continually run all the tests first, so we debug the same code as they run.\r\n\r\nSo, in summary:\r\n* Yes, I think it might be interesting to add a build flag for research\r\n* No, I don't think it should be default behavior at this time\r\n\r\n","> I'm guessing this PGO is only used occasionally?\r\n\r\nGenerally speaking, yes, you are right - PGO-optimized builds could be done only for the Releases (when we want to deliver the most optimized version). Definitely, there is no reason to perform PGO optimization for usual development builds.\r\n\r\nHowever, it's possible to precompute training data (`.profraw`\/`.gcda` files for Clang\/GCC correspondingly, don't know how they are called in MSVC), commit it to the repo, and reuse it for each compilation (or at least when you run benchmarks in CI). It won't add any compile-time overhead because the most time-consuming operation in PGO is training data collection. But in this case, you need to keep in mind the \"profile skew\" problem. It's the problem when your precomputed training data are skewed from the actual source code. It's not a big problem for rarely-touched source code (because there will be no skew there, obviously) but it could be the case for the fast-evolving codebase parts. Anyway, it could be easily mitigated by regenerating & committing the training data each N commits (N is up to you and could be found empirically or based on code coverage decision - more info is [here](https:\/\/github.com\/Kobzol\/cargo-pgo\/issues\/30) (the same approach is valid for C++ codebase too)).\r\n\r\n> Rebuilding a library+engine takes a couple of seconds, and adding running all the tests (if only for that library), would be a no go for development.\r\n\r\nI want to highlight that using the \"usual\" tests like unit tests is not the best idea for getting PGO results. Because unit-tests often perform testing of many corner cases but with PGO we want to optimize the hot path (and corner cases are not in the hot path by the definition). So perhaps would be a better idea to craft more specific near real-life scenarios and get the PGO profiles from it. But if you already have such tests (I trust you since I have no insights about the current tests infra in Defold) - it's completely ok to use the existing tests.\r\n\r\n> How many runs are recommended? 1, 2, 5?\r\n\r\nThe aim here is to cover with profiles as much code as possible. So if you have various real-life scenarios, would be best if you run all of them. However, each scenario is enough to run only 1 time (if all used for PGO scenarios have equal importance for you).\r\n\r\n> Is the goal to identify possibly optimizations that the compiler can suggest to us, or is it to \"just\" optimize the compiled code?\r\n\r\nHmmm, I am not sure what you meant here :) I suggest at the beginning trying to recompile Defold with PGO and try to measure the possible performance benefits in CPU-bound applications (and in not CPU-bound - measure CPU usage reduction). And if PGO gives something - think about how PGO could be integrated into the Defold build pipelines (e.g. an additional build flag in the build scripts).\r\n\r\n> In general, I want the default build (for the devs) to be the same code as the end user runs.\r\nI feel doing this PGO step is a new beast entirely, that we'd need to think more about for our production code.\r\nAs a separate parameter though, for the professional ones that want to build their own builds from scratch, it shouldn't be a problem.\r\n\r\nCompletely agree. PGO is definitely an advanced build option that requires some skills from the end-users to implement it for their own use cases. You as a Defold developer just can try to lower the entrance level to such an optimization for them in the case of Defold. Like UE chose this way (PGO is available via a build option and AFAIK default UE prebuilt binaries are not PGO-optimized yet).\r\n\r\n> I think LLVM BOLT suffers a bit from the same problem.\r\nFor us to run the same code as the users, we would have to continually run all the tests first, so we debug the same code as they run.\r\n\r\nI would suggest not thinking a lot about LLVM BOLT before testing\/implementing the PGO approach since PGO should provide more value with less effort, is a more \"stable\" optimization right now, has fewer limitations (like works on all major platforms (LLVM BOLT works fine only on Linux and experimentally on macOS)).\r\n\r\n> So, in summary:\r\n\r\nTotally agree with your conclusion!","\"I want to highlight that using the \"usual\" tests like unit tests is not the best idea for getting PGO results. Because unit-tests often perform testing of many corner cases but with PGO we want to optimize the hot path \"\r\n\r\nRight. So for us, we'd have to have a project that triggers _all_ code paths at the same time. I think we'd have a hard time maintaining such a project. We could theoretically synthesize such a project, but that's not without burden either.\r\nPossibly, we could use one of our community games, but question is, which one. ANd should it be 2D or 3D. And how often can we get updates from it? Sounds a bit cumbersome imho.\r\n\r\nBut, still, if the developer can supply such a .gprof file (or similar), I guess it would be fairly straightforward to pass it along to the build system if they want to build from scratch.\r\n\r\nFor our build server, given that this is a file given to the linker step, I think it's more feasible.\r\nE.g. if the user can supply a profile file, we can pass it along to the build server, and use that.\r\n\r\nI think that's the best of the two worlds: We don't have to do it for our libraries, and the users can optimize their own games individually.\r\n","> I think that's the best of the two worlds: We don't have to do it for our libraries, and the users can optimize their own games individually.\r\n\r\nCompletely agree with your conclusion!"],"labels":["feature request"]},{"title":"Render GUI in all editors without applying game object parent's transform","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nIn-game, GUI nodes are unaffected by the transform of their game object parent, but in-editor they are rendered as inheriting the transform. This is confusing and can make it arduous to edit certain game object hierarchies since you can't see how it will appear in the game.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nWhen rendering GUI components in the editor, they should never inherit any transform, as is the case when they are opened in the GUI editor. This should be true for the Collection editor and Game Object editor too. The same should apply to the GUI bounds rect, which should always be rendered the same for all GUIs in the editor.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nThe above assumes that the render script isn't modified to change the default behavior. For the case when it is, the editor should ideally show its content as it will appear in the game. Of course, this is not possible since how the GUI is rendered at any one moment is up to the user. As a feasible alternative, consider adding a setting\/checkbox in projects settings that controls if GUI is rendered in the editor with or without the parent's transform applied.\r\n\r\n**Additional context (OPTIONAL):**\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/22959728\/4d084851-e092-4cba-90f1-a97e2b983631)\r\n_A Game Object's transform applied to a GUI in the Collection editor_\r\n\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/22959728\/4091edc8-8350-4666-bd36-c9061f66e68c)\r\n_The above GUI as it appears in the GUI editor, and how it should arguably always appear_\r\n\r\nSolution Side Effect: Let's say you have a collection and a game object template with a GUI component. Within the collection you instantiate the template and assign it a certain transform. If you were to open the game object template, you would see the GUI rendered at a different position relative to the game object as compared to viewing it from the collection editor. This should be acceptable even if it may look strange at first \u2014 it's simply how the engine works.","comments":[],"labels":["feature request","editor"]},{"title":"properties copypaste","body":"Is your feature request related to a problem? Please describe (REQUIRED):\r\nI often find myself needing to change certain properties of multiple objects scattered across the field, such as text fields. Currently, I have to go into each object to manually modify properties like shadow color and shadow alpha. This process is tedious and time-consuming.\r\n\r\nDescribe the solution you'd like (REQUIRED):\r\nI'd like a feature that allows for the copying of specific properties of an object, without copying its coordinates. This would enable me to quickly and efficiently change properties like shadow color and alpha for multiple objects at once.\r\n\r\nDescribe alternatives you've considered (REQUIRED):\r\nAn alternative is a batch edit mode. However, this may not be as straightforward or efficient as simply copying and pasting properties.\r\n\r\nAdditional context (OPTIONAL):\r\nThis feature would be especially helpful when working with similar types of objects, like text fields or particles, where consistent styling or behavior is desired.","comments":[],"labels":["feature request","editor"]},{"title":"Update to Boto3","body":"With the rollout of Python 3.12 on GitHub Actions, it is time for us to migrate to Boto3\r\n\r\nMigration guide:\r\nhttps:\/\/boto3.amazonaws.com\/v1\/documentation\/api\/latest\/guide\/migration.html\r\n\r\nRepo:\r\nhttps:\/\/github.com\/boto\/boto3#boto3---the-aws-sdk-for-python","comments":[],"labels":["task","ci"]},{"title":"Optimise OpenGL renderer by utilizing OpenGL's state machine","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nBy learning the OpenGL renderer of the Defold engine, I came to the conclusion that it is designed as if it was created according to the OpenGL handbook (I hope that didn't sound rude!). I mean that any draw call starts with activation (or bind) of an object\/texture\/program and ends with deactivation (or unbind). Even if the next draw call uses the same texture, the same program, the same matrices, etc.\r\n\r\nAs we know, OpenGL is stateful. Therefore, you can specify texture parameters once, set constants to the program once, and so on.\r\n\r\nHow to use this fact? In modern games 50-100 draw calls per frame is becoming normal, because it is impossible to draw shadows, outlines, other effects and objects themselves in 1-3 draw calls. And I have found that in my game for about 100 draw calls the Defold engine makes about **5000 API calls**. In a single frame! That may not be so much, but modern OpenGL is:\r\n- on desktop runs as a client-server, commands are passed asynchronously. So graphics API calls do not go directly to the graphics card and passing any commands most likely takes extra CPU time.\r\n- on web each API call is a long chain of calls: Wasm -> JavaScript -> Browser -> [OpenGL] or [ANGLE -> DirectX] or [ANGLE -> Metal] (depends on the platform).\r\n\r\nAnd I came to the point that we can reduce the number of OpenGL API calls if we:\r\n- Do not set the same texture filtering parameters every draw call.\r\n- Cache values of uniform constants and update them only when they are really changed. This is especially noticeable when rendering models, when you need to draw 50 models with the same material that has 20 constants with almost the same values.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nReduce the number of OpenGL API calls by setting texture parameters and constants once, and so on.\r\n","comments":["Later I will make a PR where the constants will be cached. To discuss it and to see: this optimization makes sense or it's an overcomplication \ud83d\ude4c\ud83c\udffb ","I found the Emscripten Optimizing WebGL article that describes a similar idea. The sum up: there is an overhead for any OpenGL function call and you need to reuse OpenGL state as much as possible. That is, don't reset buffers and textures after each draw if the same buffers and textures are used in the next draw call. And so on.\r\n\r\nhttps:\/\/emscripten.org\/docs\/optimizing\/Optimizing-WebGL.html#avoid-redundant-calls\r\n\r\n\r\n\r\n","By the way, I have already done some tests with 200 draw calls of 3d models (models are behind the screen, not cut off by frustum culling so as not to overload GPU). On a Chromebook ARM, rendering these actually empty 200 draw calls takes 40% of the total frame time. \ud83e\udd2f\r\nAfter accepting this PR (https:\/\/github.com\/defold\/defold\/pull\/8152), the percentage dropped to 32%."],"labels":["feature request","engine","render"]},{"title":"Vulkan renders differently to OpenGL if two materials use the same texture","body":"**Describe the bug (REQUIRED)**\r\nVulkan renders differently to OpenGL if two materials use the same texture and the second material has a sampler.\r\n\r\n![vulkan_vs_opengl](https:\/\/github.com\/defold\/defold\/assets\/193258\/7e9dccff-236b-4d80-8d67-be268f31e0ad)\r\n\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Create an atlas\r\n2. Make two materials - the first without a sampler, the second with a sampler.\r\n3. Use these material to render two sprites.\r\n\r\n**Expected behavior (REQUIRED)**\r\nThe result on OpenGL and Vulkan should be the same. \r\n\r\n**Defold version (REQUIRED):**\r\n  - Version: 1.6.1 BETA (c16a3be).\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows 10\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\n[issue_vulkan_2mat.zip](https:\/\/github.com\/defold\/defold\/files\/13055210\/issue_vulkan_2mat.zip)\r\n","comments":["How I discovered this bug.\r\n\r\nI wanted to fix issue #8163  by removing this call -https:\/\/github.com\/defold\/defold\/blob\/935943384d8078e4c4041b88c2bce6eb3c8c09c5\/engine\/graphics\/src\/opengl\/graphics_opengl.cpp#L3528\r\nOpenGL renderer would start to have exactly the same behaviour as Vulkan. But then all Defold games would start to look wrong.\r\n\r\nI think the above line should be removed from OpenGL renderer and nothing needs to be fixed in Vulkan. But we need to add code to graphics.cpp that will restore the default texture settings if there is no sampler."],"labels":["bug","engine","render","vulkan"]},{"title":"Graphics renderer sets texture parameters two times per draw call","body":"**Describe the bug (REQUIRED)**\r\nThis is not a critical flaw and does not affect engine's functioning in any way.\r\n\r\nGraphics renderer sets texture parameters two times per draw call if you use a texture sampler in a material. What it looks like in the case of OpenGL and `sprite.material`:\r\n\r\n### built-in sprite.material:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/193258\/da4f894e-0dd9-4c58-9267-40d597b04bb1)\r\n\r\n### the same material, but with a custom texture sampler to set your own texture parameters:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/193258\/ad0df9c3-41fa-4689-849c-b14ae9e31844)\r\n\r\nYou see, the renderer always resets the default texture parameters first, and then sets the ones specified in the material.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n- Add a texture sampler to a material.\r\n\r\n**Expected behavior (REQUIRED)**\r\nGraphics renderer shouldn't set texture parameters two times per draw call.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version: <1.5.0, 1.6.0, 1.6.1.\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: all\r\n","comments":[],"labels":["bug","render"]},{"title":"Add support for live update archive manifest","body":"To further simplify the maintenance of LiveUpdate archive(s), we want to create an easier way of creating and maintaining the archives.\r\n\r\nIn short, the manifest will allow for:\r\n* Creating one or more live update archives\r\n* Specify what resources will go into which archives\r\n\r\nWe'll keep the logic as low complexity as possible, with operations like `include` and `exclude` patterns.\r\nThe patterns may be collections (e.g. like what we do now, but also other files)\r\nE.g. we may put custom content (e.g. .json files) in an archive.\r\n\r\nWe can also use other archives as an include\/exclude pattern.\r\n\r\nIn short, it should be possible for the user to completely control which files end up in an archive.\r\n\r\nFor the editor (perhaps MVP2), we need to be able to see what the outputs archives will contain, in order to ensure complete control for the user.\r\n\r\nA more thorough design will follow.\r\n\r\n","comments":["Hi!\r\nWe are working on liveupdate support for our projects, now we can divide builded archive by collections and common files . \r\nNow it's over 50 archives, and every archive should have dmanifest inside. Maybe it's easier to mount archive with downloaded dmanifest? something like\r\n\r\n```\r\n    liveupdate.store_manifest(manifest)\r\n    liveupdate.add_mount(liveupdate.get_current_manifest(), filename, \"zip:\" .. get_local_path(filename),priority, function(...)\r\n        if cb then\r\n            cb(true)\r\n        end\r\n    end)\r\n```\r\n\r\nNow we have enough instruments to create archives","I don't think that's what we want. We want each .zip file to be self-contained. The idea is that the game can load a .zip file from a long time ago (as long as it's supported) or a zip file with new content.\r\n\r\nYour current workflow works, but it isn't ideal ofc.\r\nIdeally, the manifest would only describe the files within the zip archive.\r\n\r\nThis is why I created this ticket, to make it much easier to create and maintain archives.\r\nAnd then each archive would only contain the info required from the manifest.\r\n"],"labels":["task","editor","bob","live update"]},{"title":"Support for Lua language syntax highlighting in markdown code","body":"Hello. It\u2019s only 2023-10-18 that I encountered such a situation. I use the Defold engine version `1.6.1-Beta`\r\n\r\n## Problem\r\n\r\nI downloaded the [training project](https:\/\/defold.com\/tutorials\/war-battles\/), started reading [`README.md`](https:\/\/github.com\/defold\/tutorial-war-battles\/blob\/master\/README.md) and noticed that there is no support for **Lua syntax** in the `markdown` processor. To easily understand the syntax, you have to open the browser as an additional window (and accordingly, the resources of the monitor window are consumed).\r\n\r\n## Solution \r\n\r\nI think that for those new to programming or mastering a new syntax of the Lua language, this innovation will be very useful.\r\nAnd also for those who use monitors\/laptops with low screen resolution, this is problematic.\r\n\r\n> Is it possible to enable language syntax support in the engine as a feature?\r\n\r\n## Screenshot\r\n\r\n<img width=\"1694\" alt=\"Screenshot 2023-10-18 at 18 14 46\" src=\"https:\/\/github.com\/defold\/defold\/assets\/21124057\/26f50a0f-c0c7-4b27-b567-8f2edd95ed29\">\r\n\r\n","comments":[],"labels":["feature request","editor"]},{"title":"Multiple Tile Maps can't have different materials.","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behavior\r\nSetting a material on a Tile Map should change that Tile Map's material.\r\n\r\n### Actual behavior\r\nOnly the first Tile Map created seems to control the material for all Tile Maps.\r\n\r\nI created two Tile Maps from the same Tile Source, one for the background and one for the foreground. I wanted the foreground to have a different material than the background. To test this I created a simple material with a passthrough vp and a fp that just sets the color to red. When I apply this material to the foreground Tile Map, it looks correct in the editor:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/69365652\/0497ca3a-782f-4ae0-94b5-ddbe648a68bc)\r\n\r\nbut in the game, the material is unchanged:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/69365652\/2e82122a-0744-4f49-9194-21846233da44)\r\n\r\nIf I change the material of the background Tile Map to the red material and set the foreground back to the default, again it looks correct in the editor:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/69365652\/16af671f-cf2c-4ac3-943e-cc072a15ac5f)\r\n\r\nbut now both Tile Maps have the red material in the game:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/69365652\/b2bfb761-2f10-4a74-bc8a-bd0d62c49868)\r\n\r\nIt seems that only one of the Tile Maps controls the material for all of them.\r\nThis happens with OpenGL, Vulkan, and Web.\r\n\r\n### Steps to reproduce\r\nCreate a Tile Source.\r\nCreate two Tile Maps.\r\nAssign a simple red material with this fragment shader to one of the Tile Maps:\r\n```glsl\r\nvarying mediump vec2 var_texcoord0;\r\nuniform lowp sampler2D texture_sampler;\r\n\r\nvoid main()\r\n{\r\n\tgl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\r\n}\r\n```\r\nAdd a Game Object to the main collection.\r\nAdd both tile maps to the Game Object.\r\n\r\nMinimum reproducible project: [tile_map_material.zip](https:\/\/github.com\/defold\/defold\/files\/12914608\/tile_map_material.zip)\r\n\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-10-11T08:51:57.888335<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>7e5c022ee89d625257f3e22797f49b51d60ba2ef<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>d9e9c49ab946c058f29a8b688c862d70f30e9c43<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.0<\/td><\/tr>\r\n<tr><td>GPU<\/td><td>NVIDIA GeForce RTX 3090 Ti\/PCIe\/SSE2<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 NVIDIA 537.13<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":[],"labels":["bug","engine","tilemap"]},{"title":"Front Top Left viewport presets in editor","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nIt would be great to have a preset for the editor viewport for the Top and the Left view, like in Blender or other editors.\r\nCurrently, only the front view that not enough for convenient work there\r\n\r\n<img width=\"454\" alt=\"image\" src=\"https:\/\/github.com\/defold\/defold\/assets\/12249206\/5fe03bc9-67a3-402c-8a99-bdeec07c6672\">\r\n\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nButtons or hotkeys that allow change viewport view to front\/left\/top\r\n\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/12249206\/b46b6ce5-b2d9-4ffc-9ece-99e5ad0dc00c\r\n\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nMove the camera approximately to the desired view. \r\n\r\nFor example in Unreal\r\n\r\n<img width=\"1333\" alt=\"image\" src=\"https:\/\/github.com\/defold\/defold\/assets\/12249206\/02f1c667-12f4-4fbc-982a-00828e6546e1\">\r\n\r\n","comments":["We can rotate the editor's camera with Ctrl+LMB, but this is definitely not enough for comfortable work and precise positioning of the editor's camera in the position in which it would stand in the game. For example, it is very important if you want to work with 2D graphics in the 3D world, to create levels in isometrics.\r\n\r\nFor example in the blockbench editor you can add custom angles as a preset for the camera. It would be very cool to see something like this in Defold editor.\r\n\r\n![2023-12-13_11-38-10](https:\/\/github.com\/defold\/defold\/assets\/842807\/010258d2-4686-4432-b7db-4d527ce153cb)\r\n"],"labels":["feature request","editor"]},{"title":"Color blend mode","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI'm working on a project where I need to replicate Photoshop's \"Color\" blend mode to achieve specific visual effects. Currently, this blend mode is not available in Defold, which limits my ability to create the desired look and feel for the assets.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI would like for Defold to include a \"Color\" blend mode that mimics the one found in Photoshop. When applied, this blend mode should:\r\n\r\nPreserve the luminance of the bottom layer.\r\nApply the hue and saturation of the top layer to the bottom layer.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nI've tried using multiple combinations of existing blend modes and shaders from here https:\/\/github.com\/subsoap\/defblend to achieve a similar effect, but none offer the exact functionality of Photoshop's \"Color\" blend mode. Implementing a custom shader could be an alternative, but native support would make this feature more accessible to all users.\r\n\r\n**Additional context (OPTIONAL):**\r\nThe \"Color\" blend mode is widely used in graphic design and game development for complex blending effects and real-time color adjustments. Its addition would provide Defold users with greater artistic control over their assets.","comments":["Related: https:\/\/github.com\/defold\/defold\/issues\/3420\r\n","maybe related too https:\/\/github.com\/defold\/defold\/issues\/3661"],"labels":["feature request","engine","sprite","render"]},{"title":"x86_64-win32 build_engine failing","body":"**Describe the bug (REQUIRED)**\r\nWhen attempting to setup and build the engine on a Win11 PC (dual Xeon with 128GB ram and RTX2070) the build fails when executing this portion of the build process:\r\n```.\/scripts\/build.py build_engine --platform=x86_64-win32 --skip-tests -- --skip-build-tests```\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Following the build process here: https:\/\/github.com\/defold\/defold\/blob\/dev\/README_BUILD.md#step-3---build-the-engine\r\n2. The proicess stops with \"FileNotFoundError: [WinError 2] The system cannot find the file specified\" and \"run.ExecException: 2\"\r\n\r\n**Expected behavior (REQUIRED)**\r\nBuild process to complete correctly?\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version [e.g. 1.2.155]\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Desktop PC Windows 11\r\n - OS: Windows 11\r\n - Device: NA\r\n\r\n**Logs (OPTIONAL):**\r\nAttached a log of the build process\r\n[build_log.txt](https:\/\/github.com\/defold\/defold\/files\/12908401\/build_log.txt)\r\n\r\n**Additional context (OPTIONAL):**\r\nI believe I followed all the setup documents correctly. It seems the failure is in the script trying to call clang++ which Im not sure if it should be doing this (I dont know). I have clang installed as part of the VS2019 install. \r\n\r\nIm running the build from a git bash shell setup with the appropriate paths etc. ","comments":["I confirm that there is a bug. I think it was introduced after this commit - https:\/\/github.com\/defold\/defold\/commit\/d2d2c1990a5bcce7c617b7451c58a0c3d3fc2372","Thanks @aglitchman (thought I had setup env etc wrong :) ). Will take a look at commit to see if I can move it forward.  If I can sort out a fix, I'll post a PR hopefully (time is a little tight atm).","Ok. I think I have instructions to get past the issue and get a build running.\r\n\r\nFirstl;y need to install scoop.\r\nOn windows, open a user powershel window (normal one not elevated) and type:\r\n```\r\n> Set-ExecutionPolicy RemoteSigned -Scope CurrentUser \r\n> irm get.scoop.sh | iex\r\n```\r\nThis will install scoop. Reference: https:\/\/scoop.sh\/\r\n\r\nThen install llvm using scoop and I also reinstalled python using it too (just in case).  Using command:\r\n```\r\n> scoop install llvm\r\n> scoop install python\r\n```\r\nReference from the sokol github here: https:\/\/github.com\/floooh\/sokol\/tree\/master\/bindgen\r\n\r\nThis process gets me a complete successful build. Thanks @aglitchman for the quick guidance. Looking forward to making a bunch of PR's :) \r\n","Oh. Do you want this added to your docs, or will you add yourself?","I'm still not sure what the actual problem was?\r\nE.g. it builds on the [WIndows CI](https:\/\/github.com\/defold\/defold\/actions), so I'd like to figure out what the actual problem was?\r\n\r\nE.g. _which_ executable wasn't found?\r\n```\r\n  File \"C:\\Users\\dlannan\\AppData\\Local\\Programs\\Python\\Python310\\lib\\subprocess.py\", line 1440, in _execute_child\r\n    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,\r\nFileNotFoundError: [WinError 2] The system cannot find the file specified\r\n```\r\n\r\n","The problem was that clang wasnt accessible I think. I believe running scoop install fixed that for the sokol build gen system? Thats a best guess, but it did seem to resolve it. I had clang installed via VS2019, which maybe might work if I added certain paths etc? Dunno. I followed what was on the sokol github to resolve it :)","Oop. sorry for closing again.","Yes, it makes sense, since we use clang to generate the AST info.\r\nI haven't double checked, but I assume clang arrives with visual studio nowadays (or is an easy step to add).\r\nWe should make sure to add that as a note to the win32 build setup.","> I haven't double checked, but I assume clang arrives with visual studio nowadays (or is an easy step to add).\r\n> We should make sure to add that as a note to the win32 build setup.\r\n\r\nToday I tried doing a local build on Linux and got the exact same error at the same step. So now `clang` is required for the build, but this is not specified in the readme.\r\n\r\nAlthough for Linux there is a separate step that downloads a local copy of clang-13 and you could use that and not require system-wide clang installation.","> Yes, it makes sense, since we use clang to generate the AST info. I haven't double checked, but I assume clang arrives with visual studio nowadays (or is an easy step to add). We should make sure to add that as a note to the win32 build setup.\r\n\r\nYes you can install clang (I tried that by using VS Installer and modifying) but I think you need to add some paths for that to work properly (Im not sure). Running the scoop setup solved it for me tho, it also made sure I had recent python3 too. So Im happy with that process.\r\n"],"labels":["bug","ci"]},{"title":"window.WINDOW_EVENT_FLIP","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI am using the SafeArea extension so my game can render to the entire screen but the GUI stays away from the camera notch. If I flip my phone from landscape to reverse landscape there is no window event available to trigger SafeArea and redo the calculations.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI would like a new window event implemented for whenever the orientation of the device changes. Alternatively the `window.WINDOW_EVENT_RESIZED` could be broadened to also trigger when orientation changes, although that makes the event less concise.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nI would imagine a native extension could solve this issue, or SafeArea could include this functionality. To me it seems this would make more sense as a native Defold feature.\r\n","comments":[],"labels":["feature request","engine","android","ios"]},{"title":"GO Visibility is applied based on id","body":"**Describe the bug (REQUIRED)**\r\nGO Visibility (off) is applied to gameobjects that share the id with gameobjects that were previously deleted while having visibility set to off.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Disable GO visibility (CTRL+E or menu)\r\n2. Delete that GO\r\n3. Set id of any GO to the id that deleted GO had\r\n4. See error (GO becomes invisible)\r\n\r\n**Expected behavior (REQUIRED)**\r\nGO does not become invisible.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.0\r\n\r\n**Platforms (REQUIRED):**\r\n - OS: Linux (Editor)\r\n\r\n**Additional context (OPTIONAL):**\r\nBug persists even if collection is reopened, but not if Defold Editor is restarted.\r\n","comments":[],"labels":["bug","editor"]},{"title":"Add more devices to Debug->Simulate Resolution","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nIt is convenient to be able to simulate the resolution of popular devices. The list of available devices is outdated and in need of an update. One such option is Nintendo Switch in Undocked mode.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI would like to have a Nintendo Switch menu with choice Undocked with size 1280x720.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nThere is a Custom Resolution option but it does not persist.\r\n\r\n**Additional context (OPTIONAL):**\r\nDiscussed on Discord with user Domarius\r\n","comments":["I believe Nintendo is calling it \"Handheld\" mode and not \"Undocked\"","Other suggestions:\r\n\r\n* The option \"iPhone X\/XS (1125x2436)\" should also list \"iPhone 11 Pro\", ie iPhone \"X\/XS\/11 Pro (1125x2436)\".\r\n* The option \"iPhone XS Max (1242x2688)\" should add \"iPhone 11 Pro Max\", ie \"iPhone XS Max\/11 Pro Max (1242x2688)\"\r\n* Add \"iPhone 12 Pro Max\/13 Pro Max\/14 Plus (1284x2778)\" and viewport resolution 428x926\r\n* Add \"iPhone 14 Pro Max\/15 Plus\/15 Pro Max (1290x2796)\" and viewport resolution 430x932","Perhaps also\r\n\r\n* Steam Deck\r\n   * Handheld (1280x800)","It would be nice if the choice was saved between runs","Perhaps the ROG Ally can be added as well?\r\n\r\n* Asus ROG Ally\r\n  * 1080p: 1920x1080\r\n  * 720p: 1280x720","I feel like this could be opened to the user rather than hard coding these resolutions, considering how fast they change.\r\nA config file, or something in the game.project specifying the resolutions and the menu entry?"],"labels":["feature request","editor"]},{"title":"[Linux] Keyboard shortcuts for increasing\/decreasing font size are not working","body":"On my Ubuntu 20.04 the keyboard shortcuts for increasing\/decreasing fonts are not working. Other shortcuts are working. On Windows the Ctrl++ and Ctrl+- shortcuts are working. From menu it is working on Windows and Ubuntu.\r\n\r\nThe Linux keyboard mapping file from [this manual](https:\/\/defold.com\/manuals\/editor-keyboard-shortcuts\/) is not having any shortcut for increasing\/decreasing font size (nor a Windows file).\r\n\r\n**Expected behavior (REQUIRED):**\r\nShortcuts are working.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Defold 1.6.0\r\n\r\n**Platforms (REQUIRED):**\r\n - Linux (Ubuntu 20.04)\r\n\r\n**Workaround (OPTIONAL):**\r\nIt is possible to increase and decrease font size using options from menus: View->Increase Font Size and View->Decrease Font Size\r\n\r\n**Additional context (OPTIONAL):**\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-10-06T10:00:24.855519<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>3584a3360b63a831529a2df7de0cb0c715374cc0<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>d9e9c49ab946c058f29a8b688c862d70f30e9c43<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.0<\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Mesa Intel(R) UHD Graphics (CML GT2)<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>2.1 Mesa 21.2.6<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Linux<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>5.15.0-86-generic<\/td><\/tr>\r\n<table>\r\n","comments":["I bet this issue is related to https:\/\/github.com\/defold\/defold\/issues\/5047","PR for JavaFx to track https:\/\/github.com\/openjdk\/jfx\/pull\/1373","related https:\/\/github.com\/defold\/defold\/issues\/5047"],"labels":["bug","editor","linux","javafx"]},{"title":"Make HTML files editable inside Defold's script editor","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nCurrently, I'm working on the SDK that requires to edit both Lua and HTML files often enough and I always have to look into Lua code to then add corresponding code into HTML file, and for Lua I prefer using Defold's script editor. However, I cannot edit HTML files inside Defold so I have to open and keep opened window of another text editor specifically for HTML, which I find quite inconvenient.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI would like to be able to open and edit HTML files inside Defold's editor\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nThe only alternative I can think of is to nevermind it and continue using external editor for HTML :smile: \r\n\r\n**Additional context (OPTIONAL):**\r\nI have already started working on PR for this feature:\r\n![screenshot](https:\/\/github.com\/defold\/defold\/assets\/12088459\/f574d7a2-2479-40d8-825d-7f5485e42f60)\r\n\r\nThe main part is done, I'm currently working on syntax highlighting. Mentioning that, I have a little problem implementing it.\r\nHere's my HTML grammar code:\r\n\r\n```clojure\r\n(ns editor.code.lang.html\r\n  (:require [editor.code.data :as data])\r\n  (:import [java.io PushbackReader]))\r\n\r\n(set! *warn-on-reflection* true)\r\n(set! *unchecked-math* :warn-on-boxed)\r\n\r\n(def grammar\r\n  {:name \"HTML\"\r\n   :scope-name \"source.html\"\r\n   ;; indent patterns shamelessly stolen from textmate:\r\n   ;; https:\/\/github.com\/textmate\/html.tmbundle\/blob\/master\/Preferences\/Miscellaneous.plist\r\n   :indent {\r\n            :end #\"(?x)\r\n\t\t^\\s*\r\n\t\t(&lt;\/(?!html)\r\n\t\t  [A-Za-z0-9]+\\b[^&gt;]*&gt;\r\n\t\t|--&gt;\r\n\t\t|&lt;\\?(php)?\\s+(else(if)?|end(if|for(each)?|while))\r\n\t\t|\\}\r\n\t\t)\"\r\n            }\r\n   :patterns [\r\n              {:match #\"<[^>]*>\"\r\n               :name \"tag.language.html\"}\r\n              {:match #\"\\b(?:true|false|null)\\b\"\r\n               :name \"constant.language.html\"}\r\n              {:match #\"(?x)-?(?:0|[1-9]\\d*)(?:\\n(?:\\n\\.\\d+)?(?:[eE][+-]?\\d+)?)?\"\r\n               :name \"constant.numeric.html\"}\r\n              {:begin #\"\\\"\"\r\n               :begin-captures {0 {:name \"punctuation.definition.string.begin.html\"}}\r\n               :end #\"\\\"\"\r\n               :end-captures {0 {:name \"punctuation.definition.string.end.html\"}}\r\n               :name \"string.quoted.double.html\"}\r\n              {:begin #\"<\"\r\n               :begin-captures {0 {:name \"punctuation.definition.tag.begin.html\"}}\r\n               :end #\">\"\r\n               :end-captures {0 {:name \"punctuation.definition.tag.end.html\"}}\r\n               :name \"tag.html\"}\r\n               ]})\r\n\r\n(defn lines->html [lines & options]\r\n  (with-open [lines-reader (data\/lines-reader lines)\r\n              pushback-reader (PushbackReader. lines-reader)]))\r\n\r\n```\r\nThere are two parts in which I attempted to make tag highlighting:\r\n```clojure\r\n{:match #\"<[^>]*>\"\r\n               :name \"tag.language.html\"}\r\n```\r\nand\r\n```clojure\r\n{:begin #\"<\"\r\n               :begin-captures {0 {:name \"punctuation.definition.tag.begin.html\"}}\r\n               :end #\">\"\r\n               :end-captures {0 {:name \"punctuation.definition.tag.end.html\"}}\r\n               :name \"tag.html\"}\r\n```\r\nOne that uses match by Regex string doesn't seem to work at all (nothing is highlighted) and the other one only highlights the tag < and > symbols. I assume I have to add color rules for HTML. If that's the case, where can I do that or what could be the problem?\r\nP.S. I tested aforementioned problematic grammar rules separately since they don't work together and aren't supposed to.","comments":["The color substrings we match are in `editor\/code\/view.clj`, in the `code-color-scheme` `def`. However, we already colorize `string` and `punctuation`, so I would expect you to see some colors at least. \ud83e\udd14\r\n\r\nWe typically base our grammars on VSCode or TextMate grammars, manually porting them to Clojure maps. We do not support all features of the TextMate grammars yet, though. For example, we don't support repositories.\r\n\r\nI guess it is possible we are missing some feature required to match named start and end tags, but I'd still expect the `strings` to be colorized.","> The color substrings we match are in `editor\/code\/view.clj`, in the `code-color-scheme` `def`. However, we already colorize `string` and `punctuation`, so I would expect you to see some colors at least. \ud83e\udd14\r\n> \r\n> We typically base our grammars on VSCode or TextMate grammars, manually porting them to Clojure maps. We do not support all features of the TextMate grammars yet, though. For example, we don't support repositories.\r\n> \r\n> I guess it is possible we are missing some feature required to match named start and end tags, but I'd still expect the `strings` to be colorized.\r\n\r\nYes, I'm seeing numbers and strings colored everywhere except inside tags (it means that Regex works correctly and de-colorizes whole content inside tags)\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/12088459\/705bb080-bfcd-46ec-9bc6-ef6e2685ed7f)\r\n\r\nThanks for the info where to look for color schemes, I'll try that!\r\n\r\nEdit: yes, I found it weird that start and end worked for strings and colorized them as whole but didnt work for < and >","**Confirmed**: absence of values in `code-color-scheme` was the reason why it wasn't highlighted, after I added color for `tag`, tags are now highlighted and anything inside them (including strings). I guess I'd have to write patterns for inline strings such as values of attributes to fix this, will try to look how they did that in VSCode.\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/12088459\/5efa2ef0-a8bb-4f51-8ec4-bad875bbe23a)\r\n","this is necessary for me, too.","I've been working on syntax highlighting, however I didn't check and notice more significant problem: I cannot save edited HTML files, just nothing happens when I press Ctrl + S or attempt to save it by menus. The tab still has *, so it's sure marked as edited. What could be the cause of this?","Without knowing what you changed, it's hard to tell.\r\n\r\nThe `load-registered-resource-node` function in `defold_project.clj` connects the `:save-data` output of the `ResourceNode` to the `Project` node defined in the same file. This is what determines which files are saved when you press Ctrl + S.\r\n\r\nYou can see that it only makes this connection if the resource type has a `:write-fn`, so maybe that's the problem?\r\n\r\nFor the change you're attempting, I would make the `HTML` node inherit from `code.resource\/CodeEditorResourceNode` and use the `code.resource\/register-code-resource-type` function in `html\/register-resource-types`. It specifies the `:write-fn` for you.","> Without knowing what you changed, it's hard to tell.\r\n> \r\n> The `load-registered-resource-node` function in `defold_project.clj` connects the `:save-data` output of the `ResourceNode` to the `Project` node defined in the same file. This is what determines which files are saved when you press Ctrl + S.\r\n> \r\n> You can see that it only makes this connection if the resource type has a `:write-fn`, so maybe that's the problem?\r\n> \r\n> For the change you're attempting, I would make the `HTML` node inherit from `code.resource\/CodeEditorResourceNode` and use the `code.resource\/register-code-resource-type` function in `html\/register-resource-types`. It specifies the `:write-fn` for you.\r\n\r\nThanks, I already made `HTML` node inherit from `code.resource\/CodeEditorResourceNode` but didn't use `code.resource\/register-code-resource-type` what was the root of the problem. Now, after I used it instead of `editor.workspace\/register-resource-type` HTML files can be saved."],"labels":["feature request","editor"]},{"title":"Investigate if we should enable in-place editing of the Id property on instances","body":"This was spawned from the following question in our support channel:\n> If I have a collection called `child_collection` located inside a parent collection, I can add a game object to `child_collection`, but I can't change the game object's `Id`. It seems that if I have a reference to another collection, I can't change this collection at all. However, in this case, I can add game objects and components to those game objects. Is behavior correct?\n\n![Image](https:\/\/github.com\/defold\/defold\/assets\/11677496\/bcd37ac2-5bba-403d-8eba-87e7a2ffd916)\n\nMats:\n> Hmm. \ud83e\udd14 I think what you're seeing here is what we call \"in-place editing\". You're able to make certain edits to referenced resources. For example, you could edit a referenced particle system in the context of a larger scene that references it. If you keep both the larger scene and the referenced resource open, you can see the tab of the referenced resource is marked as having unsaved changes when you do this, while the tab of the referencing resource remains unmodified. I'm confused about the fact that the Id property on the added Game Object instance cannot be edited, though. There might be something fishy going on here.\n\nThe `Id` cannot be edited because the referencing collection creates an override node for the game object from the referenced collection, but perhaps we should allow you to edit the `Id` of the referenced game object inside the referenced collection?","comments":["One day I was confused by that you cannot edit `Id` of referenced collection too, and I think enabling this can at times be convenient, whether someone simply wants to save few seconds of time instead of opening referenced collection and make changes there, or possibly adjust `Id`s to specific user case, for example when you'd access those objects from the code of a parent collection and you need to have `Id`s different from those you have in original collection (did I understand it right that in-place editing doesn't modify original collection at all?). One might say that it's just better to make proper changes to `Id`s in original collection and so keep it uniform for such cases, but I think adding freedom in that regard might sometimes be convenient for someone (after all, there might be special cases we didn't think of yet)","Unfortunately in-place editing means you are making modifications to the referenced scene, so you would not be able to \"override\" the `Id` of the object in the context of the referencing collection like you describe.\r\n\r\nIt could perhaps be possible to do that, but it would not be in-place editing, so would require some thinking.","Then it still would potentially save few seconds of time for someone when they just want to rename something without opening the original collection :smile:, sounds good to me"],"labels":["task","editor"]},{"title":"Editor doesn't work well after input `Infinitive` in the input field (eg possion)","body":"\r\n**Describe the bug (REQUIRED)**\r\nThe editor doesn't work well after input `Infinity` in the input text field.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n- Add a sprite\r\n- Change position of that sprite by input x = Infinity\r\n- The error dialog show (the reason is Infinity is out of range of Float)\r\n\r\n\r\n**Expected behavior (REQUIRED)**\r\nEditor keep working\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.0\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Linux\r\n - OS: Debian 12\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\nPlease attach a minimal project where the bug is reproduced. This will greatly help the person trying to investigate and fix the bug.\r\n\r\n**Logs (OPTIONAL):**\r\nPlease provide relevant logs from engine, editor or build server. Learn where the logs are stored [here](https:\/\/defold.com\/manuals\/getting-help\/#log-files).\r\n\r\n**Workaround (OPTIONAL):**\r\nIf there is a workaround, please describe it here.\r\n\r\n**Screenshots (OPTIONAL):**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Additional context (OPTIONAL):**\r\nAdd any other context about the problem here.\r\n","comments":[],"labels":["bug"]},{"title":"`play_flipbook` callback doesn't remove itself when it's done and it doesn't remove prev. callbacks","body":"**Describe the bug (REQUIRED)**\r\nRelated: https:\/\/github.com\/defold\/extension-spine\/issues\/147\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Run attached example\r\n2. Pay attention in logs how scripts create callbacks\r\n3. when animation is done pay attention that the callback were set in `main.script`  is still exist\r\n4. wait a few seconds when subtest will be run with `play_flipbook` in a for loop\r\n5. pay attention that only last callback removed\r\n\r\nI didn't test It but it is possible the same issue exist for: sounds, models, http requests (something else?)\r\n\r\n**Expected behavior (REQUIRED)**\r\nOld callbacks should be removed when new callback created\r\n\r\n**Defold version (REQUIRED):**\r\n  - 1.6.0\r\n\r\n**Platforms (REQUIRED):**\r\n - All\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\n[sprites.zip](https:\/\/github.com\/defold\/defold\/files\/12846209\/sprites.zip)\r\n","comments":[],"labels":["bug"]},{"title":"Support for moving a kinematic object with linear_velocity and angular_velocity","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nKinematic bodies cannot currently be moved by setting linear_velocity or angular_velocity. This means it's now not possible for dynamic bodies to interact with a kinematic body in a natural way, since the kinematic body is \"teleported\" from a to b when moving, rather than the movement being part of the physics simulation.\r\n\r\nThis makes creating a moving platform that interacts in a natural way with a dynamic body hard or impossible to achieve.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nWhen setting linear_velocity or angular_velocity it should move the kinematic body accordingly.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nSetting the position of the kinematic object manually. This results in unpredictable behaviour when colliding with dynamic objects.\r\nUsing dynamic bodies instead of kinematic bodies. This doesn't work as expected, since it's not possible to remove physics affecting the dynamic body, such as gravity. \r\n\r\n**Additional context (OPTIONAL):**\r\nForum thread: https:\/\/forum.defold.com\/t\/setting-linear-velocity-and-angular-velocity-of-a-kinematic-body-4170-solved\/53948\r\n","comments":["+1 for this one","While we are requesting for velocity, can we also add small, quality of life properties for kinematic bodies like \"is_on_floor\" and \"is_on_wall\"?\r\n\r\nBut please, add linear velocity to kinematic bodies, it is the feature that gives them their name, kinematic physics.","> can we also add small, quality of life properties for kinematic bodies like \"is_on_floor\" and \"is_on_wall\"?\r\n\r\nI doubt this will end up in the engine. It is too specific and assumes too many things about the game.","Ok, will linear velocity of kinematic bodies will be added. It is what defines them and it is included in every other engine I know. Plus if we will update object via modifying the position, why are we using a kinematic body in the first place?","When will this request will be added, I really need this feature for most of my collision related stuff like platformer characters. I know there are other methods but this is easier. In addition, it is a part of box2d engine so how much effort it would take to implement?","> When will this request will be added\r\n\r\nThis is not planned for any of the upcoming releases. We have not investigated the request yet and we have not designed the feature. It may seem like it is easy, but I bet it will take at least 3 days, probably more, to completely finish the feature.","How long would it take to consider this request for an upcoming release? Also would you say that 3 days is too much to invest for a feature. This feature does not ask for too much and would bring infinite possibilities. ","> How long would it take to consider this request for an upcoming release? Also would you say that 3 days is too much to invest for a feature. This feature does not ask for too much and would bring infinite possibilities.\r\n\r\nWe have 468 open feature requests:\r\n\r\nhttps:\/\/github.com\/defold\/defold\/issues?q=is%3Aissue+is%3Aopen+label%3A%22feature+request%22\r\n\r\nLet's say that we spend half a day per feature request to create an initial design and get a more accurate estimate for an implementation. That is 234 days spent on research alone! And when it comes to the actual implementation most features take at least a few days to implement. Let's say that the average time to implement a feature request takes a full work week (5 days). That's more than 6 years of work for a single individual!\r\n\r\nThis means that we'll never implement all feature requests with the team size we have right now. So what to do? Well, one way for us to prioritize between all feature requests is to work on the ones that are the most requested by our users. We encourage users to give a \ud83d\udc4d  to \"vote\" on requests. The most popular ones can be seen here:\r\n\r\nhttps:\/\/github.com\/defold\/defold\/issues?q=is%3Aissue+is%3Aopen+label%3A%22feature+request%22+sort%3Areactions-%2B1-desc\r\n\r\nWhat makes matters more complicated is that we can't spend all of our time on feature request. We have paying customers and partners that we need to prioritize and we have important features and bugs that we must solve to ensure that Defold runs well on all supported platforms. This means that the actual time we have to spend on general feature requests is low.\r\n\r\nOne solution is obviously to add more people. But if we hire people they expect a salary and without more paying customers or a lot more user donations hiring developers is a no-go. The option we have left then is code contributions from users giving their free time to improve Defold. The source code is available and we do accept contributions. Perhaps you could try to implement this yourself?\r\n","I want to try to implement it but was not able to even build it from source. There is something wrong with the build script, most of the default paths are incorrect. It was not able to even find the python executable.","Did you follow the setup instructions?\r\n\r\nhttps:\/\/github.com\/defold\/defold\/blob\/dev\/README_SETUP.md\r\n\r\nAnd the build instructions?\r\n\r\nhttps:\/\/github.com\/defold\/defold\/blob\/dev\/README_BUILD.md\r\n\r\nPlease share the exact steps from the point where you open your terminal until you encounter an error? Also which OS are you using? If Windows then make sure to use git-bash or mingw, not PowerShell.","I use MacOS Ventura (ARM)\r\n\r\n1. I started following instructions by firstly installing designated packages from HOMEBREW.\r\n2. Then, I cloned the repo from GitHub.\r\n3. I used python to run build.py and in the second step, it was not able to find file \"python\". In macOS, it is python3 so I had to modify the script for it to work.\r\n4. I skipped installing packages state since docs said it might not be necessary for some cases\r\n5. Then I wrote the command for building the engine and it gave a vague command and the only info that was clear was the exit code which was 2.","> 3\\. I used python to run build.py and in the second step, it was not able to find file \"python\". In macOS, it is python3 so I had to modify the script for it to work.\r\n\r\nI use macOS too and I've installed Python 3.10 from the link in the setup instructions. Typing both `python` and `python3` works for me:\r\n\r\n```sh\r\n [\u221a] ~\/projects\/defold > which python\r\n\/usr\/local\/bin\/python\r\n [\u221a] ~\/projects\/defold > python --version\r\nPython 3.10.5\r\n [\u221a] ~\/projects\/defold > python\r\nPython 3.10.5 (v3.10.5:f377153967, Jun  6 2022, 12:36:10) [Clang 13.0.0 (clang-1300.0.29.30)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> exit()\r\n [\u221a] ~\/projects\/defold >\r\n```\r\n\r\nHave you installed the version we linked? And what happens if you type the above commands in a terminal?","> 5\\. Then I wrote the command for building the engine and it gave a vague command and the only info that was clear was the exit code which was 2\r\n\r\nI'm sure it wasn't vague if you know how to read it. Could you please share it?","Sure:\r\n\"Error: \r\nTraceback (most recent call last):\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/scripts\/build.py\", line 2390, in <module>\r\n    f()\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/scripts\/build.py\", line 1118, in build_engine\r\n    self._build_engine_lib(args, lib, host)\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/scripts\/build.py\", line 1074, in _build_engine_lib\r\n    run.env_command(self._form_env(), args + plf_args + self.waf_options + skip_build_tests, cwd = cwd)\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/build_tools\/run.py\", line 98, in env_command\r\n    return _exec_command(args, shell = False, stdout = None, env = env, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/build_tools\/run.py\", line 75, in _exec_command\r\n    raise e\r\nrun.ExecException: 2\"","Ok, so it's the build_engine command which fails. This is the command line it is trying to run:\r\n\r\n```py\r\nreturn '%s %s\/ext\/bin\/waf --prefix=%s %s %s %s distclean configure build install' % (self.get_python(), self.dynamo_home, prefix, skip_tests, skip_codesign, disable_ccache)\r\n```\r\n\r\nSource: https:\/\/github.com\/defold\/defold\/blob\/dev\/scripts\/build.py#L1062-L1064\r\n\r\nMy guess is that the problem is either:\r\n\r\n1. You have not run `.\/scripts\/build.py shell` to set up environment variables (DYNAMO_HOME specifically) (Step 1: https:\/\/github.com\/defold\/defold\/blob\/dev\/README_BUILD.md#step-1---setup-environment)\r\n2. You have not run `.\/scripts\/build.py install_ext --platform=x86_64-macos|arm64_macos` to install external tools, such as waf (Step 2: https:\/\/github.com\/defold\/defold\/blob\/dev\/README_BUILD.md#step-2---install-packages)\r\n\r\nCan you confirm that you've run both of these commands successfully?\r\n\r\n\r\n\r\n\r\n","Yes I did, I had to edit the script to run the second step since in macOS python is referred as python3.","> I had to edit the script to run the second step since in macOS python is referred as python3.\r\n\r\nWell, I think this is part of the problem. You should not have to modify the script. We can't guarantee that things are working. Did you test what I wrote here about Python?\r\n\r\nhttps:\/\/github.com\/defold\/defold\/issues\/8101#issuecomment-1825380776","Ok, I resented the changes I made, and even just copied and pasted the exact command in source root: I supposed to call python compiler to run build.py but just copied the command exactly from the instructions it gave this: \"env: python: No such file or directory\"","> I supposed to call python compiler to run build.py but just copied the command exactly from the instructions it gave this: \"env: python: No such file or directory\"\r\n\r\nWhich version of Python did you install? And from where did you install it? And how?\r\n\r\nWhat happens if you type this in a terminal:\r\n\r\n```sh\r\nwhich python\r\n```\r\n\r\n","On my first try, I used a version from Homebrew but in this attempt, I downloaded the one from python s official website, I downloaded the version that is provided in the documentation. If I type \"which python\" it says: \"python not found\". I must type \"which python3\", than it gives the path.","Strange... ok, I suggest that you symlink python3 then:\r\n\r\n```sh\r\nsudo ln -s $(which python3) \/usr\/local\/bin\/python\r\n```","Thanks, this fixed the python issue, but it still gives this error: \r\n\"Error: \r\nTraceback (most recent call last):\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/.\/scripts\/build.py\", line 2390, in <module>\r\n    f()\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/.\/scripts\/build.py\", line 1118, in build_engine\r\n    self._build_engine_lib(args, lib, host)\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/.\/scripts\/build.py\", line 1074, in _build_engine_lib\r\n    run.env_command(self._form_env(), args + plf_args + self.waf_options + skip_build_tests, cwd = cwd)\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/build_tools\/run.py\", line 98, in env_command\r\n    return _exec_command(args, shell = False, stdout = None, env = env, **kwargs)\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/build_tools\/run.py\", line 75, in _exec_command\r\n    raise e\r\nrun.ExecException: 2\"","Could you please show a few more lines above the error? It should show the exact command it is trying to run.\r\n\r\nCan you please also type this in the terminal to check waf version:\r\n\r\n```sh\r\nwaf --version\r\n```\r\n\r\nIt should show something like:\r\n\r\n```\r\n(dev) [\u221a] ~\/projects\/defold > waf --version\r\nwaf 2.0.23 (cc6b34cf555d354c34f554c41206134072588de7)\r\n```","For war version it says: \"waf 2.0.23 (cc6b34cf555d354c34f554c41206134072588de7)\"\r\n\r\nFor the exact log: \r\n\r\n```sh\r\n[exec] git remote get-url origin\r\nRunning 'build_engine'\r\ncheck_defold_sdk \/Users\/ahmet\/Documents\/Defold Source\/tmp\/dynamo_home\/ext\/SDKs arm64-macos\r\nMissing SDK in \/Users\/ahmet\/Documents\/Defold Source\/tmp\/dynamo_home\/ext\/SDKs\/XcodeDefault15.0.1.xctoolchain\r\nMissing SDK in \/Users\/ahmet\/Documents\/Defold Source\/tmp\/dynamo_home\/ext\/SDKs\/MacOSX13.1.sdk\r\n[exec] \/usr\/bin\/xcodebuild -version\r\n[exec] \/usr\/bin\/xcodebuild -version\r\n[exec] xcode-select -print-path\r\n[exec] clang --version\r\n[exec] xcrun -f --sdk macosx --show-sdk-platform-version\r\n[exec] xcrun -f --sdk macosx --show-sdk-path\r\nenv DM_BOB_ROOTFOLDER=\/var\/folders\/1q\/xd69fh1d42d3db636_9245fr0000gn\/T\/bob-light-d_qnn5nw\r\nBuilding testmain for arm64-macos\r\n[exec] python \/Users\/ahmet\/Documents\/Defold Source\/tmp\/dynamo_home\/ext\/bin\/waf --prefix=\/Users\/ahmet\/Documents\/Defold Source\/tmp\/dynamo_home distclean configure build install --platform=arm64-macos\r\n\/usr\/local\/bin\/python: can't open file '\/Users\/ahmet\/Documents\/Defold': [Errno 2] No such file or directory\r\n\r\n[exec] python \/Users\/ahmet\/Documents\/Defold Source\/tmp\/dynamo_home\/ext\/bin\/waf --prefix=\/Users\/ahmet\/Documents\/Defold Source\/tmp\/dynamo_home distclean configure build install --platform=arm64-macos\r\nError: \r\nTraceback (most recent call last):\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/.\/scripts\/build.py\", line 2390, in <module>\r\n    f()\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/.\/scripts\/build.py\", line 1118, in build_engine\r\n    self._build_engine_lib(args, lib, host)\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/.\/scripts\/build.py\", line 1074, in _build_engine_lib\r\n    run.env_command(self._form_env(), args + plf_args + self.waf_options + skip_build_tests, cwd = cwd)\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/build_tools\/run.py\", line 98, in env_command\r\n    return _exec_command(args, shell = False, stdout = None, env = env, **kwargs)\r\n  File \"\/Users\/ahmet\/Documents\/Defold Source\/build_tools\/run.py\", line 75, in _exec_command\r\n    raise e\r\nrun.ExecException: 2\r\n```","> ```shell\r\n> can't open file '\/Users\/ahmet\/Documents\/Defold': [Errno 2] No such file or directory\r\n> ```\r\n\r\nAh, ok, so the `can't open file '\/Users\/ahmet\/Documents\/Defold': [Errno 2] No such file or directory` error is due to the fact that there is a space in the path. The actual path is `\/Users\/ahmet\/Documents\/Defold Source\/`, notice the space in `Defold Source`.\r\n\r\nWe should fix this in the build script, but it is also a good practice to not use paths with spaces in them in this case. The quickfix is to rename the folder from `Defold Source` to `Defold_Source`.\r\n\r\n\r\n","it gave this error:\r\n\r\n```\r\n[exec] git remote get-url origin\r\nRunning 'build_engine'\r\ncheck_defold_sdk \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/ext\/SDKs arm64-macos\r\nMissing SDK in \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/ext\/SDKs\/XcodeDefault15.0.1.xctoolchain\r\nMissing SDK in \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/ext\/SDKs\/MacOSX13.1.sdk\r\n[exec] \/usr\/bin\/xcodebuild -version\r\n[exec] \/usr\/bin\/xcodebuild -version\r\n[exec] xcode-select -print-path\r\n[exec] clang --version\r\n[exec] xcrun -f --sdk macosx --show-sdk-platform-version\r\n[exec] xcrun -f --sdk macosx --show-sdk-path\r\nenv DM_BOB_ROOTFOLDER=\/var\/folders\/1q\/xd69fh1d42d3db636_9245fr0000gn\/T\/bob-light-e0thauul\r\nBuilding testmain for arm64-macos\r\n[exec] python \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/ext\/bin\/waf --prefix=\/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home distclean configure build install --platform=arm64-macos\r\n'distclean' finished successfully (0.009s)\r\nSetting top to                           : \/Users\/ahmet\/Documents\/Defold_Source\/engine\/testmain \r\nSetting out to                           : \/Users\/ahmet\/Documents\/Defold_Source\/engine\/testmain\/build \r\nChecking for program 'valgrind'          : not found \r\nChecking for program 'ccache'            : \/opt\/homebrew\/bin\/ccache \r\ncheck_defold_sdk \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/ext\/SDKs arm64-macos\r\nMissing SDK in \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/ext\/SDKs\/XcodeDefault15.0.1.xctoolchain\r\nMissing SDK in \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/ext\/SDKs\/MacOSX13.1.sdk\r\n[exec] \/usr\/bin\/xcodebuild -version\r\n[exec] \/usr\/bin\/xcodebuild -version\r\n[exec] xcode-select -print-path\r\n[exec] clang --version\r\n[exec] xcrun -f --sdk macosx --show-sdk-platform-version\r\n[exec] xcrun -f --sdk macosx --show-sdk-path\r\nChecking for program 'dsymutil'          : \/Applications\/Xcode.app\/Contents\/Developer\/Toolchains\/XcodeDefault.xctoolchain\/usr\/bin\/dsymutil \r\nChecking for program 'zip'               : \/usr\/bin\/zip \r\nChecking for 'clang' (C compiler)        : \/Applications\/Xcode.app\/Contents\/Developer\/Toolchains\/XcodeDefault.xctoolchain\/usr\/bin\/clang \r\nChecking for 'clang++' (C++ compiler)    : \/Applications\/Xcode.app\/Contents\/Developer\/Toolchains\/XcodeDefault.xctoolchain\/usr\/bin\/clang++ \r\n'configure' finished successfully (0.404s)\r\nWaf: Entering directory `\/Users\/ahmet\/Documents\/Defold_Source\/engine\/testmain\/build'\r\n[1\/3] Compiling src\/common\/testmain.cpp\r\n[2\/3] Compiling src\/common\/app.cpp\r\n[3\/3] Linking build\/src\/libtestmain.a\r\nWaf: Leaving directory `\/Users\/ahmet\/Documents\/Defold_Source\/engine\/testmain\/build'\r\n'build' finished successfully (0.036s)\r\nWaf: Entering directory `\/Users\/ahmet\/Documents\/Defold_Source\/engine\/testmain\/build'\r\n+ install \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/lib\/arm64-macos\/libtestmain.a (from build\/src\/libtestmain.a)\r\n- install \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/include\/testmain\/testmain.h (from src\/common\/testmain.h)\r\nWaf: Leaving directory `\/Users\/ahmet\/Documents\/Defold_Source\/engine\/testmain\/build'\r\n'install' finished successfully (0.007s)\r\nBuilding dlib for arm64-macos\r\n[exec] python \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/ext\/bin\/waf --prefix=\/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home distclean configure build install --platform=arm64-macos\r\n'distclean' finished successfully (0.051s)\r\nSetting top to                           : \/Users\/ahmet\/Documents\/Defold_Source\/engine\/dlib \r\nSetting out to                           : \/Users\/ahmet\/Documents\/Defold_Source\/engine\/dlib\/build \r\nChecking for program 'valgrind'          : not found \r\nChecking for program 'ccache'            : \/opt\/homebrew\/bin\/ccache \r\ncheck_defold_sdk \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/ext\/SDKs arm64-macos\r\nMissing SDK in \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/ext\/SDKs\/XcodeDefault15.0.1.xctoolchain\r\nMissing SDK in \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/ext\/SDKs\/MacOSX13.1.sdk\r\n[exec] \/usr\/bin\/xcodebuild -version\r\n[exec] \/usr\/bin\/xcodebuild -version\r\n[exec] xcode-select -print-path\r\n[exec] clang --version\r\n[exec] xcrun -f --sdk macosx --show-sdk-platform-version\r\n[exec] xcrun -f --sdk macosx --show-sdk-path\r\nChecking for program 'dsymutil'          : \/Applications\/Xcode.app\/Contents\/Developer\/Toolchains\/XcodeDefault.xctoolchain\/usr\/bin\/dsymutil \r\nChecking for program 'zip'               : \/usr\/bin\/zip \r\nChecking for 'clang' (C compiler)        : \/Applications\/Xcode.app\/Contents\/Developer\/Toolchains\/XcodeDefault.xctoolchain\/usr\/bin\/clang \r\nChecking for 'clang++' (C++ compiler)    : \/Applications\/Xcode.app\/Contents\/Developer\/Toolchains\/XcodeDefault.xctoolchain\/usr\/bin\/clang++ \r\nChecking for program 'javac'             : \/opt\/homebrew\/Cellar\/openjdk\/21.0.1\/libexec\/openjdk.jdk\/Contents\/Home\/bin\/javac \r\nChecking for program 'java'              : \/opt\/homebrew\/Cellar\/openjdk\/21.0.1\/libexec\/openjdk.jdk\/Contents\/Home\/bin\/java \r\nChecking for program 'jar'               : \/opt\/homebrew\/Cellar\/openjdk\/21.0.1\/libexec\/openjdk.jdk\/Contents\/Home\/bin\/jar \r\nChecking for program 'javadoc'           : \/opt\/homebrew\/Cellar\/openjdk\/21.0.1\/libexec\/openjdk.jdk\/Contents\/Home\/bin\/javadoc \r\n'configure' finished successfully (0.415s)\r\nWaf: Entering directory `\/Users\/ahmet\/Documents\/Defold_Source\/engine\/dlib\/build'\r\nMissing namespace definition in \/Users\/ahmet\/Documents\/Defold_Source\/engine\/dlib\/src\/dmsdk\/dlib\/object_pool.h\r\n[  1\/481] Compiling src\/zlib\/inftrees.c\r\n[  2\/481] Compiling src\/dlib\/socket.cpp\r\n[  3\/481] Compiling src\/dlib\/http_cache_verify.cpp\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/inftrees.c:32:19: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZLIB_INTERNAL inflate_table(type, lens, codes, table, bits, work)\r\n                  ^\r\n1 warning generated.\r\n\r\n[  4\/481] Compiling src\/dlib\/crypt.cpp\r\n[  5\/481] Compiling src\/dlib\/buffer.cpp\r\n[  6\/481] Compiling src\/dlib\/android.cpp\r\n[  7\/481] Compiling src\/zlib\/inflate.c\r\n[  8\/481] Compiling src\/zlib\/inffast.c\r\n[  9\/481] Compiling src\/dlib\/pprint.cpp\r\n[ 10\/481] Compiling src\/zlib\/infback.c\r\n[ 11\/481] Compiling src\/zlib\/gzwrite.c\r\n[ 12\/481] Compiling src\/dlib\/poolallocator.cpp\r\n[ 13\/481] Compiling src\/dlib\/http_cache.cpp\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/infback.c:28:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateBackInit_(strm, windowBits, window, version, stream_size)\r\n            ^\r\n..\/src\/zlib\/infback.c:82:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void fixedtables(state)\r\n           ^\r\n..\/src\/zlib\/infback.c:250:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateBack(strm, in, in_desc, out, out_desc)\r\n            ^\r\n..\/src\/zlib\/infback.c:631:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateBackEnd(strm)\r\n            ^\r\n4 warnings generated.\r\n\r\n[ 14\/481] Compiling src\/zlib\/gzread.c\r\n[ 15\/481] Compiling src\/zlib\/gzlib.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/inffast.c:67:20: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nvoid ZLIB_INTERNAL inflate_fast(strm, start)\r\n                   ^\r\n1 warning generated.\r\n\r\n[ 16\/481] Compiling src\/dlib\/path.cpp\r\n[ 17\/481] Compiling src\/zlib\/gzclose.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/gzwrite.c:15:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int gz_init(state)\r\n          ^\r\n..\/src\/zlib\/gzwrite.c:70:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int gz_comp(state, flush)\r\n          ^\r\n..\/src\/zlib\/gzwrite.c:133:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int gz_zero(state, len)\r\n          ^\r\n..\/src\/zlib\/gzwrite.c:165:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzwrite(file, buf, len)\r\n            ^\r\n..\/src\/zlib\/gzwrite.c:245:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzputc(file, c)\r\n            ^\r\n..\/src\/zlib\/gzwrite.c:293:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzputs(file, str)\r\n            ^\r\n..\/src\/zlib\/gzwrite.c:465:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzflush(file, flush)\r\n            ^\r\n..\/src\/zlib\/gzwrite.c:497:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzsetparams(file, level, strategy)\r\n            ^\r\n..\/src\/zlib\/gzwrite.c:539:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzclose_w(file)\r\n            ^\r\n9 warnings generated.\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/inflate.c:104:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateResetKeep(strm)\r\n            ^\r\n..\/src\/zlib\/inflate.c:129:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateReset(strm)\r\n            ^\r\n..\/src\/zlib\/inflate.c:142:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateReset2(strm, windowBits)\r\n            ^\r\n..\/src\/zlib\/inflate.c:180:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateInit2_(strm, windowBits, version, stream_size)\r\n            ^\r\n..\/src\/zlib\/inflate.c:222:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateInit_(strm, version, stream_size)\r\n            ^\r\n..\/src\/zlib\/inflate.c:230:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflatePrime(strm, bits, value)\r\n            ^\r\n..\/src\/zlib\/inflate.c:261:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void fixedtables(state)\r\n           ^\r\n..\/src\/zlib\/inflate.c:379:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int updatewindow(strm, end, copy)\r\n          ^\r\n..\/src\/zlib\/inflate.c:605:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflate(strm, flush)\r\n            ^\r\n..\/src\/zlib\/inflate.c:1254:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateEnd(strm)\r\n            ^\r\n..\/src\/zlib\/inflate.c:1268:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateGetDictionary(strm, dictionary, dictLength)\r\n            ^\r\n..\/src\/zlib\/inflate.c:1291:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateSetDictionary(strm, dictionary, dictLength)\r\n            ^\r\n..\/src\/zlib\/inflate.c:1326:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateGetHeader(strm, head)\r\n            ^\r\n..\/src\/zlib\/inflate.c:1354:16: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal unsigned syncsearch(have, buf, len)\r\n               ^\r\n..\/src\/zlib\/inflate.c:1377:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateSync(strm)\r\n            ^\r\n..\/src\/zlib\/inflate.c:1428:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateSyncPoint(strm)\r\n            ^\r\n..\/src\/zlib\/inflate.c:1438:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateCopy(dest, source)\r\n            ^\r\n..\/src\/zlib\/inflate.c:1485:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT inflateUndermine(strm, subvert)\r\n            ^\r\n..\/src\/zlib\/inflate.c:1502:14: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlong ZEXPORT inflateMark(strm)\r\n             ^\r\n19 warnings generated.\r\n\r\n[ 18\/481] Compiling src\/zlib\/deflate.c\r\n[ 19\/481] Compiling src\/dlib\/mutex_posix.cpp\r\n[ 20\/481] Compiling src\/dlib\/hash.cpp\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/gzclose.c:11:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzclose(file)\r\n            ^\r\n1 warning generated.\r\n\r\n[ 21\/481] Compiling src\/dlib\/connection_pool.cpp\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/gzread.c:20:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int gz_load(state, buf, len, have)\r\n          ^\r\n..\/src\/zlib\/gzread.c:51:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int gz_avail(state)\r\n          ^\r\n..\/src\/zlib\/gzread.c:86:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int gz_look(state)\r\n          ^\r\n..\/src\/zlib\/gzread.c:172:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int gz_decomp(state)\r\n          ^\r\n..\/src\/zlib\/gzread.c:226:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int gz_fetch(state)\r\n          ^\r\n..\/src\/zlib\/gzread.c:256:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int gz_skip(state, len)\r\n          ^\r\n..\/src\/zlib\/gzread.c:288:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzread(file, buf, len)\r\n            ^\r\n..\/src\/zlib\/gzread.c:387:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzgetc(file)\r\n            ^\r\n..\/src\/zlib\/gzread.c:416:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzgetc_(file)\r\n            ^\r\n..\/src\/zlib\/gzread.c:423:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzungetc(c, file)\r\n            ^\r\n..\/src\/zlib\/gzread.c:483:16: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nchar * ZEXPORT gzgets(file, buf, len)\r\n               ^\r\n..\/src\/zlib\/gzread.c:547:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzdirect(file)\r\n            ^\r\n..\/src\/zlib\/gzread.c:567:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzclose_r(file)\r\n            ^\r\n13 warnings generated.\r\n\r\n[ 22\/481] Compiling src\/zlib\/crc32.c\r\n[ 23\/481] Compiling src\/zlib\/compress.c\r\n[ 24\/481] Compiling src\/dlib\/message.cpp\r\n[ 25\/481] Compiling src\/zlib\/adler32.c\r\n[ 26\/481] Compiling src\/lz4\/lz4hc.c\r\n[ 27\/481] Compiling src\/dlib\/memprofile.cpp\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/compress.c:22:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT compress2 (dest, destLen, source, sourceLen, level)\r\n            ^\r\n..\/src\/zlib\/compress.c:62:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT compress (dest, destLen, source, sourceLen)\r\n            ^\r\n..\/src\/zlib\/compress.c:75:15: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nuLong ZEXPORT compressBound (sourceLen)\r\n              ^\r\n3 warnings generated.\r\n\r\n[ 28\/481] Compiling src\/dlib\/file_descriptor_posix.cpp\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 29\/481] Compiling src\/lz4\/lz4.c\r\n[ 30\/481] Compiling src\/dlib\/zlib.cpp\r\n[ 31\/481] Compiling src\/dlib\/memory.cpp\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/adler32.c:65:15: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nuLong ZEXPORT adler32(adler, buf, len)\r\n              ^\r\n..\/src\/zlib\/adler32.c:136:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal uLong adler32_combine_(adler1, adler2, len2)\r\n            ^\r\n..\/src\/zlib\/adler32.c:165:15: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nuLong ZEXPORT adler32_combine(adler1, adler2, len2)\r\n              ^\r\n..\/src\/zlib\/adler32.c:173:15: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nuLong ZEXPORT adler32_combine64(adler1, adler2, len2)\r\n              ^\r\n4 warnings generated.\r\n\r\n[ 32\/481] Compiling src\/dlib\/zip.cpp\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 33\/481] Compiling src\/dlib\/webserver.cpp\r\n[ 34\/481] Compiling src\/dlib\/lz4.cpp\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/gzlib.c:75:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void gz_reset(state)\r\n           ^\r\n..\/src\/zlib\/gzlib.c:91:14: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal gzFile gz_open(path, fd, mode)\r\n             ^\r\n..\/src\/zlib\/gzlib.c:268:16: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\ngzFile ZEXPORT gzopen(path, mode)\r\n               ^\r\n..\/src\/zlib\/gzlib.c:276:16: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\ngzFile ZEXPORT gzopen64(path, mode)\r\n               ^\r\n..\/src\/zlib\/gzlib.c:284:16: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\ngzFile ZEXPORT gzdopen(fd, mode)\r\n               ^\r\n..\/src\/zlib\/gzlib.c:314:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzbuffer(file, size)\r\n            ^\r\n..\/src\/zlib\/gzlib.c:339:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzrewind(file)\r\n            ^\r\n..\/src\/zlib\/gzlib.c:362:19: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nz_off64_t ZEXPORT gzseek64(file, offset, whence)\r\n                  ^\r\n..\/src\/zlib\/gzlib.c:439:17: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nz_off_t ZEXPORT gzseek(file, offset, whence)\r\n                ^\r\n..\/src\/zlib\/gzlib.c:451:19: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nz_off64_t ZEXPORT gztell64(file)\r\n                  ^\r\n..\/src\/zlib\/gzlib.c:468:17: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nz_off_t ZEXPORT gztell(file)\r\n                ^\r\n..\/src\/zlib\/gzlib.c:478:19: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nz_off64_t ZEXPORT gzoffset64(file)\r\n                  ^\r\n..\/src\/zlib\/gzlib.c:501:17: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nz_off_t ZEXPORT gzoffset(file)\r\n                ^\r\n..\/src\/zlib\/gzlib.c:511:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT gzeof(file)\r\n            ^\r\n..\/src\/zlib\/gzlib.c:528:22: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nconst char * ZEXPORT gzerror(file, errnum)\r\n                     ^\r\n..\/src\/zlib\/gzlib.c:549:14: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nvoid ZEXPORT gzclearerr(file)\r\n             ^\r\n..\/src\/zlib\/gzlib.c:575:20: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nvoid ZLIB_INTERNAL gz_error(state, err, msg)\r\n                   ^\r\n17 warnings generated.\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/crc32.c:204:23: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nunsigned long ZEXPORT crc32(crc, buf, len)\r\n                      ^\r\n..\/src\/zlib\/crc32.c:247:21: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal unsigned long crc32_little(crc, buf, len)\r\n                    ^\r\n..\/src\/zlib\/crc32.c:287:21: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal unsigned long crc32_big(crc, buf, len)\r\n                    ^\r\n..\/src\/zlib\/crc32.c:327:21: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal unsigned long gf2_matrix_times(mat, vec)\r\n                    ^\r\n..\/src\/zlib\/crc32.c:344:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void gf2_matrix_square(square, mat)\r\n           ^\r\n..\/src\/zlib\/crc32.c:355:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal uLong crc32_combine_(crc1, crc2, len2)\r\n            ^\r\n..\/src\/zlib\/crc32.c:411:15: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nuLong ZEXPORT crc32_combine(crc1, crc2, len2)\r\n              ^\r\n..\/src\/zlib\/crc32.c:419:15: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nuLong ZEXPORT crc32_combine64(crc1, crc2, len2)\r\n              ^\r\n8 warnings generated.\r\n\r\nIn file included from ..\/src\/dlib\/message.cpp:26:\r\nIn file included from ..\/src\/dlib\/spinlock.h:18:\r\nIn file included from ..\/src\/dmsdk\/dlib\/spinlock.h:28:\r\nIn file included from ..\/src\/dmsdk\/dlib\/spinlocktypes.h:27:\r\n..\/src\/dmsdk\/dlib\/spinlocktypes_mach.h:21:13: warning: 'OSSpinLock' is deprecated: first deprecated in macOS 10.12 - Use os_unfair_lock() from <os\/lock.h> instead [-Wdeprecated-declarations]\r\n    typedef OSSpinLock Spinlock;\r\n            ^\r\n\/Applications\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX14.0.sdk\/usr\/include\/libkern\/OSSpinLockDeprecated.h:79:17: note: 'OSSpinLock' has been explicitly marked deprecated here\r\ntypedef int32_t OSSpinLock OSSPINLOCK_DEPRECATED_REPLACE_WITH(os_unfair_lock);\r\n                ^\r\nIn file included from ..\/src\/dlib\/message.cpp:26:\r\nIn file included from ..\/src\/dlib\/spinlock.h:18:\r\nIn file included from ..\/src\/dmsdk\/dlib\/spinlock.h:28:\r\nIn file included from ..\/src\/dmsdk\/dlib\/spinlocktypes.h:27:\r\n..\/src\/dmsdk\/dlib\/spinlocktypes_mach.h:34:9: warning: 'OSSpinLockLock' is deprecated: first deprecated in macOS 10.12 - Use os_unfair_lock_lock() from <os\/lock.h> instead [-Wdeprecated-declarations]\r\n        OSSpinLockLock(lock);\r\n        ^\r\n\/Applications\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX14.0.sdk\/usr\/include\/libkern\/OSSpinLockDeprecated.h:99:9: note: 'OSSpinLockLock' has been explicitly marked deprecated here\r\nvoid    OSSpinLockLock( volatile OSSpinLock *__lock );\r\n        ^\r\nIn file included from ..\/src\/dlib\/message.cpp:26:\r\nIn file included from ..\/src\/dlib\/spinlock.h:18:\r\nIn file included from ..\/src\/dmsdk\/dlib\/spinlock.h:28:\r\nIn file included from ..\/src\/dmsdk\/dlib\/spinlocktypes.h:27:\r\n..\/src\/dmsdk\/dlib\/spinlocktypes_mach.h:39:9: warning: 'OSSpinLockUnlock' is deprecated: first deprecated in macOS 10.12 - Use os_unfair_lock_unlock() from <os\/lock.h> instead [-Wdeprecated-declarations]\r\n        OSSpinLockUnlock(lock);\r\n        ^\r\n\/Applications\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX14.0.sdk\/usr\/include\/libkern\/OSSpinLockDeprecated.h:105:9: note: 'OSSpinLockUnlock' has been explicitly marked deprecated here\r\nvoid    OSSpinLockUnlock( volatile OSSpinLock *__lock );\r\n        ^\r\n3 warnings generated.\r\n\r\n[ 35\/481] Compiling src\/dlib\/easing.cpp\r\n[ 36\/481] Compiling src\/dlib\/configfile.cpp\r\n[ 37\/481] Compiling src\/dlib\/array.cpp\r\n[ 38\/481] Compiling src\/dlib\/utf8.cpp\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/deflate.c:201:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflateInit_(strm, level, version, stream_size)\r\n            ^\r\n..\/src\/zlib\/deflate.c:213:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflateInit2_(strm, level, method, windowBits, memLevel, strategy,\r\n            ^\r\n..\/src\/zlib\/deflate.c:323:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflateSetDictionary (strm, dictionary, dictLength)\r\n            ^\r\n..\/src\/zlib\/deflate.c:392:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflateResetKeep (strm)\r\n            ^\r\n..\/src\/zlib\/deflate.c:427:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflateReset (strm)\r\n            ^\r\n..\/src\/zlib\/deflate.c:439:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflateSetHeader (strm, head)\r\n            ^\r\n..\/src\/zlib\/deflate.c:450:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflatePending (strm, pending, bits)\r\n            ^\r\n..\/src\/zlib\/deflate.c:464:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflatePrime (strm, bits, value)\r\n            ^\r\n..\/src\/zlib\/deflate.c:490:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflateParams(strm, level, strategy)\r\n            ^\r\n..\/src\/zlib\/deflate.c:531:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflateTune(strm, good_length, max_lazy, nice_length, max_chain)\r\n            ^\r\n..\/src\/zlib\/deflate.c:566:15: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nuLong ZEXPORT deflateBound(strm, sourceLen)\r\n              ^\r\n..\/src\/zlib\/deflate.c:628:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void putShortMSB (s, b)\r\n           ^\r\n..\/src\/zlib\/deflate.c:642:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void flush_pending(strm)\r\n           ^\r\n..\/src\/zlib\/deflate.c:665:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflate (strm, flush)\r\n            ^\r\n..\/src\/zlib\/deflate.c:979:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflateEnd (strm)\r\n            ^\r\n..\/src\/zlib\/deflate.c:1014:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT deflateCopy (dest, source)\r\n            ^\r\n..\/src\/zlib\/deflate.c:1076:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int read_buf(strm, buf, size)\r\n          ^\r\n..\/src\/zlib\/deflate.c:1106:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void lm_init (s)\r\n           ^\r\n..\/src\/zlib\/deflate.c:1148:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal uInt longest_match(s, cur_match)\r\n           ^\r\n..\/src\/zlib\/deflate.c:1390:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void fill_window(s)\r\n           ^\r\n..\/src\/zlib\/deflate.c:1564:19: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal block_state deflate_stored(s, flush)\r\n                  ^\r\n..\/src\/zlib\/deflate.c:1628:19: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal block_state deflate_fast(s, flush)\r\n                  ^\r\n..\/src\/zlib\/deflate.c:1730:19: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal block_state deflate_slow(s, flush)\r\n                  ^\r\n..\/src\/zlib\/deflate.c:1861:19: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal block_state deflate_rle(s, flush)\r\n                  ^\r\n..\/src\/zlib\/deflate.c:1934:19: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal block_state deflate_huff(s, flush)\r\n                  ^\r\n25 warnings generated.\r\n\r\n[ 39\/481] Compiling src\/dlib\/uri.cpp\r\n[ 40\/481] Compiling src\/dlib\/log_ios.mm\r\n[ 41\/481] Compiling src\/dlib\/trig_lookup.cpp\r\n[ 42\/481] Compiling src\/dlib\/time_posix.cpp\r\n[ 43\/481] Compiling src\/dlib\/log.cpp\r\n[ 44\/481] Compiling src\/dlib\/dstrings.cpp\r\n[ 45\/481] Compiling src\/dlib\/testutil.cpp\r\n[ 46\/481] Compiling src\/dlib\/template.cpp\r\n[ 47\/481] Compiling src\/dlib\/intersection.cpp\r\n[ 48\/481] Compiling src\/dlib\/thread_posix.cpp\r\n[ 49\/481] Compiling src\/dlib\/sys_posix.cpp\r\n[ 50\/481] Compiling src\/dlib\/image.cpp\r\n[ 51\/481] Compiling src\/dlib\/dlib.cpp\r\n[ 52\/481] Compiling src\/dlib\/condition_variable.cpp\r\n[ 53\/481] Compiling src\/dlib\/sys_cocoa.mm\r\n[ 54\/481] Compiling src\/dlib\/sys.cpp\r\n[ 55\/481] Compiling src\/dlib\/http_server_private.cpp\r\n[ 56\/481] Compiling src\/dlib\/stringpool.cpp\r\nIn file included from ..\/src\/dlib\/log.cpp:26:\r\nIn file included from ..\/src\/dlib\/spinlock.h:18:\r\nIn file included from ..\/src\/dmsdk\/dlib\/spinlock.h:28:\r\nIn file included from ..\/src\/dmsdk\/dlib\/spinlocktypes.h:27:\r\n..\/src\/dmsdk\/dlib\/spinlocktypes_mach.h:21:13: warning: 'OSSpinLock' is deprecated: first deprecated in macOS 10.12 - Use os_unfair_lock() from <os\/lock.h> instead [-Wdeprecated-declarations]\r\n    typedef OSSpinLock Spinlock;\r\n            ^\r\n\/Applications\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX14.0.sdk\/usr\/include\/libkern\/OSSpinLockDeprecated.h:79:17: note: 'OSSpinLock' has been explicitly marked deprecated here\r\ntypedef int32_t OSSpinLock OSSPINLOCK_DEPRECATED_REPLACE_WITH(os_unfair_lock);\r\n                ^\r\nIn file included from ..\/src\/dlib\/log.cpp:26:\r\nIn file included from ..\/src\/dlib\/spinlock.h:18:\r\nIn file included from ..\/src\/dmsdk\/dlib\/spinlock.h:28:\r\nIn file included from ..\/src\/dmsdk\/dlib\/spinlocktypes.h:27:\r\n..\/src\/dmsdk\/dlib\/spinlocktypes_mach.h:34:9: warning: 'OSSpinLockLock' is deprecated: first deprecated in macOS 10.12 - Use os_unfair_lock_lock() from <os\/lock.h> instead [-Wdeprecated-declarations]\r\n        OSSpinLockLock(lock);\r\n        ^\r\n\/Applications\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX14.0.sdk\/usr\/include\/libkern\/OSSpinLockDeprecated.h:99:9: note: 'OSSpinLockLock' has been explicitly marked deprecated here\r\nvoid    OSSpinLockLock( volatile OSSpinLock *__lock );\r\n        ^\r\nIn file included from ..\/src\/dlib\/log.cpp:26:\r\nIn file included from ..\/src\/dlib\/spinlock.h:18:\r\nIn file included from ..\/src\/dmsdk\/dlib\/spinlock.h:28:\r\nIn file included from ..\/src\/dmsdk\/dlib\/spinlocktypes.h:27:\r\n..\/src\/dmsdk\/dlib\/spinlocktypes_mach.h:39:9: warning: 'OSSpinLockUnlock' is deprecated: first deprecated in macOS 10.12 - Use os_unfair_lock_unlock() from <os\/lock.h> instead [-Wdeprecated-declarations]\r\n        OSSpinLockUnlock(lock);\r\n        ^\r\n\/Applications\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX14.0.sdk\/usr\/include\/libkern\/OSSpinLockDeprecated.h:105:9: note: 'OSSpinLockUnlock' has been explicitly marked deprecated here\r\nvoid    OSSpinLockUnlock( volatile OSSpinLock *__lock );\r\n        ^\r\n3 warnings generated.\r\n\r\n[ 57\/481] Compiling src\/dlib\/sslsocket.cpp\r\n[ 58\/481] Compiling src\/dlib\/http_server.cpp\r\n[ 59\/481] Compiling src\/dlib\/darwin\/socket_darwin.cpp\r\n[ 60\/481] Compiling src\/dlib\/ssdp.cpp\r\n[ 61\/481] Compiling src\/zlib\/zutil.c\r\n[ 62\/481] Compiling src\/dlib\/socket_posix.cpp\r\n[ 63\/481] Compiling src\/dlib\/http_client.cpp\r\n[ 64\/481] Compiling src\/zlib\/uncompr.c\r\n[ 65\/481] Compiling src\/dlib\/socket_cocoa.mm\r\n[ 66\/481] Compiling src\/zlib\/trees.c\r\n[ 67\/481] Compiling src\/mbedtls\/library\/x509write_csr.c\r\n[ 68\/481] Compiling src\/mbedtls\/library\/x509write_crt.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/zutil.c:136:22: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nconst char * ZEXPORT zError(err)\r\n                     ^\r\n..\/src\/zlib\/zutil.c:304:22: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nvoidpf ZLIB_INTERNAL zcalloc (opaque, items, size)\r\n                     ^\r\n..\/src\/zlib\/zutil.c:314:20: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nvoid ZLIB_INTERNAL zcfree (opaque, ptr)\r\n                   ^\r\n3 warnings generated.\r\n\r\n[ 69\/481] Compiling src\/mbedtls\/library\/x509_csr.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/uncompr.c:24:13: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZEXPORT uncompress (dest, destLen, source, sourceLen)\r\n            ^\r\n1 warning generated.\r\n\r\n..\/src\/dlib\/http_client.cpp:827:17: warning: variable 'chunk_number' set but not used [-Wunused-but-set-variable]\r\n            int chunk_number = 0;\r\n                ^\r\n1 warning generated.\r\n\r\n[ 70\/481] Compiling src\/mbedtls\/library\/x509_crt.c\r\n[ 71\/481] Compiling src\/mbedtls\/library\/x509_crl.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 72\/481] Compiling src\/mbedtls\/library\/x509_create.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 73\/481] Compiling src\/mbedtls\/library\/x509.c\r\n[ 74\/481] Compiling src\/mbedtls\/library\/version_features.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 75\/481] Compiling src\/mbedtls\/library\/version.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/zlib\/trees.c:381:20: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nvoid ZLIB_INTERNAL _tr_init(s)\r\n                   ^\r\n..\/src\/zlib\/trees.c:409:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void init_block(s)\r\n           ^\r\n..\/src\/zlib\/trees.c:453:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void pqdownheap(s, tree, k)\r\n           ^\r\n..\/src\/zlib\/trees.c:488:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void gen_bitlen(s, desc)\r\n           ^\r\n..\/src\/zlib\/trees.c:575:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void gen_codes (tree, max_code, bl_count)\r\n           ^\r\n..\/src\/zlib\/trees.c:617:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void build_tree(s, desc)\r\n           ^\r\n..\/src\/zlib\/trees.c:705:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void scan_tree (s, tree, max_code)\r\n           ^\r\n..\/src\/zlib\/trees.c:750:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void send_tree (s, tree, max_code)\r\n           ^\r\n..\/src\/zlib\/trees.c:801:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int build_bl_tree(s)\r\n          ^\r\n..\/src\/zlib\/trees.c:836:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void send_all_trees(s, lcodes, dcodes, blcodes)\r\n           ^\r\n..\/src\/zlib\/trees.c:865:20: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nvoid ZLIB_INTERNAL _tr_stored_block(s, buf, stored_len, last)\r\n                   ^\r\n..\/src\/zlib\/trees.c:882:20: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nvoid ZLIB_INTERNAL _tr_flush_bits(s)\r\n                   ^\r\n..\/src\/zlib\/trees.c:892:20: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nvoid ZLIB_INTERNAL _tr_align(s)\r\n                   ^\r\n..\/src\/zlib\/trees.c:907:20: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nvoid ZLIB_INTERNAL _tr_flush_block(s, buf, stored_len, last)\r\n                   ^\r\n..\/src\/zlib\/trees.c:1010:19: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nint ZLIB_INTERNAL _tr_tally (s, dist, lc)\r\n                  ^\r\n..\/src\/zlib\/trees.c:1060:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void compress_block(s, ltree, dtree)\r\n           ^\r\n..\/src\/zlib\/trees.c:1120:11: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal int detect_data_type(s)\r\n          ^\r\n..\/src\/zlib\/trees.c:1154:16: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal unsigned bi_reverse(code, len)\r\n               ^\r\n..\/src\/zlib\/trees.c:1169:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void bi_flush(s)\r\n           ^\r\n..\/src\/zlib\/trees.c:1186:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void bi_windup(s)\r\n           ^\r\n..\/src\/zlib\/trees.c:1205:12: warning: a function definition without a prototype is deprecated in all versions of C and is not supported in C2x [-Wdeprecated-non-prototype]\r\nlocal void copy_block(s, buf, len, header)\r\n           ^\r\n21 warnings generated.\r\n\r\n[ 76\/481] Compiling src\/mbedtls\/library\/ssl_tls.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 77\/481] Linking build\/src\/libdlib.a\r\n[ 78\/481] Compiling src\/mbedtls\/library\/ssl_srv.c\r\n[ 79\/481] Compiling src\/mbedtls\/library\/ssl_cookie.c\r\n[ 80\/481] Compiling src\/mbedtls\/library\/ssl_cli.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 81\/481] Compiling src\/mbedtls\/library\/ssl_ciphersuites.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 82\/481] Compiling src\/mbedtls\/library\/ssl_cache.c\r\n[ 83\/481] Compiling src\/mbedtls\/library\/pkcs11.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 84\/481] Compiling src\/mbedtls\/library\/net_sockets.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 85\/481] Compiling src\/mbedtls\/library\/error.c\r\n[ 86\/481] Compiling src\/mbedtls\/library\/debug.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 87\/481] Compiling src\/mbedtls\/library\/certs.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 88\/481] Compiling src\/mbedtls\/crypto\/library\/xtea.c\r\n[ 89\/481] Compiling src\/mbedtls\/crypto\/library\/version_features.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 90\/481] Compiling src\/mbedtls\/crypto\/library\/version.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 91\/481] Compiling src\/mbedtls\/crypto\/library\/timing.c\r\n[ 92\/481] Compiling src\/mbedtls\/crypto\/library\/threading.c\r\n[ 93\/481] Compiling src\/mbedtls\/crypto\/library\/sha512.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 94\/481] Compiling src\/mbedtls\/crypto\/library\/sha256.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 95\/481] Compiling src\/mbedtls\/library\/ssl_ticket.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 96\/481] Compiling src\/mbedtls\/crypto\/library\/sha1.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[ 97\/481] Compiling src\/mbedtls\/crypto\/library\/rsa_internal.c\r\n[ 98\/481] Compiling src\/mbedtls\/crypto\/library\/ripemd160.c\r\n[ 99\/481] Compiling src\/mbedtls\/crypto\/library\/psa_its_file.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[100\/481] Compiling src\/mbedtls\/crypto\/library\/psa_crypto_storage.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[101\/481] Compiling src\/mbedtls\/crypto\/library\/psa_crypto_slot_management.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[102\/481] Compiling src\/mbedtls\/crypto\/library\/psa_crypto_se.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[103\/481] Compiling src\/mbedtls\/crypto\/library\/rsa.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[104\/481] Compiling src\/mbedtls\/crypto\/library\/poly1305.c\r\n[105\/481] Compiling src\/mbedtls\/crypto\/library\/platform_util.c\r\n[106\/481] Compiling src\/mbedtls\/crypto\/library\/platform.c\r\n[107\/481] Compiling src\/mbedtls\/crypto\/library\/psa_crypto.c\r\n[108\/481] Compiling src\/mbedtls\/crypto\/library\/pkwrite.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[109\/481] Compiling src\/mbedtls\/crypto\/library\/pkparse.c\r\n[110\/481] Compiling src\/mbedtls\/crypto\/library\/pkcs5.c\r\n[111\/481] Compiling src\/mbedtls\/crypto\/library\/pkcs12.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[112\/481] Compiling src\/mbedtls\/crypto\/library\/pk_wrap.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[113\/481] Compiling src\/mbedtls\/crypto\/library\/pk.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[114\/481] Compiling src\/mbedtls\/crypto\/library\/pem.c\r\n[115\/481] Compiling src\/mbedtls\/crypto\/library\/padlock.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[116\/481] Compiling src\/mbedtls\/crypto\/library\/oid.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[117\/481] Compiling src\/mbedtls\/crypto\/library\/nist_kw.c\r\n[118\/481] Compiling src\/mbedtls\/crypto\/library\/memory_buffer_alloc.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[119\/481] Compiling src\/mbedtls\/crypto\/library\/md_wrap.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[120\/481] Compiling src\/mbedtls\/crypto\/library\/md5.c\r\n[121\/481] Compiling src\/mbedtls\/crypto\/library\/md4.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[122\/481] Compiling src\/mbedtls\/crypto\/library\/md2.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[123\/481] Compiling src\/mbedtls\/crypto\/library\/md.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[124\/481] Compiling src\/mbedtls\/crypto\/library\/hmac_drbg.c\r\n[125\/481] Compiling src\/mbedtls\/crypto\/library\/hkdf.c\r\n[126\/481] Compiling src\/mbedtls\/crypto\/library\/havege.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[127\/481] Compiling src\/mbedtls\/crypto\/library\/gcm.c\r\n[128\/481] Compiling src\/mbedtls\/crypto\/library\/error.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[129\/481] Compiling src\/mbedtls\/crypto\/library\/entropy_poll.c\r\n[130\/481] Compiling src\/mbedtls\/crypto\/library\/entropy.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[131\/481] Compiling src\/mbedtls\/crypto\/library\/ecp_curves.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[132\/481] Compiling src\/mbedtls\/crypto\/library\/ecp.c\r\n[133\/481] Compiling src\/mbedtls\/crypto\/library\/ecjpake.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[134\/481] Compiling src\/mbedtls\/crypto\/library\/ecdsa.c\r\n[135\/481] Compiling src\/mbedtls\/crypto\/library\/ecdh.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[136\/481] Compiling src\/mbedtls\/crypto\/library\/dhm.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[137\/481] Compiling src\/mbedtls\/crypto\/library\/des.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[138\/481] Compiling src\/mbedtls\/crypto\/library\/ctr_drbg.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[139\/481] Compiling src\/mbedtls\/crypto\/library\/cmac.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[140\/481] Compiling src\/mbedtls\/crypto\/library\/cipher_wrap.c\r\n[141\/481] Compiling src\/mbedtls\/crypto\/library\/cipher.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[142\/481] Compiling src\/mbedtls\/crypto\/library\/chachapoly.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[143\/481] Compiling src\/mbedtls\/crypto\/library\/chacha20.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[144\/481] Compiling src\/mbedtls\/crypto\/library\/ccm.c\r\n[145\/481] Compiling src\/mbedtls\/crypto\/library\/camellia.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[146\/481] Compiling src\/mbedtls\/crypto\/library\/blowfish.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[147\/481] Compiling src\/mbedtls\/crypto\/library\/bignum.c\r\n[148\/481] Compiling src\/mbedtls\/crypto\/library\/base64.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[149\/481] Compiling src\/mbedtls\/crypto\/library\/asn1write.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/mbedtls\/crypto\/library\/bignum.c:1408:29: warning: variable 't' set but not used [-Wunused-but-set-variable]\r\n    mbedtls_mpi_uint c = 0, t = 0;\r\n                            ^\r\n1 warning generated.\r\n\r\n[150\/481] Compiling src\/mbedtls\/crypto\/library\/asn1parse.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[151\/481] Compiling src\/mbedtls\/crypto\/library\/aria.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[152\/481] Compiling src\/mbedtls\/crypto\/library\/arc4.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[153\/481] Compiling src\/mbedtls\/crypto\/library\/aesni.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[154\/481] Compiling src\/mbedtls\/crypto\/library\/aes.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[155\/481] Compiling src\/zip\/zip.cpp\r\n[156\/481] Linking build\/src\/libmbedtls.a\r\n[157\/481] Compiling src\/dlib\/profile\/profile_remotery.cpp\r\n[158\/481] Compiling src\/dlib\/profile\/profile.cpp\r\n..\/src\/zip\/zip.cpp:245:18: warning: unused variable 'num_alignment_padding_bytes' [-Wunused-variable]\r\n  miniz::mz_uint num_alignment_padding_bytes, level;\r\n                 ^\r\n..\/src\/zip\/zip.cpp:245:47: warning: unused variable 'level' [-Wunused-variable]\r\n  miniz::mz_uint num_alignment_padding_bytes, level;\r\n                                              ^\r\n..\/src\/zip\/zip.cpp:451:18: warning: unused variable 'level' [-Wunused-variable]\r\n  miniz::mz_uint level;\r\n                 ^\r\n..\/src\/zip\/zip.cpp:452:23: warning: unused variable 'done' [-Wunused-variable]\r\n  miniz::tdefl_status done;\r\n                      ^\r\n..\/src\/zip\/zip.cpp:453:20: warning: unused variable 'entrylen' [-Wunused-variable]\r\n  miniz::mz_uint16 entrylen;\r\n                   ^\r\n..\/src\/zip\/zip.cpp:454:20: warning: unused variable 'dos_time' [-Wunused-variable]\r\n  miniz::mz_uint16 dos_time, dos_date;\r\n                   ^\r\n..\/src\/zip\/zip.cpp:454:30: warning: unused variable 'dos_date' [-Wunused-variable]\r\n  miniz::mz_uint16 dos_time, dos_date;\r\n                             ^\r\n..\/src\/zip\/zip.cpp:61:20: warning: unused function 'base_name' [-Wunused-function]\r\nstatic const char *base_name(const char *name) {\r\n                   ^\r\n..\/src\/zip\/zip.cpp:80:12: warning: unused function 'mkpath' [-Wunused-function]\r\nstatic int mkpath(char *path) {\r\n           ^\r\n..\/src\/zip\/zip.cpp:841:14: warning: unused function 'normalize' [-Wunused-function]\r\nstatic char *normalize(char *name, char *const nname, size_t len) {\r\n             ^\r\n10 warnings generated.\r\n\r\n[159\/481] Compiling src\/remotery\/lib\/Remotery.c\r\n[160\/481] Processing javac: src\/java\/com\/dynamo\/crypt\/Crypt.java src\/java\/com\/dynamo\/upnp\/DeviceInfo.java src\/java\/com\/dynamo\/upnp\/ISSDP.java src\/java\/com\/dynamo\/upnp\/Request.java src\/java\/com\/dynamo\/upnp\/Response.java src\/java\/com\/dynamo\/upnp\/SSDP.java\r\n[161\/481] Compiling src\/mbedtls\/crypto\/library\/md_wrap.c\r\n[162\/481] Compiling src\/mbedtls\/crypto\/library\/md5.c\r\n[163\/481] Compiling src\/mbedtls\/crypto\/library\/md4.c\r\n[164\/481] Compiling src\/mbedtls\/crypto\/library\/md2.c\r\n[165\/481] Compiling src\/mbedtls\/crypto\/library\/md.c\r\n[166\/481] Compiling src\/mbedtls\/crypto\/library\/hmac_drbg.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[167\/481] Compiling src\/mbedtls\/crypto\/library\/hkdf.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[168\/481] Compiling src\/mbedtls\/crypto\/library\/havege.c\r\n[169\/481] Compiling src\/mbedtls\/crypto\/library\/rsa.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[170\/481] Compiling src\/mbedtls\/library\/ssl_ciphersuites.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[171\/481] Compiling src\/mbedtls\/crypto\/library\/psa_crypto_slot_management.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[172\/481] Compiling src\/mbedtls\/crypto\/library\/error.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[173\/481] Compiling src\/mbedtls\/crypto\/library\/ecp_curves.c\r\n[174\/481] Compiling src\/mbedtls\/library\/error.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[175\/481] Compiling src\/mbedtls\/crypto\/library\/ecjpake.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[176\/481] Compiling src\/mbedtls\/crypto\/library\/ecdsa.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[177\/481] Compiling src\/mbedtls\/crypto\/library\/ecdh.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[178\/481] Compiling src\/mbedtls\/crypto\/library\/dhm.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[179\/481] Compiling src\/mbedtls\/crypto\/library\/des.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[180\/481] Compiling src\/mbedtls\/crypto\/library\/ctr_drbg.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[181\/481] Compiling src\/mbedtls\/crypto\/library\/cmac.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[182\/481] Compiling src\/mbedtls\/crypto\/library\/chacha20.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[183\/481] Compiling src\/mbedtls\/crypto\/library\/chachapoly.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[184\/481] Compiling src\/mbedtls\/crypto\/library\/cipher.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[185\/481] Linking build\/src\/libzip.a\r\n[186\/481] Compiling src\/mbedtls\/crypto\/library\/ccm.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[187\/481] Compiling src\/mbedtls\/crypto\/library\/blowfish.c\r\n[188\/481] Linking build\/src\/libprofile.a\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[189\/481] Compiling src\/mbedtls\/crypto\/library\/cipher_wrap.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[190\/481] Compiling src\/mbedtls\/crypto\/library\/memory_buffer_alloc.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[191\/481] Compiling src\/mbedtls\/crypto\/library\/bignum.c\r\n[192\/481] Compiling src\/mbedtls\/crypto\/library\/entropy.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[193\/481] Compiling src\/mbedtls\/crypto\/library\/aria.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[194\/481] Compiling src\/mbedtls\/crypto\/library\/aesni.c\r\n[195\/481] Compiling src\/mbedtls\/library\/ssl_ticket.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[196\/481] Compiling src\/mbedtls\/crypto\/library\/sha512.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[197\/481] Compiling src\/mbedtls\/library\/x509write_crt.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[198\/481] Compiling src\/mbedtls\/library\/x509_crt.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[199\/481] Compiling src\/mbedtls\/library\/x509_create.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[200\/481] Compiling src\/mbedtls\/library\/x509_csr.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[201\/481] Compiling src\/mbedtls\/library\/ssl_tls.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[202\/481] Compiling src\/mbedtls\/library\/ssl_cli.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/mbedtls\/crypto\/library\/bignum.c:1408:29: warning: variable 't' set but not used [-Wunused-but-set-variable]\r\n    mbedtls_mpi_uint c = 0, t = 0;\r\n                            ^\r\n1 warning generated.\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[203\/481] Compiling src\/mbedtls\/library\/ssl_cache.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[204\/481] Compiling src\/mbedtls\/library\/certs.c\r\n[205\/481] Compiling src\/mbedtls\/crypto\/library\/version.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n..\/src\/remotery\/lib\/Remotery.c:3107:17: warning: variable 'total' set but not used [-Wunused-but-set-variable]\r\n            int total = 0;\r\n                ^\r\n..\/src\/remotery\/lib\/Remotery.c:5584:21: warning: unused variable 'handle' [-Wunused-variable]\r\n    rmtThreadHandle handle;\r\n                    ^\r\n..\/src\/remotery\/lib\/Remotery.c:7286:12: warning: unused variable 'name_length' [-Wunused-variable]\r\n    rmtU32 name_length;\r\n           ^\r\n..\/src\/remotery\/lib\/Remotery.c:206:14: warning: unused function 'minU8' [-Wunused-function]\r\nstatic rmtU8 minU8(rmtU8 a, rmtU8 b)\r\n             ^\r\n..\/src\/remotery\/lib\/Remotery.c:226:15: warning: unused function 'maxU32' [-Wunused-function]\r\nstatic rmtU32 maxU32(rmtU32 a, rmtU32 b)\r\n              ^\r\n..\/src\/remotery\/lib\/Remotery.c:680:16: warning: unused function 'AtomicCompareAndSwapU64' [-Wunused-function]\r\nstatic rmtBool AtomicCompareAndSwapU64(rmtAtomicU64 volatile* val, rmtU64 old_val, rmtU64 new_val)\r\n               ^\r\n..\/src\/remotery\/lib\/Remotery.c:733:15: warning: unused function 'AtomicAddU32' [-Wunused-function]\r\nstatic rmtU32 AtomicAddU32(rmtAtomicU32* value, rmtU32 add)\r\n              ^\r\n..\/src\/remotery\/lib\/Remotery.c:2615:17: warning: unused function 'Buffer_WriteBool' [-Wunused-function]\r\nstatic rmtError Buffer_WriteBool(Buffer* buffer, rmtBool value)\r\n                ^\r\n8 warnings generated.\r\n\r\n[206\/481] Compiling src\/mbedtls\/crypto\/library\/sha1.c\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\n[207\/481] Compiling src\/mbedtls\/crypto\/library\/rsa_internal.c\r\nwarning: [options] bootstrap class path not set in conjunction with -source 7\r\nerror: Source option 7 is no longer supported. Use 8 or later.\r\nerror: Target option 7 is no longer supported. Use 8 or later.\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nclang: warning: argument unused during compilation: '-stdlib=libc++' [-Wunused-command-line-argument]\r\n\r\nWaf: Leaving directory `\/Users\/ahmet\/Documents\/Defold_Source\/engine\/dlib\/build'\r\nBuild failed\r\n -> task in '' failed with exit status 2 (run with -v to display more information)\r\n\r\n[exec] python \/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home\/ext\/bin\/waf --prefix=\/Users\/ahmet\/Documents\/Defold_Source\/tmp\/dynamo_home distclean configure build install --platform=arm64-macos\r\nError: \r\nTraceback (most recent call last):\r\n  File \"\/Users\/ahmet\/Documents\/Defold_Source\/.\/scripts\/build.py\", line 2390, in <module>\r\n    f()\r\n  File \"\/Users\/ahmet\/Documents\/Defold_Source\/.\/scripts\/build.py\", line 1118, in build_engine\r\n    self._build_engine_lib(args, lib, host)\r\n  File \"\/Users\/ahmet\/Documents\/Defold_Source\/.\/scripts\/build.py\", line 1074, in _build_engine_lib\r\n    run.env_command(self._form_env(), args + plf_args + self.waf_options + skip_build_tests, cwd = cwd)\r\n  File \"\/Users\/ahmet\/Documents\/Defold_Source\/build_tools\/run.py\", line 98, in env_command\r\n    return _exec_command(args, shell = False, stdout = None, env = env, **kwargs)\r\n  File \"\/Users\/ahmet\/Documents\/Defold_Source\/build_tools\/run.py\", line 75, in _exec_command\r\n    raise e\r\nrun.ExecException: 1\r\n```","This looks like a Java error. Which version of Java are you using?\r\n\r\n```sh\r\njava --version\r\n```","it says: \"openjdk 21.0.1 2023-10-17\r\nOpenJDK Runtime Environment Homebrew (build 21.0.1)\r\nOpenJDK 64-Bit Server VM Homebrew (build 21.0.1, mixed mode, sharing)\"","> it says: \"openjdk 21.0.1 2023-10-17\r\n\r\nYou need to install JDK 17:\r\n\r\nhttps:\/\/github.com\/defold\/defold\/blob\/dev\/README_SETUP.md#required-software---java-jdk-17\r\n\r\nYou can use `jenv` to switch between Java versions (https:\/\/www.jenv.be\/).","It still does not work, this time, since log message is so huge I am sending it as a pdf:\r\n\r\n\r\n[Error.pdf](https:\/\/github.com\/defold\/defold\/files\/13513096\/Error.pdf)\r\n","Ok, so now you are making progress. This time it is a unit test that is failing:\r\n\r\n```\r\n DEBUG:DLIB: SSDP Update: Creating new socket on #03 DEBUG:DLIB: Skipping interface with IPv6 domain (#03) DEBUG:DLIB: SSDP Update: Creating new socket on #04 DEBUG:DLIB: Skipping interface with IPv6 domain (#04) DEBUG:DLIB: SSDP Update: Creating new socket on #05 DEBUG:DLIB: Skipping interface with IPv6 domain (#05) DEBUG:DLIB: SSDP Update: Creating new socket on #06 DEBUG:DLIB: Skipping interface with IPv6 domain (#06) DEBUG:DLIB: SSDP M-SEARCH\r\n..\/src\/test\/test_ssdp.cpp:277: Value of: discovered Expected: true\r\nActual: false\r\nSearch FAIL (0.583276 s)\r\nAnnounce\r\n(SETUP) Using UDN = \"uuid:33723187-3d4f-339c-8c4d-f7c6da6771c8\" (SETUP) Using USN = \"uuid:33723187-3d4f-339c-8c4d- f7c6da6771c8::upnp:rootdevice\"\r\n(SETUP) Using USN_HASH = \"15788716951529991810\"\r\nAnnounce PASS (0 \u03bcs)\r\nUnannounce\r\n(SETUP) Using UDN = \"uuid:76386357-3d4f-339c-8c4d-f7c6da6771c8\" (SETUP) Using USN = \"uuid:76386357-3d4f-339c-8c4d- f7c6da6771c8::upnp:rootdevice\"\r\n(SETUP) Using USN_HASH = \"6511228736813434998\"\r\nUnannounce PASS (0 \u03bcs)\r\nExpire\r\n(SETUP) Using UDN = \"uuid:02477922-3d4f-339c-8c4d-f7c6da6771c8\" (SETUP) Using USN = \"uuid:02477922-3d4f-339c-8c4d- f7c6da6771c8::upnp:rootdevice\"\r\n(SETUP) Using USN_HASH = \"13264528076179861230\"\r\nExpire PASS (0 \u03bcs)\r\nRenew\r\n(SETUP) Using UDN = \"uuid:12514726-3d4f-339c-8c4d-f7c6da6771c8\" (SETUP) Using USN = \"uuid:12514726-3d4f-339c-8c4d- f7c6da6771c8::upnp:rootdevice\"\r\n(SETUP) Using USN_HASH = \"17016653889900213700\"\r\nRenew PASS (0 \u03bcs)\r\nJavaClient\r\n(SETUP) Using UDN = \"uuid:38932838-3d4f-339c-8c4d-f7c6da6771c8\" (SETUP) Using USN = \"uuid:38932838-3d4f-339c-8c4d- f7c6da6771c8::upnp:rootdevice\"\r\n(SETUP) Using USN_HASH = \"4796785717934620595\"\r\nJavaClient PASS (0 \u03bcs)\r\ndmSSDPTest took 0.584151 s\r\ndmSSDPTest.Search failed\r\nRan 7 tests, with 14 assertions in 0.584151 s\r\n6 tests passed, 0 skipped and 1 tests FAILED\r\ntest failed test_ssdp\r\n```\r\n\r\nIt is one of the SSDP network discovery tests. You can try rerunning the tests, BUT in this case I recommend that you skip tests. You can skip tests by appending `--skip-tests` to the `build_engine` command:\r\n\r\n```sh\r\n.\/scripts\/build.py --platform=x86_64-macos build_engine --skip-tests\r\n```\r\n"],"labels":["feature request","engine","physics"]},{"title":"Make Vulkan the default renderer on all platforms","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI'm sure the Vulkan renderer is mature enough to become the default renderer of all desktop platforms, with a fallback to OpenGL.\r\n\r\nPros:\r\n- It's an important marketing move. It's much cooler to talk about having a renderer on Vulkan!\r\n- This will allow the community to work together to debug Vulkan to its maximum maturity. For example, my projects have minor bugs when Vulkan is enabled and I haven't been able to isolate them all into separate issues yet.\r\n- It is a free performance boost. I have 100-150 drawcalls in my game and switching to Vulkan gives +20% to FPS. Probably due to low-overhead graphics API calls.\r\n\r\nCons:\r\n- Nothing!\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nEnable OpenGL + Vulkan by default in app manifest.\r\n\r\n","comments":["related https:\/\/github.com\/defold\/defold\/issues\/7649\r\nrelated https:\/\/github.com\/defold\/defold\/issues\/6669\r\n","Oh! I apologise - either the GitHub search wasn't working well or I was writing the wrong requests. But I didn't find these issues so I wrote my own! \ud83e\udd2f","@aglitchman no no \r\nkeep it!","The only thing that is a somewhat major blocker right now for doing this is that fullscreen doesn't work when using MoltenVK. I'm investigating it a bit and it kinda made me want to upgrade to GLFW3 first, but maybe it's easy to fix the fullscreen issue first.. ","Aka:\r\nhttps:\/\/github.com\/defold\/defold\/issues\/5608\r\nhttps:\/\/github.com\/defold\/defold\/issues\/5606"],"labels":["feature request","engine","vulkan"]},{"title":"Vulkan doesn't support HiDPI","body":"**Describe the bug (REQUIRED)**\r\nThe hidpi setting does nothing and the image remains large pixelated.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Use Vulkan as graphics backend.\r\n2. Enable `hidpi`.\r\n3. Run the game.\r\n\r\n**Expected behavior (REQUIRED)**\r\nIt should support hidpi.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version: 1.6.1 ALPHA c5f1715d9f9eca0b2a13ee1cd7cfa58cb86a6694 and earlier.\r\n\r\n**Platforms (REQUIRED):**\r\n - OS: Windows 10.\r\n - Device: 4K monitor, RTX 3090.\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\nhttps:\/\/github.com\/aglitchman\/defold-vulkan-test\r\n\r\n**Screenshots (OPTIONAL):**\r\nVulkan:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/193258\/6c7f4c64-c184-4111-a158-b6b5460ee28e)\r\n\r\n\r\nOpenGL:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/193258\/9c50e705-255c-41b2-9994-50005078a995)\r\n\r\n","comments":["Thanks for the rep, I'll take a look \ud83d\udc4d ","Btw, you can link with both opengl and vulkan and select which one to run by passing either\r\n--graphics-adapter=opengl or --graphics-adapter=vulkan to the dmengine.exe binary"],"labels":["bug","engine","render","vulkan"]},{"title":"Issue when html5 build loading","body":"**Describe the bug (REQUIRED)**\r\nI don't know too much about it, but I see that sometimes build loading failed\r\n\r\n\r\n**To Reproduce (REQUIRED)**\r\nI don't know\r\n\r\n**Defold version (REQUIRED):**\r\n  - 1.6.0\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: HTML5\r\n - OS: ios\/ipados\r\n - Device: iPhone\r\n<img width=\"277\" alt=\"image\" src=\"https:\/\/github.com\/defold\/defold\/assets\/2209596\/618653a4-f384-4b17-9938-8520a421fb5c\">\r\n\r\n**Logs (OPTIONAL):**\r\n```\r\nTypeError: undefined is not an object (evaluating 'response.body.pipeThrough')\r\n  \"@https:\/\/3358b8ac-5e5f-4608-be07-2bd4873a0096.poki-gdn.com\/0fe004c6-ef9c-4c2a-bb26-ab74ec6ac3c9\/dmloader.js:147:50\\nasyncFunctionResume@[native code]\\n@[native code]\\npromiseReactionJobWithoutPromise@[native code]\\npromiseReactionJob@[native code]\"\r\n```\r\n","comments":[],"labels":["bug","html5"]},{"title":"Deleting a UVmap outside the editor and saving a new PNG outside the editor but into the same Defold project folder creates error","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\nDeleting a UVmap outside the editor and saving a new PNG outside the editor but into the same Defold project folder creates error\r\n### Expected behaviour\r\nproject runs no errors.\r\n![blackmnMeshNew](https:\/\/github.com\/defold\/defold\/assets\/146807897\/4633d3a0-5624-4e31-9241-52d7a797e6e1)\r\n![blackskintone](https:\/\/github.com\/defold\/defold\/assets\/146807897\/f4fb0a37-2c88-4155-a05b-d1eea4e58fc1)\r\n\r\n### Actual behaviour\r\nGet a javascript fail error because it can't find the deleted file.\r\n### Steps to reproduce\r\n\r\nCreate a new RGB color profiled PNG file. \r\nDirectly save it into the Defold project's images folder instead of using drag and drop.\r\nDelete a prior existing UV map sRGB PNG file (in this case blackmnMeshNew) in the same folder but not directly in the Defold project. Instead delete it outside of the Defold editor. Then SaveAll and then Build.\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-09-24T10:14:54.165179<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>beta<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>0c82b0d465fc3fa12afe7b67f65f3f1c7c221182<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>0c82b0d465fc3fa12afe7b67f65f3f1c7c221182<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.0<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"d40b6057b6394eab9dfa95ed11428a7a\"'>d40b6057b6394eab9dfa95ed11428a7a<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>AMD Radeon(TM) R4 Graphics<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.5.14009 Compatibility Profile Context 21.19.144.1281<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":["```\r\njava.util.concurrent.FutureTask.report.class java.util.concurrent.ExecutionException: java.io.FileNotFoundException: F:\\DefoldArcade\\Empty3D\\assets\\images\\blkhumanMesh.png (The system cannot find the file specified)\r\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    at java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n    at clojure.core$deref_future.invokeStatic(core.clj:2300)\r\n    at clojure.core$future_call$reify.deref(core.clj:6974)\r\n    at clojure.core$deref.invokeStatic(core.clj:2320)\r\n    at clojure.core$deref.invoke(core.clj:2306)\r\n    at clojure.core$map$fn.invoke(core.clj:2755)\r\n    at clojure.lang.LazySeq.sval(LazySeq.java:42)\r\n    at clojure.lang.LazySeq.seq(LazySeq.java:58)\r\n    at clojure.lang.RT.seq(RT.java:531)\r\n    at clojure.core$seq__5387.invokeStatic(core.clj:137)\r\n    at clojure.core.protocols$seq_reduce.invokeStatic(protocols.clj:24)\r\n    at clojure.core.protocols$fn.invokeStatic(protocols.clj:75)\r\n    at clojure.core.protocols$fn.invoke(protocols.clj:75)\r\n    at clojure.core.protocols$fn$G__8068__8086.invoke(protocols.clj:13)\r\n    at clojure.core$reduce.invokeStatic(core.clj:6824)\r\n    at editor.build$batched_pmap.invokeStatic(build.clj:23)\r\n    at editor.build$build_project_BANG_.invokeStatic(build.clj:52)\r\n    at editor.app_view$build_project_BANG_.invokeStatic(app_view.clj:816)\r\n    at editor.app_view$async_build_BANG_$phase_3_build_project_BANG___61859$run_project_build_on_background_thread_BANG___61860.invoke(app_view.clj:1044)\r\n    at editor.app_view$async_build_BANG_$run_on_background_thread_BANG___61812$fn.invoke(app_view.clj:928)\r\n    at clojure.core$binding_conveyor_fn$fn.invoke(core.clj:2030)\r\n    at clojure.lang.AFn.call(AFn.java:18)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    at java.lang.Thread.run(Thread.java:833)\r\n```","> Delete a prior existing UV map sRGB PNG file (in this case blackmnMeshNew) in the same folder but not directly in the Defold project. Instead delete it outside of the Defold editor.\r\n\r\nIs the file references in the project?","I thought I attached the files with the report"],"labels":["bug","more info","editor"]},{"title":"Frustum culling call when it not needed","body":"**Describe the bug (REQUIRED)**\r\nI try to optimize my game. I look at profile and find that frustum culling for labels calls: 264 \r\n\r\nAlso i find that frustum culling for mesh and model calls(11) equals number of render.draw with frustum matrix\r\n\r\n![2023-10-04_21-53-58](https:\/\/github.com\/defold\/defold\/assets\/2655263\/57fb6301-e110-4611-9660-c505faa04bec)\r\n\r\nhttps:\/\/github.com\/defold\/defold\/blob\/acd26d2bf4f4e37d14b9c28837b51e0a03ce8725\/engine\/render\/src\/render\/render.cpp#L695\r\n\r\nSo it looks like you update frustum for all objects in render list, before check predicates. So when i render models you check frustum for all objects(models,labels, ...)\r\n```lua\r\n    render.draw(self.model_pred,frusutm_draw_opts)\r\n```\r\n\r\n\r\n**To Reproduce (REQUIRED)**\r\n[TestFrustum.zip](https:\/\/github.com\/defold\/defold\/files\/12807582\/TestFrustum.zip)\r\n![2023-10-04_22-30-24](https:\/\/github.com\/defold\/defold\/assets\/2655263\/a2040d14-0dfd-4167-aa46-166c014bdbf4)\r\n```lua\r\n  render.draw(self.model_pred,frusutm_draw_opts)\r\n  render.draw(self.model2_pred,frusutm_draw_opts)\r\n  render.draw(self.tile_pred,frusutm_draw_opts)\r\n```\r\nSo 3 render.draw with frustum.\r\n3 for Model and Sprite\r\n6 for Label(2 gui)\r\n\r\n\r\n**Expected behavior (REQUIRED)**\r\n1. Do not update label frustum when i draw model.\r\n2. Update frustum only for objects that i draw(by predicate)\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.0\r\n\r\n**Platforms (REQUIRED):**\r\nALL\r\n","comments":["Yeah, I guess my attempt to avoid doing any superfluous frustum checks doesn't work in some scenarios.\r\nI'll have a think around how to best approach this."],"labels":["bug","engine","render"]},{"title":"One location for all defold related files, like logs.","body":"I don't know how it's solved in windows, but in linux defold creates 3 folders in the home dir:\r\n``` \r\n.Defold\r\n.com.defold.editor.start\r\n.defold \r\n```\r\nAs someone who likes his `~` as clean as possible, this one really bugs me like since ever ;)\r\nSo does it really need to be like this? If possible, why not put everything in one location like `~\/.var\/app\/com.defoldfoundation.defold\/` or `.local\/share\/... ` or something along these lines. \r\n\r\nMaybe some day you could look into this if you have nothing better to do :dancers: :D\r\n","comments":[],"labels":["feature request","editor"]},{"title":"Support Ctrl+Ins and Shift+Ins as shortcut alternatives to Ctrl-C and Ctrl-V","body":"Under Windows Ctrl+Ins and Shift+Ins are standard shortcuts for copy\/paste and are universally supported by any text editor. Defining these shortcuts in custom keymap does not work. The 'Ins' key does not appear to be supported.\r\n\r\nMight be related to https:\/\/github.com\/defold\/defold\/issues\/5047 https:\/\/github.com\/defold\/defold\/issues\/5589\r\n","comments":["Have you tried using `Insert` instead of `Ins`? Keymap configuration uses [JavaFX key code definitions](https:\/\/openjfx.io\/javadoc\/14\/javafx.graphics\/javafx\/scene\/input\/KeyCode.html), which uses the complete `Insert` form.","with `Insert` works!\r\n* I would not close this issue as I still think that under windows it should be standard, and it shouldn't be necessary to have custom mapping\r\n* the code definitions link should go to the documentation page. in fact at some point I doubt about 'Ins' being the right word,  but I couldn't find some docs","For sure, this stuff is severely underdocumented \ud83d\udc4d "],"labels":["feature request","editor"]},{"title":"Apple Silicon IDE is super slow","body":"\r\n\r\n**Describe the bug (REQUIRED)**\r\nMBP 2023, M2max OSX 13.5\r\nMy mac is connected to a separate monitor. That monitor has the menu bar.\r\nWhen I move the IDE window to the Mac's screen (no menu bar), editing text is GLACIAL!\r\nTakes seconds to respond to clicks in the editor.\r\n\r\nHOWEVER, when I have the IDE on the external monitor, it runs very well.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:         see above\r\n\r\n**Expected behavior (REQUIRED)**\r\nThe IDE should perform normally on any screen in a multi-screen environment.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.5\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: macOS\r\n - OS: Ventura\r\n - Device: MBP 2023\r\n\r\n","comments":["Also worth noting, in the Displays system settings, I have the Mac's screen set to show text slightly larger than 'default.'\r\n\r\nHowever, when I use the IDE on  the mac when it isn't connected to an external display, the editor runs well."],"labels":["bug","editor","macos","performance"]},{"title":"Functions to identify hash, vector3 and other `userdata` types","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nData type checking is often needed for convenient code organisation. Unfortunately, `type(variable)` always returns `userdata` for hash, vector3 and other types built into Defold.\r\n\r\n```lua\r\n    assert(type(self.position) == \"userdata\")\r\n    assert(type(self.body_id) == \"userdata\")\r\n    assert(type(self.collision_url) == \"userdata\")\r\n    assert(type(self.rotation) == \"userdata\")\r\n```\r\n\r\nYou have to write it that way and guess what's inside the variables.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nIt would be much more understandable if you could write it like this:\r\n\r\n```lua\r\n    assert(types.is_vector3(self.position))\r\n    assert(types.is_hash(self.body_id))\r\n    assert(types.is_url(self.collision_url))\r\n    assert(types.is_quat(self.rotation))\r\n```\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nI have added similar features for Scene3D and it has proven to be very handy in game development.\r\nhttps:\/\/github.com\/indiesoftby\/defold-scene3d\/blob\/main\/scene3d\/src\/extension.cpp#L12\r\n","comments":["Hi @britzl @AGulev !\r\nI want to implement solution for that task.\r\nPurposed API \r\npart 1\r\n```\r\ntypes.is_vector(var)\r\ntypes.is_matrix4(var)\r\ntypes.is_vector3(var)\r\ntypes.is_vector4(var)\r\ntypes.is_quat(var)\r\ntypes.is_hash(var)\r\ntypes.is_url(var)\r\n```\r\n\r\nCan be also added to cover all user types that defined in engine:\r\npart 2\r\n```\r\ntypes.is_go_script(var)\r\ntypes.is_go_script_instance(var)\r\ntypes.is_buffer(var)\r\ntypes_is_buffer_stream(var)\r\ntypes.is_node_proxy(var)\r\ntypes.is_gui_script(var)\r\ntypes.is_gui_script_instance(var)\r\ntypes.is_render_script(var)\r\ntypes.is_render_script_instance(var)\r\ntypes.is_render_script_predicate(var)\r\ntypes.is_render_constant_buffer(var)\r\ntypes.is_render_constant_buffer_array(var)\r\n```\r\nOpened questions:\r\n1. Should I implement API from part 2?\r\n2. `types.is_vector()` should return true if type is vector3 or vector4? I think yes.\r\n3. `types.is_url()` should return true if `var` is valid url string like \"level1:\/observer#main_camera\"?\r\n4. `types.is_node_proxy()` should be available only from gui script context?\r\n\r\n","I am concerned with engine size. We are adding a lot of new features now and the engine size is growing (albeit slowly).\r\n\r\nI very much like the simplicity of `type(\"foo\") == \"string\"` and would love to see something similar for the Defold types. \r\n\r\n* Could we monkey patch `_G.type` to add support for Defold types? This would probably break a lot of code relying on type() returning \"userdata\"...\r\n* Could we introduce a new `_G.dtype` or `_G.defoldtype` which would return the standard types AND alternative types for our known userdata obejcts?","What I see from my point of view:\r\n1. It can be implemented as separate extension because almost all APIs from part 1 presented in dmsdk.\r\n2. It can be implemented as engine modules which can be exclude via appmanifest.\r\n3. I also thought about `type()` function. IMHO, I'd prefer to introduce separate global function like `defoldtype`.\r\n\r\nUPD: Personally I'd like option 2."],"labels":["feature request","engine","lua"]},{"title":"Fonts: make the ASCII character set optional","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nUsually we use several fonts in our games to nicely display different numerical information (damage value, speed dial and so on). And Defold includes **all ASCII characters in fonts**. However, for this case, it doesn\u2019t make sense to store unused glyphs in the fonts . Especially if it\u2019s a web game where the download size matters.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nAdd an option to not include ASCII characters, only those specified in Extra Chars. To avoid using third party tools as in the link below.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nhttps:\/\/forum.defold.com\/t\/big-list-of-defold-pro-tips\/1519\/111?u=aglitchman\r\n\r\n","comments":[],"labels":["feature request","engine","font","pipeline"]},{"title":"Use human understandable names instead of generated for .glyph_bankc","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nAfter update to 1.6.0 it is hard to understand how much memory font use.\r\n\r\n1.6.0\r\n\/_generated_d74bf32fa8bc69f0.glyph_bankc\r\n1.5.0\r\n\/assets\/fonts\/game_font.fontc\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nUse human understandable names instead of generated for .glyph_bankc\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\n\r\n\r\n**Additional context (OPTIONAL):**\r\n![2023-09-30_14-33-07](https:\/\/github.com\/defold\/defold\/assets\/2655263\/54085827-739e-45fa-b07c-75c84686a901)\r\n","comments":[],"labels":["feature request","font","pipeline"]},{"title":"Label components with bitmap font rendered at subpixel positions despite disabling that in game.project","body":"**Describe the bug (REQUIRED)**\r\nLabel components are rendered at subpixel positions when the window resolution is odd on either axis. This is despite disabling subpixels under Label in `game.project`. I discovered this by changing `fixed_fit_projection()` by rounding down the `zoom` variable like so: `local zoom = math.max(1,math.floor(math.min(window_width \/ width, window_height \/ height)))`.\r\n\r\nI discovered that `xoffset` and `yoffset` in `fixed_projection()` affect this, because if I wrap them in `math.floor()` the label components render accurately. \r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Start\/Attach (F5)\r\n2. Resize window to an odd resolution (I added a `print()` command to show the current window resolution)\r\n3. Notice the label component (red text) is rendered weirdly.\r\n\r\n**Expected behavior (REQUIRED)**\r\nThe label component should be rendered pixel perfect.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.6.0\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows, HTML5\r\n - OS: Windows 11\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\n[Pixel Space.zip](https:\/\/github.com\/defold\/defold\/files\/12774295\/Pixel.Space.zip)\r\n\r\n**Workaround (OPTIONAL):**\r\nYou can wrap `xoffset` and `yoffset` in `fixed_projection()` with `math.floor()` and the label component will render correctly.\r\n\r\n**Screenshots (OPTIONAL):**\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/25840501\/d4215b4b-c42f-4fcb-9320-94b6a7193e5a)\r\n","comments":[],"labels":["bug","engine","label","render"]},{"title":" Implement C# Language Support in Defold Engine","body":"Description:\r\n\r\nAs a game developer who frequently uses the Defold engine, I have come to appreciate its versatility and efficiency in game development. However, I believe that the inclusion of C# language support could significantly enhance the capabilities and user experience of the Defold engine.\r\n\r\nReasoning:\r\n\r\nC# is a widely used language in game development, particularly in Unity, and many developers are already familiar with it. Implementing C# support in Defold could potentially attract more developers to use the engine and enhance its competitiveness.\r\n\r\nBenefits:\r\n\r\nEase of use: C# is known for its simplicity and readability, which makes it a great choice for both beginners and experienced developers. Implementing C# support could make Defold more accessible to a wider range of developers.\r\n\r\nPerformance: C# is a statically-typed language which can offer performance benefits over dynamically-typed languages like Lua.\r\n\r\nInteroperability: C# can easily interoperate with native libraries, which can be beneficial for extending the functionality of Defold.\r\n\r\nObject-oriented programming: C# supports object-oriented programming natively, which could simplify the development process for many developers and allow for more complex and structured game logic.\r\n\r\nImplementation:\r\nSimilar to how Defold currently supports Lua for scripting game logic, Defold could support C# in a similar manner, allowing developers to write game logic in C# scripts. This could be achieved potentially via a transpiler, similar to how the DefoldSharp project has approached it [](https:\/\/github.com\/RealityStop\/DefoldSharp).\r\n\r\nI would like to suggest the official implementation of C# language support. Currently, there is an open-source project, [DefoldSharp](https:\/\/github.com\/RealityStop\/DefoldSharp), that provides C# support for Defold. However, having this feature supported officially by the Defold team would be highly beneficial.\r\n\r\nBenefit of Official Support:\r\n\r\nDefoldSharp is currently in Alpha and, while it provides a promising start, official support could provide more stability and reliability. Official support would ensure regular updates, better integration with the Defold engine, and potential performance improvements.\r\n\r\n\r\nI would like to propose a community discussion for the official implementation of C# language support. \r\n\r\n![Csharp_Logo](https:\/\/github.com\/defold\/defold\/assets\/118836956\/3e7d28dc-8659-47a2-90dc-dc7457224162)\r\n\r\n","comments":["Hi @SparkT06 and welcome!\r\n\r\nWhile I appreciate the discussion, I feel I should point out a few things.\r\n\r\nDefold is a C++ engine, and will likely remain that way for a long time.\r\nIf we were to go in a new direction, it's much more likely we'd convert our libraries to Zig, as we are already very \"C-like-C++\".\r\nRegarding Lua and static typing, we are about to experiment with Luau (\"soon\"), and we are also doing major updates to the Lua editing in terms of LSP and linting.\r\n\r\nOur philosophy of keeping our C++ code very barebones (see [our code style](https:\/\/defold.com\/2020\/05\/31\/The-Defold-engine-code-style\/) and [orthodox c++](https:\/\/gist.github.com\/bkaradzic\/2e39896bc7d8c34e042b)) makes us performant, and keeps the executable size down.\r\nI'd argue that this, and also our eco system of extensions, is a major part in why users consider our engine.\r\n\r\nWe are always very cautious about what we put into our engine, keeping performance, size and support time in mind.\r\nAnd adding new language support is a huge effort.\r\n\r\nYou link to DefSharp, which is a transpiler to Lua, whereas I suspect you actually want a full integration of a separate language in the engine?\r\nLua and C# are very different languages, and I suspect you are after full C# support.\r\n\r\nWe recently ackknowledged that we want to add more functionality into our C++ SDK, so that users can do more from within their extensions. Perhaps that is something that may aid you in your effort.\r\n\r\nFor something like C# support, you could perhaps outline what new things from the C++ sdk you'd need to implement it. If we can help facilitate things from a native extension\/SDK perspective, that would be great.\r\n\r\nAlso, I should bring up the effort it takes to create and maintain things like this.\r\nDevelopment time is not free, and one of the reasons we have native extensions is that our users can contribute with their own time and effort.\r\nAnd, one of the reasons we are _able_ to keep our team small, is that we don't take on _all_ the extension code out there.\r\n\r\nSo, in summary.\r\n* We suggest you try adding your C# support as an extension\r\n* We can see what (if anything) you'd need from our C++ sdk","I understand that introducing a new language support to an existing game engine requires a significant amount of effort in terms of development, testing, and maintenance. It's not just about adding a new feature; it's about ensuring that this feature will work seamlessly with the existing components of the engine, won't introduce new bugs or performance issues, and will be sustainable in the long term.\r\n\r\nIn addition to the technical challenges, there's also the resource aspect to consider. Adding C# support to the Defold engine would require allocating resources for the initial development phase, as well as ongoing resources for maintenance, support, and updates. This includes not only developer time but also potentially additional infrastructure and tools.\r\n\r\nDespite these challenges, I believe that the benefits of introducing C# support to Defold could outweigh the costs. It would make the engine more versatile and attractive to a wider range of developers, potentially leading to a larger and more active community. It could also open up new possibilities for game development in Defold, by leveraging the strengths of C# as a language. I know design wise implementation is not easy and I will probably wait for defoldsharp addon production ready.\r\n\r\nI'm just insisting, I can be wrong. But if team wants to consider this proposal for implementation and I will wait for it. \r\n\r\nThanks \r\n\r\n","We've started an investigation into C# support in some shape or form.\r\n\r\nhttps:\/\/twitter.com\/mwesterdahl76\/status\/1735231363769348419"],"labels":["feature request"]},{"title":"Scriptable Bundle Dialogs","body":"The Bundle dialogs are a good candidate for us to explore and extend Editor Script support in the editor. We have a real need for feeding custom parameters to Bob in order to support proprietary target platforms, and it requires only a fairly basic set of UI controls. It also requires us to implement access to User Preferences.\r\n\r\nThere are a lot of open questions about how we will enable scripting of UI elements, so there is bound to be some exploration of various points. After some prototyping, we should document our findings in a design document.\r\n\r\n* How do we declare and refresh the view?\r\n  * Look at the approach of modern UI frameworks like React.\r\n    * Manual render request \/ `set_ui_state()` of Virtual DOM from Lua?\r\n    * Opaque state object + methods that lets us detect changes?\r\n    * Simple polling (potentially slow due to marshalling?)\r\n      * Perform diff on the Lua side and only marshal change instructions?\r\n    * Use namespaces for roots (windows) owned by a particular Editor Script?\r\n* How will we notify the Editor Script of UI events?\r\n  * View declares `on_ui_event()` callback, event id and context data is declared as part of the Virtual DOM?\r\n* Start with simplified pre-configured controls. We want to hide the complexity of getting the raw JavaFX controls to behave the way we want them to.\r\n* What about styling?\r\n  * Ideally, we'd establish a design system and the users should not have to deal with it.\r\n  * Still a need for control over field sizes, etc.\r\n    * Are predefined size variants enough?\r\n* Probably need to support a few layout containers right from the start.\r\n  * `HBox`, `VBox`, `Grid` with spans\r\n* Prototype the syntax for declaring the Virtual DOM from Lua\r\n","comments":["related:https:\/\/github.com\/defold\/defold\/issues\/4503","Related? #7047"],"labels":["task","editor","editor scripts"]},{"title":"Snapshot completions on popup open so we don't add freshly-defined locals","body":"**Task (REQUIRED):**\r\nWe should snapshot completions at certain points and filter them in the view, like we did previously\r\n\r\n**Expected outcome (REQUIRED):**\r\nWhen user types `local foo`, it does not get `foo` in the completions","comments":[],"labels":["task","editor","text-editor","lsp"]},{"title":"HTML5: Canvas flickering when window is being resized","body":"**Describe the bug (REQUIRED)**\r\nWhen you resize the browser window, the game's canvas flickers black (a background colour). The problem occurs only when `highdpi` is enabled and on devices with `devicePixelRatio` not equal to 1, i.e. Retina, 4K PCs, smartphones etc.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Create a new project.\r\n2. Enable `highdpi`.\r\n3. Build and run the game for HTML5.\r\n4. Resize the browser window.\r\n\r\n**Expected behavior (REQUIRED)**\r\nThe game canvas should not flicker.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.2.x - 1.6.0\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: HTML5\r\n\r\n**Workaround (OPTIONAL):**\r\nThis only happens when `highdpi` is enabled and only on Retina-like devices due to the following things: \r\n1. On the window `resize` event, the [`resize_game_canvas`](https:\/\/github.com\/defold\/defold\/blob\/4c402bd0dfbac0d65c51f4de1597e46a42ae324e\/engine\/engine\/content\/builtins\/manifests\/web\/engine_template.html#L206) function shrinks the size of the canvas, because it does not take `devicePixelRatio` into account. \r\n2. Then [`glfwSwapBuffers`](https:\/\/github.com\/defold\/defold\/blob\/4c402bd0dfbac0d65c51f4de1597e46a42ae324e\/engine\/glfw\/js\/library_glfw.js#L809) detects that canvas size has changed and resizes it again using the `GLFW.dpi` value.\r\n3. Bam! There is a flicker.\r\n\r\nIn my project, I fixed this problem like that:\r\n- disabled `highdpi` for HTML5 only.\r\n- modified the `resize_game_canvas` function so that `width` and `height` are multiplied by `devicePixelRatio`.\r\n\r\nIt works well and, as a bonus, I managed to control max pixel ratio mentioned in [the another issue](https:\/\/github.com\/defold\/defold\/issues\/8040).\r\n\r\nI would make a PR fix, but Defold has a very complicated relationship between `resize_game_canvas` in the HTML5 template and canvas size control in GLFW. From my view, in GLFW we should remove the `glfwSetWindowSize` function and not use it at all, because `resize_game_canvas` already controls the size of the canvas. I.e. GLFW should not resize the canvas in any way.\r\n\r\n**Additional context (OPTIONAL):**\r\nAlso, the problem mentioned here (plus, there is a video!) - https:\/\/forum.defold.com\/t\/html5-screen-flickering-when-window-is-being-resized\/73440\r\n","comments":["Possibly related to https:\/\/github.com\/defold\/defold\/issues\/7962 the second issue mentioned ( https:\/\/github.com\/defold\/defold\/assets\/60835390\/0052963e-ef68-4ced-89e3-2d656ce47d9f ) where particles flicker only in html5 builds","> Possibly related to #7962\r\n\r\nNot related."],"labels":["bug","html5","render"]},{"title":"Mouse lock should support unadjusted\/unaccelerated mode","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\n\r\nThe current implementation of mouse lock only locks the pointer, but cursor acceleration remains enabled. It would be nice to add an option to disable this behaviour.\r\n\r\n(quoted from [from MDN](https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/Pointer_Lock_API)) \r\n> Operating systems enable mouse acceleration by default, which is useful when you sometimes want slow precise movement (think about you might use a graphics package), but also want to move great distances with a faster mouse movement (think about scrolling, and selecting several files). **For some first-person perspective games however, raw mouse input data is preferred for controlling camera rotation** \u2014 where the same distance movement, fast or slow, results in the same rotation. This results in a better gaming experience and higher accuracy, according to professional gamers.\r\n\r\nIn short, for first\/third person view games it is very important to get coordinates without acceleration. All PC games work this way. Otherwise it would be impossible to aim with accelerated mouse.\r\n\r\nI do not know how to implement this on Windows\/Mac\/Linux platforms. On HTML5 in Chrome, this has already been [implemented](https:\/\/chromestatus.com\/feature\/5723553087356928), so to disable OS-level mouse acceleration and access raw mouse input, you can set the `unadjustedMovement` to `true` in the requestPointerLock args.\r\n\r\n> [!NOTE]\r\n> `unadjustedMovement` is not supported on linux for now. \r\n\r\nSo the workaround for the issue is (copy-pasted from the Poki discord):\r\n```js\r\ntry {\r\n    document.body.requestPointerLock({\r\n        unadjustedMovement: true\r\n    });\r\n} catch (e) {\r\n    let retry = false;\r\n    if (e instanceof DOMException) {\r\n        if (e.message.includes(\"not supported\")) {\r\n            retry = true;\r\n        }\r\n    }\r\n    if (retry) {\r\n        document.body.requestPointerLock();\r\n    } else {\r\n        throw e;\r\n    }\r\n}\r\n```\r\nBasically retry it again without unadjustedMovement when it fails\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nAdd an option for `window.set_mouse_lock`.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nNo alternatives, in fact.\r\n","comments":["@britzl the issue is not only about HTML5, i.e. it the unaccelerated input should be implemented for all platforms if it's possible \ud83d\ude4f\ud83c\udffb \r\n\r\nRelated feature in GLFW 3.3 - https:\/\/www.glfw.org\/docs\/3.3\/input_guide.html#GLFW_RAW_MOUSE_MOTION","> the issue is not only about HTML5, i.e. it the unaccelerated input should be implemented for all platforms if it's possible\r\n\r\nGot it. Thanks!"],"labels":["feature request","input","glfw"]},{"title":"Crash on Defold v1.5.0-stable","body":"**Describe the bug (REQUIRED)**\r\nSometimes I catch a crash. Crash file is in attachments.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\nDon't know\r\n\r\n**Expected behavior (REQUIRED)**\r\nEverything except the crash\r\n\r\n**Defold version (REQUIRED):**\r\n  - Last time it was v1.5.0-stable\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: macOS, maybe more\r\n - OS: Last time  it was Ventura (Version 13.5.2)\r\n\r\n**Logs (OPTIONAL):**\r\n[_crash.txt](https:\/\/github.com\/defold\/defold\/files\/12727235\/_crash.txt)","comments":["```\r\n0   dmengine                            0x000000010306d398 _ZN7dmCrash7OnCrashEi + 104\r\n1   libsystem_platform.dylib            0x0000000189cfaa24 _sigtramp + 56\r\n2   libsystem_pthread.dylib             0x0000000189ccbc28 pthread_kill + 288\r\n3   libsystem_c.dylib                   0x0000000189bd9ae8 abort + 180\r\n4   libsystem_c.dylib                   0x0000000189bd8e44 err + 0\r\n5   dmengine                            0x00000001030ed544 _ZN12dmGameObjectL8GetWorldEPNS_16CollectionHandleE.cold.1 + 0\r\n6   dmengine                            0x0000000102e5af1c _ZN12dmGameObject7AnimateEPNS_16CollectionHandleEPNS_8InstanceEyyNS_8PlaybackERNS_11PropertyVarEN8dmEasing5CurveEffPFvS3_yybPvS9_ES9_S9_ + 0\r\n7   dmengine                            0x0000000102e5ae3c _ZN12dmGameObjectL23RemoveAnimationCallbackEPNS_9AnimWorldEPNS_9AnimationE + 240\r\n8   dmengine                            0x0000000102e5aaf0 _ZN12dmGameObject14CompAnimUpdateERKNS_22ComponentsUpdateParamsERNS_22ComponentsUpdateResultE + 1368\r\n9   dmengine                            0x0000000102e65498 _ZN12dmGameObject6UpdateEPNS_16CollectionHandleEPKNS_13UpdateContextE + 448\r\n10  dmengine                            0x0000000102e87208 _ZN12dmGameSystem25CompCollectionProxyUpdateERKN12dmGameObject22ComponentsUpdateParamsERNS0_22ComponentsUpdateResultE + 588\r\n11  dmengine                            0x0000000102e65498 _ZN12dmGameObject6UpdateEPNS_16CollectionHandleEPKNS_13UpdateContextE + 448\r\n12  dmengine                            0x0000000102e125e0 _ZN8dmEngine4StepEPNS_6EngineE + 832\r\n13  dmengine                            0x0000000102e12bc4 _Z14dmEngineUpdatePN8dmEngine6EngineE + 32\r\n14  dmengine                            0x0000000102e135dc _ZN8dmEngine7RunLoopEPKNS_13RunLoopParamsE + 104\r\n15  dmengine                            0x0000000102e13560 _Z11engine_mainiPPc + 88\r\n16  dyld                                0x0000000189973f28 start + 2236\r\n```","@cnaize you can drag and drop the crash file here to get the stack trace produced above plus extra info.\r\n\r\nhttps:\/\/britzl.github.io\/crashtool\/","@cnaize are you able to reproduce this issue? Looks like it is a property animation on a game object which crashes for some reason.","@britzl thanks for the tool, but I don't know how to use the information from it.\r\n\r\nI don't know how to reproduce the bug by myself, I just catch the crash sometimes. I can try to explain a bit.\r\nI have some logic working with objects properties, like Fade In. For example, when I'm calling Fade Out during the object is Fading In, my module calls the Fade In callback at first, then saves the Fade Out callback and so on. The implementation is a bit complicated, but hope this is helpful.","> thanks for the tool, but I don't know how to use the information from it.\r\n\r\nAh, no, it is more for our sake when trying to figure out what goes wrong.\r\n\r\n\r\n\r\n> I don't know how to reproduce the bug by myself, I just catch the crash sometimes. I can try to explain a bit.\r\n> I have some logic working with objects properties, like Fade In. For example, when I'm calling Fade Out during the object is Fading In, my module calls the Fade In callback at first, then saves the Fade Out callback and so on. The implementation is a bit complicated, but hope this is helpful.\r\n\r\nIt will be hard to try and reproduce. If you are able to share a repro case it would be most helpful. You can either share it here if you are comfortable sharing it in public or via email (bjorn@defold.se).","> > thanks for the tool, but I don't know how to use the information from it.\r\n> \r\n> Ah, no, it is more for our sake when trying to figure out what goes wrong.\r\n> \r\n> > I don't know how to reproduce the bug by myself, I just catch the crash sometimes. I can try to explain a bit.\r\n> > I have some logic working with objects properties, like Fade In. For example, when I'm calling Fade Out during the object is Fading In, my module calls the Fade In callback at first, then saves the Fade Out callback and so on. The implementation is a bit complicated, but hope this is helpful.\r\n> \r\n> It will be hard to try and reproduce. If you are able to share a repro case it would be most helpful. You can either share it here if you are comfortable sharing it in public or via email ([bjorn@defold.se](mailto:bjorn@defold.se)).\r\n\r\ncurrently the repo is private, but I sent the module source code to provided email ([bjorn@defold.se](mailto:bjorn@defold.se))","@britzl hello there\r\nI've found how to reproduce the crash.\r\n\r\nJust call this snippet using my provided module:\r\n```\r\nwhile true do\r\n\tgraphics:fade_in_s(\"#sprite\", function()\r\n\t\tgraphics:fade_out_s(\"#sprite\")\r\n\tend)\r\nend\r\n```","@cnaize is this running in a coroutine or something? Otherwise the `while true do end` will run forever and never yield the main thread.","@britzl this is a synthetic example just to easily reproduce the crash. you can play with it as you wish.","Ok, yeah, sure, this will cause a crash:\r\n\r\n```\r\nfunction init(self)\r\n\twhile true do\r\n\t\tgo.animate(\"#sprite\", \"tint.w\", go.PLAYBACK_ONCE_FORWARD, 1, go.EASING_INOUTEXPO, 0.7, 0, function()\r\n\t\t\tgo.animate(\"#sprite\", \"tint.w\", go.PLAYBACK_ONCE_FORWARD, 0, go.EASING_INOUTEXPO, 0.7)\r\n\t\tend)\r\n\tend\r\nend\r\n```\r\n\r\nBut it is also a pretty severe bug in your code if you create an infinite loop on the main thread.\r\n\r\n```\r\nERROR:CRASH: CALL STACK:\r\nERROR:CRASH: 0   dmengine                            0x00000001010c2b64 _ZN7dmCrash7OnCrashEi + 104\r\nERROR:CRASH: 1   libsystem_platform.dylib            0x00000001908df4a4 _sigtramp + 56\r\nERROR:CRASH: 2   libsystem_pthread.dylib             0x00000001908c7ee0 pthread_kill + 288\r\nERROR:CRASH: 3   libsystem_c.dylib                   0x0000000190802340 abort + 168\r\nERROR:CRASH: 4   libsystem_c.dylib                   0x0000000190801754 err + 0\r\nERROR:CRASH: 5   dmengine                            0x000000010110265c _ZN11dmHashTableImtE5EraseEm.cold.3 + 0\r\nERROR:CRASH: 6   dmengine                            0x0000000100e97d84 _ZN11dmHashTableImtE5EraseEm + 172\r\nERROR:CRASH: 7   dmengine                            0x0000000100e97ca8 _ZN12dmGameObjectL23RemoveAnimationCallbackEPNS_9AnimWorldEPNS_9AnimationE + 240\r\nERROR:CRASH: 8   dmengine                            0x0000000100e9795c _ZN12dmGameObject14CompAnimUpdateERKNS_22ComponentsUpdateParamsERNS_22ComponentsUpdateResultE + 1368\r\nERROR:CRASH: 9   dmengine                            0x0000000100ea2304 _ZN12dmGameObject6UpdateEPNS_16CollectionHandleEPKNS_13UpdateContextE + 448\r\nERROR:CRASH: 10  dmengine                            0x0000000100e8ee5c _ZN8dmEngine4StepEPNS_6EngineE + 832\r\nERROR:CRASH: 11  dmengine                            0x0000000100e8f440 _Z14dmEngineUpdatePN8dmEngine6EngineE + 32\r\nERROR:CRASH: 12  dmengine                            0x0000000100e8fe58 _ZN8dmEngine7RunLoopEPKNS_13RunLoopParamsE + 104\r\nERROR:CRASH: 13  dmengine                            0x0000000100e8fddc _Z11engine_mainiPPc + 88\r\nERROR:CRASH: 14  dyld                                0x00000001016a108c start + 520\r\n```\r\n\r\n","ok, let me explain a bit more.\r\nI don't create an infinite loop on the main thread, but sometimes I catch the crash. I don't know how to reproduce it, what's why I created the synthetic example just to show the point.","Ok, got it. We might have an idea what's going on. It is possibly related to another callback\/function ref issue we have in spine. https:\/\/github.com\/defold\/extension-spine\/issues\/147","I think this one is related as well https:\/\/github.com\/defold\/defold\/issues\/8123"],"labels":["bug","more info","engine"]},{"title":"Add Change Editor Layout feature","body":"\r\n**Describe the solution you'd like (REQUIRED):**\r\n\r\nAllowing users to customize their editor layouts and dock positions enables them to create layouts that are tailored to their specific\r\nCustomizable layouts and dock positions can significantly improve productivity. Everyone has different needs when it comes to accessibility. Some users may benefit from having certain docks or panels in specific locations to accommodate their workflow.\r\nCustomizable layouts and dock positions have become a standard feature in many modern game engines and development tools. Implementing this feature would bring Defold in line with industry standards, making it more competitive in the market. \r\n\r\nExample: Godot and Blender have nice editor layout settings and community really loved it as user can change the layout as their wish.\r\n","comments":["Moved from https:\/\/github.com\/defold\/defold\/issues\/8265:\r\n\r\n>**Is your feature request related to a problem? Please describe (REQUIRED):**\r\n>Defold editor workspace should be saved to file by a menu option . \r\n>\r\n>Default layout \r\n>![Default layout](https:\/\/github.com\/defold\/defold\/assets\/5469158\/cee737a4-b0c3-4019-95de-f6c7d5cc70e2)\r\n>\r\n>Customized layout\r\n>![Customized layout](https:\/\/github.com\/defold\/defold\/assets\/5469158\/7719b955-9a86-4c45-ba7f-07237345def0)\r\n>\r\n>**Describe the solution you'd like (REQUIRED):**\r\n>When you open a project, Defold should use the file's screen layout rather than the default one. \r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nA custom set of workspaces can be saved as a part of the defaults .\r\n"],"labels":["feature request","editor","javafx"]},{"title":"Add Options to change the color of Editor(Theme) in Preferences.","body":"\r\n**Describe the solution you'd like (REQUIRED):**\r\nCurrently if you want change the color\/theme in editor, need to edit the .css stylesheet. But it's not intuitive as modern game engine now supports changing the color of editor from the editor settings\/preferences. It is nice to have saving custom themes or use the defaults themes from engine from dropdown settings in editor.\r\n\r\n\r\n\r\n**Additional context (OPTIONAL):**\r\nAttaching a sample screenshot:\r\n<img width=\"448\" alt=\"image\" src=\"https:\/\/github.com\/defold\/defold\/assets\/118836956\/e8805d3d-1279-4fb4-9ecd-0e26ad896bfc\">\r\n","comments":["I totally agree. The current css system is not very user friendly!"],"labels":["feature request","editor"]},{"title":"Option to set max pixel ratio","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nThere is a `highdpi` option in the Defold engine that enables rendering to the full available pixel canvas size. \r\n\r\nIf a player has a Mac Retina or a 4K PC Ultra Book or a cheap Android phone but with a 2K screen, the game can require a HUGE amount of their device's resources as it will draw a gigantic amount of pixels. If you disable the `highdpi` setting, because of the `window.devicePixelRatio` (on HTML5) > 3 on mobile devices and 4K ultra books, the picture will look VERY pixelated:\r\n\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/193258\/448b401b-3963-46e1-ab84-f3ad73365b4a)\r\n\r\nThe point is that on HTML5 and Android platforms (I'm not sure about other platforms, needs investigation), you can use **hardware scaler** and not lose performance (when compared to rendering in render target):\r\n- HTML5: `<canvas>` attributes `width` and `height` are the size of the canvas in **pixels**. Set these attributes smaller than `width*devicepixelratio` and stretch the canvas with CSS width\/height 100%.\r\n- Android: https:\/\/android-developers.googleblog.com\/2013\/09\/using-hardware-scaler-for-performance.html\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI would like to have the `max pixel ratio` parameter ([the same as in PlayCanvas](https:\/\/developer.playcanvas.com\/en\/user-manual\/optimization\/runtime-devicepixelratio\/)) so that you can limit the pixel ratio. So that the game looks OK and runs fast on 4K PC laptops (on the web, at least), Mac Retina, cheap smartphones.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nYou can use render target and render the picture to it first and then to the screen. But it's the extra copy operations that hurt performance.\r\n","comments":["And some stats on HTML5's devicePixelRatio - on my devices the values are these:\r\n* S22 Ultra - 360x772, ratio 3 or 4 (depends on user display settings).\r\n* Samsung Galaxy A5 (2017) - 360x640, ratio 3.\r\n* PC with 4K 24'' monitor: 1920x1080, ratio 2 (because I use 200% desktop zoom).\r\n* iPhone 7 - 375x667, ratio 2.\r\n* iPhone 14 Pro - 393x852, ratio 3.\r\n\r\nhttps:\/\/www.mydevice.io\/","It seems to me that this is applicable in a very limited way.\r\nFor example, i make a game, and i want it to look good on a powerful device, and just run fast on a weak one.\r\nTo do this, i use automatic tuning of rendering options right when the game is running - for example, i select the appropriate shader set and render target size. And all this in real time looking at FPS.\r\n\r\nThus, rigid customization in game.project loses its meaning. Because on a powerful device the game will not look as good as it could. And there are more powerful devices than weak ones.","\r\n> Thus, rigid customization in game.project loses its meaning. Because on a powerful device the game will not look as good as it could. And there are more powerful devices than weak ones.\r\n\r\nHTML5 allows you to dynamically change the size of the canvas, so this parameter can be put in the Lua API (`window.*` maybe). I'm not familiar with Android, iOS etc - it probably requires the entire GL canvas to be recreated and can't be dynamic.\r\n\r\n> for example, i select the appropriate shader set and render target size.\r\n\r\nWhat about 2D games or 3D games with forward renderer that don't use render targets at all?\r\n\r\n "],"labels":["feature request","engine","html5","render"]},{"title":"Center the windows build by default.","body":"Hi, I think defold is mobile first game engine. But I want to support my game in multiple platform. It's kind of annoying to see the windows start on top right corner of the screen. I mean you know the reason I want to start it in the middle because this is how is it supposed to look and how game engine build their windows build usually.\r\n\r\nI tried defos but you can see the window resizing on startup just to center it. It's actually kind of weird not seeing this as default in defold.","comments":["Also having an option to set window position would be nice.","Thank you for the feature request. We have plans to migrate to GLFW3 (we have a proof of concept) and once that migration is done we'll probably look into these kind of desktop convenience functions, such as moving and resizing the window and changing the window title.\r\n\r\nRelated https:\/\/github.com\/defold\/defold\/issues\/7970","Also, to have the option to start on borderless fullscreen window, or somehow do that by script.","This is a very important feature for development workflow too. Every time I run build I have to move the window to the center and it's a massive bother for multiple reasons.\r\n\r\nSo I made a little [cli app with rust](https:\/\/github.com\/Temeez\/centerme) that centers my small game window every time I build and decided to share it in case someone needs it.","I think a good start is to add support for this specifically when building and running from the editor. I'm thinking it should be a new engine service message:\r\n\r\nhttps:\/\/github.com\/defold\/defold\/blob\/dev\/engine\/docs\/DEBUG_PORTS_AND_SERVICES.md#post"],"labels":["feature request","engine","editor","linux","windows","macos"]},{"title":"Option to perform Lua GC step during rendering","body":"@8bitskull is constantly running into the problem that Lua gc eats up lots of frame time ([the reference is this post](https:\/\/forum.defold.com\/t\/bore-blasters\/73228\/8?u=aglitchman)). This is unacceptable for realtime applications like video games.\r\n\r\nDefold has something like that the game frame sequence:\r\n1. collect input\r\n2. call update, fixed update\r\n3. collect commands from render script to a queue.\r\n4. render the queue.\r\n5. wait for vsync if the vsync is enabled or update frequency is set, and go to the first step.\r\n\r\nPlus, Defold does most of these things in a single thread. \r\n\r\nSo, I propose to add a new Lua GC mode for Defold on non-HTML5 platforms, which will turn off the standard gc mode (`collectgarbage(\"stop\")`) and **will call the GC step on its own in a separate thread during rendering the render queue**. The point is to collect Lua garbage during graphics rendering and to never have GC interruption of the execution of the Lua game code during updates.\r\n\r\nI think it can be done, since I assume that the engine does not interact with Lua objects during rendering. And the memory that can be freed by Lua does not conflict with the rendering process in any way. This process can be started [here ](https:\/\/github.com\/defold\/defold\/blob\/3509aa95486fc700c3539a288981a57a1f78ada1\/engine\/render\/src\/render\/render_script.cpp#L3507) before calling ParseCommands. After ParseCommands you can wait for its completion, if rendering happens faster.\r\n","comments":["I think my project is quite extreme because it pushes things to the limit _and_ is not yet fully optimised. However I do in general agree that this would be a good feature to have, particularly for extreme projects like this."],"labels":["feature request","lua"]},{"title":"Headless build consumes 100% cpu","body":"**Describe the bug (REQUIRED)**\r\nThe problem was first described here - https:\/\/forum.defold.com\/t\/an-empty-project-consumes-a-lot-of-cpu-time\/72576\r\n\r\nHeadless build consumes 100% of the single CPU core.\r\n\r\nOn the screenshot you can see 100% CPU consumption. The right part demonstrates that the update function in the script is called exactly 30 times per second (dt = 0,0333), as specified in the update frequency setting.\r\n\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/193258\/4ab4247c-d891-42c7-9545-627989f7a8bb)\r\n\r\n\r\n**To Reproduce (REQUIRED)**\r\n1. Create empty project.\r\n2. Set the software-limited update frequency in the game settings to limit amount of updates per seconds (the `update frequency` setting).\r\n3. Make the headless build.\r\n4. Check the task manager.\r\n\r\n**Expected behavior (REQUIRED)**\r\nThe headless build shouldn't use so much CPU time.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version: 1.5.0, 1.6.0.\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows, Linux.\r\n","comments":["I guess we'll have to readd any sleeping mechanism.\r\nShouldn't be too problematic per se.\r\nHowever, sleep\/wakeup mechanics aren't always very precise. The obvious downside is that it's tricky to make sure the thread wakes up on time.\r\n\r\nPerhaps the sleeping time should be configurable, so that it wakes up a little bit before it needs to, and then busy wait\/sleep with smaller timesteps before the next update."],"labels":["bug","engine"]},{"title":"Option to better manage the asset browser when Track Active Tab is enabled","body":"_Is it a private platform specific feature? (i.e. would it break your NDA?)\r\nno\r\n\r\n**Is your feature request related to a problem? Please describe**\r\nThe setting 'Track Active Tab in Asset Browser' is useful, but as you start to edit multiple files, you quickly find that many sections of the asset list have expanded to show open files, and it becomes more difficult to navigate manually.\r\n\r\n**Describe the solution you'd like**\r\nAn additional option: If enabled, then when navigating to a different tab, it would close the section of the asset browser if it had been opened by the previous tab. \r\n\r\n**Describe alternatives you've considered :**\r\nI may disable Track Active Tab, which I've been trying this week, after previously having it disabled.\r\n\r\n**Additional context:**\r\nThe CodeWright text editor for Windows had this option. Perhaps others do.\r\n","comments":[],"labels":["feature request","editor"]},{"title":"Setting profiler ui mode to profiler.MODE_SHOW_PEAK_FRAME does not work","body":"Setting profiler ui mode to profiler.MODE_SHOW_PEAK_FRAME does not work. The profiler continues working in profiler.MODE_RUN mode.\r\n\r\nExecuted code:\r\n```\r\nprofiler.enable_ui(true)\r\nprofiler.set_ui_mode(profiler.MODE_SHOW_PEAK_FRAME)\r\n```\r\nThis brings up the profiler in profiler.MODE_RUN mode, and peak frames are not displayed.\r\n\r\n**Defold version:**\r\n  - Version 1.5.0\r\n\r\n**Platforms:**\r\n - Windows 10\r\n","comments":[],"labels":["bug","engine","profiler"]},{"title":"Add a center point semantic for custom vertex formats","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nFor certain effects it would help if we produced the center point of a primitive (e.g billboards + sprite). This should not be a lot of work i think.\r\n\r\nRelated to #6820 but a general improvement to the custom formats.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nA clear and concise description of what you want to happen.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nA clear and concise description of any alternative solutions or features you've considered.\r\n\r\n**Additional context (OPTIONAL):**\r\nAdd any other context or screenshots about the feature request here.\r\n","comments":[],"labels":["feature request"]},{"title":"Support for shape blending in model animations and as a parameter for Lua code","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nLet me cite Blender's manual:\r\n\r\n> Shape keys are used to deform objects into new shapes for animation. In other terminology, shape keys may be called \u201c**morph targets**\u201d or \u201c**blend shapes**\u201d.\r\n> The most popular use cases for shape keys are in character facial animation and in tweaking and refining a skeletal rig. They are particularly useful for modeling organic soft parts and muscles where there is a need for more control over the resulting shape than what can be achieved with combination of rotation and scale.\r\n\r\nFor example, in our game, the main character has to blink his eyes to make him look natural. Unfortunately, for now the character will always look straight ahead and not blink like an unalive, and I will wait for the implementation of this feature \ud83d\ude22 \r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nIt would be cool to support this in 3D model animations and allow this parameter to be controlled from Lua code and via go.animate.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nNo ideas.\r\n\r\n**Additional context (OPTIONAL):**\r\nI added a demo project where the model should blink its eyes (as a part of its animation). But it doesn't do that.\r\n\r\nYou can load the `shapes.glb` model on [playcanvas viewer](https:\/\/playcanvas.com\/viewer) and see that the animation works. And if you stop playing the animation, you can control the eyes manually through the Morph Target option.\r\n\r\n[issue_morph_target.zip](https:\/\/github.com\/defold\/defold\/files\/12675370\/issue_morph_target.zip)\r\n\r\n\r\n","comments":["https:\/\/github.com\/defold\/defold\/issues\/3619"],"labels":["feature request","engine","model","animation"]},{"title":"Post-bundle iOS installation fails to find device","body":"_Is it a private platform, and a platform specific issue? (i.e. would it break your NDA?)<br>\r\nNo\r\n\r\n**Describe the bug**\r\nAfter selecting 'Install on connected device' in the iOS Bundle window, the installation doesn't happen after bundling is complete, because the device is not found. See logs below.\r\nThis is probably intermittent, because running ios-deploy --detect --json from the terminal produced inconsistent results.\r\nFrom 10 tests:\r\n- 7x after 5 seconds, no output is displayed and the return code is 253\r\n- 2x the device is correctly detected, and the return code is 0\r\n- 1x the device is correctly detected, the return code is 253 and an additional event is displayed:\r\n```\r\n{\r\n  \"Event\" : \"Error\",\r\n  \"Code\" : 3892314140,\r\n  \"Status\" : \"The device does not recognize this host.\"\r\n}\r\n```\r\nFrom the terminal, a straight installation with ios-deploy -b consistently works as expected. Adding a timeout of 10 seconds correctly picked up situations where the device wasn't available.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Open the iOS Bundle window\r\n2. Select 'Install on connected device'\r\n3. Bundle\r\n\r\n**Expected behavior**\r\nThe .ipa should be installed\r\n\r\n**Defold version**\r\n  - 1.5.0\r\n\r\n**Platforms**\r\n - Platforms: iOS, macOS\r\n - OS: iOS 17.0, macOS 13.5\r\n - Device: iPhone 13 mini, MacBook Pro 2020\r\n\r\n**Logs**\r\nEditor console:\r\n```\r\nResolving ios-deploy location...\r\nResolved to '\/opt\/homebrew\/bin\/ios-deploy'\r\nListing devices...\r\nFailed to list devices\r\n```\r\n","comments":[],"labels":["bug","editor","ios"]},{"title":"See mouse coordinates in the editor","body":"I would be useful to see current mouse coordinates in the editor, based on the resolution set in game.project.\r\n\r\n\r\n","comments":[],"labels":["feature request","editor"]},{"title":"Problem with multitouch trigger sending released touch points","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\nI am using a multitouch trigger. When there are more than two touch points and when I release these touch points at the same time, the actions of these released touch points are still sent to on_input. But when I release the touch points one by one and not at the same time, everything works fine.\r\n\r\nI have attached a minimal project:\r\n[My Project.zip](https:\/\/github.com\/defold\/defold\/files\/12656928\/My.Project.zip)\r\n\r\n### Expected behaviour\r\nStop sending multitouch trigger actions\r\n### Actual behaviour\r\nInfinite sending of multitouch trigger actions\r\n### Steps to reproduce\r\n1. Add a multitouch trigger\r\n2. Create an object with a script.\r\n3. Give it the input focus.\r\n4. In the on_input function, output the action.touch of the multitouch trigger\r\n5. Build a project for the phone.\r\n6. Press three fingers on the screen (create three touch points).\r\n7. Try to release your fingers at the same time.\r\n8. View action.touch data output to the console\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Phone<\/td><td>Realme 6 pro<\/td><\/tr>\r\n<tr><td>Android version<\/td><td>11<\/td><\/tr>\r\n<tr><td>Assembly number<\/td><td>RMX2063_11_C.23<\/td><\/tr>\r\n<tr><td>Build time<\/td><td>2023-09-18T10:17:07.827269<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>0893837257f1a4ba8a58a43f164f216aa8f1813b<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>00352cc02f24c12e6081245c0d5fb2e0b263d05e<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.5.0<\/td><\/tr>\r\n<tr><td>GPU<\/td><td>NVIDIA GeForce GTX 660\/PCIe\/SSE2<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 NVIDIA 474.14<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 11<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":["Did you test on iOS or Android?\r\nNative build or html5?","In the table, I have specified the phone data. I used android 11. Native build \ud83d\ude42"],"labels":["input","android"]},{"title":"Improve UX for configuring external code editor","body":"The UX for configuring an external code editor could use some work.\n\nOn macOS, users will get a hostile error message if they set the path to an app bundle instead of referring to the actual executable within it. Perhaps we could locate the actual executable within automatically?\n\nIn the future it would be nice if we provided pre-configured command-lines for popular editors that you could maybe select from a dropdown or something.","comments":["Some [helpful values for VS Code](https:\/\/github.com\/astrochili\/vscode-defold#opening-files-from-defold).","> Some [helpful values for VS Code](https:\/\/github.com\/astrochili\/vscode-defold#opening-files-from-defold).\r\n\r\nThanks. I added these instructions to the main documenation: https:\/\/github.com\/defold\/doc\/commit\/b34ee547be8babfd981e8cc7e89c20e8099da974","@britzl  @matgis @astrochili \r\nI just make a PR for this issue: https:\/\/github.com\/defold\/defold\/pull\/8105\r\n\r\nCurrently it only suggest vscode. But for other editor can be added later.\r\n\r\nCould you please take a look & give me some suggest?\r\n\r\nThanks!\r\n","Not bad, well done!\r\n\r\nIn the end, I would prefer a dropdown with a choice of editor type and one single field \u2014 the path. In this field, auto substitution of the existing path would be useful, as usually the user has only one specific path to the external editor.\r\n\r\nThere could also be a button to select the path via the system dialogue.","@astrochili Thank for the suggest, I just updated.\r\nNow it is a dropdown & user able to choose file from file-picker.\r\nCould you please take a look?\r\nhttps:\/\/github.com\/defold\/defold\/pull\/8105\r\n","> @astrochili Thank for the suggest, I just updated. Now it is a dropdown & user able to choose file from file-picker. Could you please take a look? #8105\r\n\r\nFrom a UI\/UX point of view I think the following implementation would be nice:\r\n\r\n- A dropdown field `Code Editor` with a list of known code editors, including `Defold Editor` (the top) and `Custom` (the bottom).\r\n\r\n- A path field to the editor that is automatically filled in if possible. With a button to select the file. Not visible if the dropdown value == `Defold Editor`.\r\n\r\n- The `Open File` and `Open File at Line` fields are only visible if the dropdown value == `Custom`. Since most users do not understand what to enter in these fields, but we already know what needs to be stored in them for every known code editor, I would simply hide them from the user.\r\n\r\n- It also makes sense to display the font field only if the dropdown value == `Defold Editor`.\r\n\r\nAccordingly, when selecting `VS Code` there will be only dropdown and path field, possibly already filled in, with a button to select an executable of VSCode.\r\n\r\nWhen selecting `Custom` there will be a path field with an executable selection button and fields `Open File` and `Open File at Line`.\r\n\r\nI'm not from the Defold team, so maybe the team has a different vision, this is only my subjective view \ud83d\ude43","@astrochili  Thank you for the detail.\r\nSo I think we should discuss with the core member before do more things.\r\n\r\n\r\nThank you so much!"],"labels":["editor","good first issue?"]},{"title":"Editor infinite loop when assigning template to itself","body":"1. create new GUI\r\n2. create Template node\r\n3. assing gui created on first step to template field\r\n\r\n![telegram-cloud-photo-size-2-5206576381364915609-y](https:\/\/github.com\/defold\/defold\/assets\/5168419\/43db41ca-1f0b-4fee-a72d-b7f8f7f82bfe)","comments":["related https:\/\/github.com\/defold\/defold\/issues\/6568"],"labels":["bug","editor","gui"]},{"title":"Prevent special URL characters in IDs","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nIt's currently possible to create a game object or component with an ID like `go:`, which makes it impossible to reference with a string.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nThe editor should block characters like `#` and `:` from being entered in the ID field, or at least show it as an error.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nIt's still possible to construct a URL using [`msg.url([socket], [path], [fragment])`](https:\/\/defold.com\/ref\/stable\/msg\/#msg.url:[socket]-[path]-[fragment]).\r\n\r\n**Additional context (OPTIONAL):**\r\n```lua\r\n-- in a script attached to a game object named \"go:\"\r\ngo.get_position(\"go:\")\r\ngo.get_position(\"\/go:\")\r\n-- both result in ERROR:SCRIPT: function called can only access instances within the same collection.\r\n```","comments":[],"labels":["feature request","engine","editor"]},{"title":"Create a build error if a .script file is used as a .gui_script file","body":"Both editor and bob fail to catch this issue.\r\nEditor built content produces a hard crash, bob built content produces an error related to resources: \"Unknown resource type: script\"\r\n\r\nRepro:\r\nhttps:\/\/forum.defold.com\/t\/colorslide-tutorial-build-fail\/74076","comments":["hmm, but It's possible to add script this way only manually using a text editor","Sure, but we should still check","Also, the user noted that it was done by typing directly into the text field in the editor."],"labels":["bug","editor","bob"]},{"title":"Sometimes frustum culling breaks rendering in Safari on iOS 15.7","body":"**Describe the bug (REQUIRED)**\r\n\r\nThere a lot of prerequirements but still it affects some players. And some moderators on yandex platform =)\r\nIts appear on html5 build running in Safary on ios devices with version 15.7. Maybe it affects devices from 15.4+. But on the newest version all works fine. It can run perfectly, but if you try reload page several time you are going to run to this issue. Some guy from our community also runs to this issue, but on desktop safari browser some time ago. He did't fly an issue back then but he found workaround for this. Problem dissapears if you stop sending the frustram matrix to render.\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/35957639\/61486b2b-5215-4932-bd97-b30c87efa514\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Run game on some specific device\r\n2. Reload page several times\r\n4. See error\r\n\r\n**Expected behavior (REQUIRED)**\r\nThis glitches would be not happened\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.5.0\r\n\r\n**Platforms (REQUIRED):**\r\n - Device: ios devices 15.7 (at least)\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\nI can share my project to someone in discord or email\r\n\r\n**Workaround (OPTIONAL):**\r\nThe problem dissapears when you disable frustrum culling.\r\n","comments":["Could you pls try to reproduce it using 1.6.4.? ","@vbif1 \r\nA lot of fixes were made in 1.6.4-1.7.0 in this area. could you pls take a look if it's still an issue for you using the latest version of Defold?"],"labels":["bug","more info","engine","ios","render"]},{"title":"Use `-lopenal` for emscripten","body":"**Task (REQUIRED):**\r\n`createBuffer()` method was removed from the specification.\r\nThat means that we can't use it anymore and on some browsers it maybe be a reason of issues (see [this](https:\/\/x.com\/dasannikov\/status\/1702640571838316819))\r\n\r\nI think we should use Emscripten OpenAL implementation:\r\nhttps:\/\/emscripten.org\/docs\/porting\/Audio.html\r\n\r\nAccording to explanation:\r\n\r\n>Another issue you may experience is that browsers will not allow audio to play before user input. This prevents pages from auto-playing media, which can be annoying if you didn\u2019t want that. Emscripten\u2019s OpenAL implementation (and also SDL1) will automatically listen for a user click or keypress on the document and the canvas, and resume audio for you. That means that audio should start to play once the user does something on the page. (See autoResumeAudioContext() for how this is done internally.)\r\n\r\nit should also help with this issue as well: https:\/\/github.com\/defold\/defold\/issues\/5312\r\n \r\n**Expected outcome (REQUIRED):**\r\nNo more `library_sound.js` and sound works in all the browsers\r\n","comments":["the attempt to fix reverted because of  https:\/\/github.com\/defold\/defold\/issues\/8114"],"labels":["task","sound","html5"]},{"title":"Fix editor crash when it tries to load AccessibilityProviders","body":"Context: https:\/\/forum.defold.com\/t\/defold-immediately-crashes-upon-launching\/74053\/9\r\n\r\nThere is a file `.accessibility.properties` in the user's home directory. It makes the JVM try to load a class `com.sun.java.accessibility.AccessBridge`, which does not exist on the classpath, which in turn makes the editor crash on start.\r\n\r\nThis happens in `java.awt.Toolkit::loadAssistiveTechnologies` static method.\r\n\r\n**Task (REQUIRED):**\r\nFigure out a way so that the editor does not crash when such a file is present.\r\n\r\n**Expected outcome (REQUIRED):**\r\nThe editor does not crash on startup.\r\n","comments":[],"labels":["bug","task","editor"]},{"title":"Investigate if the editor could retain undo after loading external changes","body":"Maybe there is some way we could have \"Undo External Changes\" as an undo step instead?\n\nSpecific reload handling per resource type?","comments":[],"labels":["task","editor"]},{"title":"Revert changes to file","body":"**Is your feature request related to a problem? Please describe:**\r\nIf you want to undo all changes to a file, you have to perform the undo action until the 'changed' asterisk disappears from the tab. However, the undo system is global, so this affects other files. \r\n\r\n**Describe the solution you'd like:**\r\nA 'revert file' command in the tab header, asset browser and file menu.\r\n\r\n**Describe alternatives you've considered :**\r\nSaving the file, and then reverting it.\r\n\r\n**Additional context**\r\nIt would also be useful to (somehow) see modified but unsaved files in the Changed Files view.","comments":[],"labels":["feature request","editor"]},{"title":"gamepad connected not sent when the gamepad is already connected the engine is already running","body":"Bug description:\r\nthe message gamepad_connected is not send to on_input if a gamepad is already connected when launching the engine from the editor while another instance of the engine is already running.\r\n\r\nSteps to reproduce the behavior:\r\n1. create an empty project\r\n2. add a game object to the main collection\r\n3. add a script to the game object\r\n4. in the script init acquire the input focus, in the on_input message print \"gamepad connected\" when action_id == hash(gamepad_connected)\r\n5. in the input section of game project set \/builtins\/input\/all.input_binding in the field game binding\r\n6. connect a gamepad\r\n7. build and check that the message \"gamepad connected\" is printed in the console\r\n8. build again and check that the message \"gamepad connected\" is NOT printed in the console.\r\n\r\nExpected behavior.\r\nIn step 8 the message \"gamepad connected\" should be printed\r\n\r\nDefold version: 1.5.0\r\neditor SHA1: b32617a800e88bcf42d70520d07c277e48d2b38a\r\nengine SHA1: e0073d0f7156b733e97a53c46924355fbf60dc77\r\n\r\nPlatforms: macOS\r\n\r\nMinimal repro case project: attached as zip\r\n\r\nWorkaround: before step 8 above close the running instance of the engine before building again the project\r\n\r\n[gamepadTest.zip](https:\/\/github.com\/defold\/defold\/files\/12602278\/gamepadTest.zip)\r\n","comments":["This seems to be happening because we only get a gamepad connection event at start from GLFW since we only initialize the joystick callback the first time the engine is run and not when we receive a reboot message. We need to either trigger that manually somehow, or reset the joystick callbacks down below in GLFW. Not sure what we want to do here"],"labels":["bug","engine","input","macos"]},{"title":"HTML5: Using event.code instead of event.keyCode","body":"**Task (REQUIRED):**\r\nThere any many keyboard layouts in the world such as french keyboard layout (azerty), dvorak, colemak and many others. The problem is: all the people want to use WASD for manipulating game characters, but Defold's `event.keyCode` doesn't allow to get it.\r\nIt's not the best practice to convert only qwerty layout keycodes to GLFW keycodes as it does here:\r\nhttps:\/\/github.com\/defold\/defold\/blob\/bad89bfb7876c24b0dd3a60d1bc5c53cc01677b8\/engine\/glfw\/js\/library_glfw.js#L119\r\n\r\nInstead of this, as for HTML5 platform I suppose it would be better to use uniform layout values such as `event.code` does. There are two options here: \r\n1. Using `event.code` and passing this value to Defold engine so all layouts would work in the same way for controlling our characters\r\n2. Converting all the codes giving with the `event.code` to GLFW but ... what to do with the other target platforms - IDK \ud83d\ude00 But the web platform will work almost great \ud83d\ude00\r\nThe other problem here: when you need to type something using your keyboard in Defold app you should use `event.keyCode` but not `event.code`.\r\n\r\n**Expected outcome (REQUIRED):**\r\nSome changes to input processing system.\r\n\r\nWhat do you think, guys?","comments":["Thanks. We are in the process of updating glfw, and while the update itself will not solve this, we are reluctant to start this change until the upgrade is completed."],"labels":["task","input","html5"]},{"title":"Unsatisfied link error GLIBC_2.29","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\n\r\n### Actual behaviour\r\n\r\n### Steps to reproduce\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-08-29T08:57:01.796097<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>57b34efdf44a922acc6f21d285b207029b53927d<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>57b34efdf44a922acc6f21d285b207029b53927d<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.5.0<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"878818e1cd7042bda4ee7f04097de714\"'>878818e1cd7042bda4ee7f04097de714<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Mesa DRI Intel(R) Ivybridge Mobile <\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>3.0 Mesa 18.3.6<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Linux<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>4.19.0-25-amd64<\/td><\/tr>\r\n<table>","comments":["```\r\njava.util.concurrent.FutureTask.report.class java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: Unable to load library 'texc_shared':\r\n\/lib\/x86_64-linux-gnu\/libm.so.6: version `GLIBC_2.29' not found (required by \/tmp\/10177784657621623408\/x86_64-linux\/libtexc_shared.so)\r\n\/lib\/x86_64-linux-gnu\/libm.so.6: version `GLIBC_2.29' not found (required by \/tmp\/10177784657621623408\/x86_64-linux\/libtexc_shared.so)\r\nNative library (linux-x86-64\/libtexc_shared.so) not found in resource path (\/home\/evgrizli\/.local\/share\/Steam\/steamapps\/common\/Defold\/packages\/defold-57b34efdf44a922acc6f21d285b207029b53927d.jar)\r\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    at java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n    at clojure.core$deref_future.invokeStatic(core.clj:2300)\r\n    at clojure.core$future_call$reify.deref(core.clj:6974)\r\n    at clojure.core$deref.invokeStatic(core.clj:2320)\r\n    at clojure.core$deref.invoke(core.clj:2306)\r\n    at clojure.core$map$fn.invoke(core.clj:2755)\r\n    at clojure.lang.LazySeq.sval(LazySeq.java:42)\r\n    at clojure.lang.LazySeq.seq(LazySeq.java:58)\r\n    at clojure.lang.RT.seq(RT.java:531)\r\n    at clojure.core$seq__5387.invokeStatic(core.clj:137)\r\n    at clojure.core.protocols$seq_reduce.invokeStatic(protocols.clj:24)\r\n    at clojure.core.protocols$fn.invokeStatic(protocols.clj:75)\r\n    at clojure.core.protocols$fn.invoke(protocols.clj:75)\r\n    at clojure.core.protocols$fn$G__8068__8086.invoke(protocols.clj:13)\r\n    at clojure.core$reduce.invokeStatic(core.clj:6824)\r\n    at editor.pipeline$batched_pmap.invokeStatic(pipeline.clj:174)\r\n    at editor.pipeline$build_BANG_.invokeStatic(pipeline.clj:189)\r\n    at editor.build$build_project_BANG_.invokeStatic(build.clj:59)\r\n    at editor.app_view$build_project_BANG_.invokeStatic(app_view.clj:816)\r\n    at editor.app_view$async_build_BANG_$phase_3_build_project_BANG___61771$run_project_build_on_background_thread_BANG___61772.invoke(app_view.clj:1044)\r\n    at editor.app_view$async_build_BANG_$run_on_background_thread_BANG___61724$fn.invoke(app_view.clj:928)\r\n    at clojure.core$binding_conveyor_fn$fn.invoke(core.clj:2030)\r\n    at clojure.lang.AFn.call(AFn.java:18)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    at java.lang.Thread.run(Thread.java:833)\r\n```","It seems like your version of glibc is lower than 2.29? Could you please confirm this?"],"labels":["bug","editor","linux"]},{"title":"Update Emscripten to 3.1.45","body":"Updated emscripten to the latest of their stable releases (3.1.45). \r\n\r\nFixes #6259 \r\n\r\n## PR checklist\r\n\r\n* [ ] Code\r\n\t* [ ] Add engine and\/or editor unit tests.\r\n\t* [ ] New and changed code follows the overall code style of existing code\r\n\t* [ ] Add comments where needed\r\n* [ ] Documentation\r\n\t* [ ] Make sure that API documentation is updated in code comments\r\n\t* [ ] Make sure that manuals are updated (in github.com\/defold\/doc)\r\n* [ ] Prepare pull request and affected issue for automatic release notes generator\r\n\t* [ ] Pull request - Write a message that explains what this pull request does. What was the problem? How was it solved? What are the changes to APIs or the new APIs introduced? This message will be used in the generated release notes. Make sure it is well written and understandable for a user of Defold.\r\n\t* [ ] Pull request - Write a pull request title that in a sentence summarises what the pull request does. Do not include \"Issue-1234 ...\" in the title. This text will be used in the generated release notes.\r\n\t* [ ] Pull request - Link the pull request to the issue(s) it is closing. Use on of the [approved closing keywords](https:\/\/docs.github.com\/en\/issues\/tracking-your-work-with-issues\/linking-a-pull-request-to-an-issue).\r\n\t* [ ] Affected issue - Assign the issue to a project. Do not assign the pull request to a project if there is an issue which the pull request closes.\r\n\t* [ ] Affected issue - Assign the \"breaking change\" label to the issue if introducing a breaking change.\r\n\t* [ ] Affected issue - Assign the \"skip release notes\" is the issue should not be included in the generated release notes.\r\n","comments":[],"labels":["engine","extender","html5","skip release notes"]},{"title":"Spine example page looks bad on Windows","body":"The example looks jagged, suggesting it gets the wrong size or something.\r\nhttps:\/\/defold.com\/examples\/animation\/spine\/\r\n\r\nLooks good on macOS (Firefox):\r\n<img width=\"189\" alt=\"Screenshot 2023-09-13 at 09 47 20\" src=\"https:\/\/github.com\/defold\/defold\/assets\/1349334\/aa0855d5-6a1b-4a68-a8b7-8dee995c7b60\">\r\n\r\nBut poor on Windows (Edge) (blurriness may be to transferring image over chat):\r\nNotized the jagged lines, which are even more jarring when animating.\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/1349334\/8b9498bf-680d-4713-ad32-82691f0027cf)\r\n\r\n\r\n","comments":[],"labels":["bug","documentation","spine"]},{"title":"CollisionObject value is incorrect in profiler","body":"**Describe the bug (REQUIRED)**\r\nSometimes in profiler i can see that CollisionObject value is blink.\r\nI have no idea how to reproduce. Sometimes it blink but later stop blink.\r\n\r\nAlso new value is multiply of base value.\r\nwas 64 blink to 128.\r\nwas 64 blink to 1920(when move game window)\r\n\r\nI do not think that something wrong with my code. I create new collision objects only when create new enemy or tree. \r\nI think something wrong with profiler value. Is is not reset in some cases?\r\n\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/2655263\/986c16b6-1383-44ee-89aa-163e19ca035c\r\n\r\n![2023-09-09_17-26-53](https:\/\/github.com\/defold\/defold\/assets\/2655263\/6e5b610b-d372-4a43-a041-259a6e186bc0)\r\n![2023-09-09_17-27-06](https:\/\/github.com\/defold\/defold\/assets\/2655263\/21048cd3-59e0-4019-b375-23ef01ff3cba)\r\n\r\n\r\n\r\n**To Reproduce (REQUIRED)**\r\nI do not know\r\n\r\n**Expected behavior (REQUIRED)**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Defold version (REQUIRED):**\r\n  - 1.5.0\r\n\r\n\r\n\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows\r\n\r\n","comments":["It is likely the code takes a different path when you are moving the window.\r\nE:g. it suggests that the game is not paused during that time, but also not completing the frame.\r\n\r\nBut if your video is taken without moving the window, then I'd suspect the comp_physics.cpp code"],"labels":["bug","physics","profiler"]},{"title":"Add C++ LSP support","body":"Is would be nice if we could provide our users with C++ auto completion using an LSP server.\r\n\r\nWe also have our sdk headers available here for each release:\r\nhttp:\/\/d.defold.com\/archive\/dev\/d94975bb0498af97423d79584cea46d23d755a29\/engine\/defoldsdk_headers.zip","comments":[],"labels":["task","editor","lsp"]},{"title":"Migrate to GLFW3","body":"**Task (REQUIRED):**\r\nOur current GLFW version is over ten years old and is thus severely outdated. As a first step of refacturing this system, we should upgrade to the latest GLFW3 for desktop platforms and keep modifications out of it. In the long run we should remove building glfw altogether from the core engine and just store it as a package.\r\n\r\n**Expected outcome (REQUIRED):**\r\nIt's obvious isn't it!","comments":["Oh I just noticed that we don't use the GLFW3. Definitely waiting for upgrade, might take some time or idea to restructure the project though. Hope it gets added sooner."],"labels":["task","engine","glfw"]},{"title":"Undo and Save after closing a script that was edited causes error","body":"**Describe the bug (REQUIRED)**\r\nUndo and Save after closing a script that was edited causes error\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Edit script#1\r\n2. Edit script#2\r\n3. Save and close script#2\r\n4. Undo script#1\r\n5. Try to open script#2\r\n6. See error\r\n\r\n**Expected behavior (REQUIRED)**\r\nScript#2 should open\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.4.8\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows (editor)\r\n\r\n**Screenshots (OPTIONAL):**\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/60835390\/27669f64-c250-412f-a0c7-f7f278acc4e6)\r\n\r\n**Additional context (OPTIONAL):**\r\nProbably caused by global undo\r\n","comments":[],"labels":["bug","editor"]},{"title":"can't do require(\"module\").function1()","body":"**Describe the bug (REQUIRED)**\r\ncan't do `require(\"module\").function1()` , have to declare the require as a variable and then call the function through it, i.e. have to do \r\n```\r\nlocal m = require(\"module\")\r\nm.function1()\r\n```\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Create or pick a lua script module\r\n2. Attempt to require() it and call one of its functions directly on the require()\r\n3. See error\r\n\r\n**Expected behavior (REQUIRED)**\r\nThe function should be called\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.5.0\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows (Editor)\r\n - OS: Windows 10\r\n\r\n**Additional context (OPTIONAL):**\r\nSeems to also work if the module is already loaded i.e. \r\n```\r\nlocal m = require(\"module\")\r\nrequire(\"module\").function1()\r\n```","comments":["This is surprising. I thought this would work. We'll look into it.","@britzl hmm, I'll take a look into it later this week","Ok, I got it. It's in the editor. `bob.jar` is fine (when you bundle project)"],"labels":["bug","editor","lua"]},{"title":"java.lang.ClassCastException: class internal.graph.error_values.ErrorValue cannot be cast to class clojure.lang.IFn (internal.graph.error_values.ErrorValue and clojure.lang.IFn are in unnamed module of loader 'app')","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\n\r\n### Actual behaviour\r\n\r\n### Steps to reproduce\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-09-01T18:07:12.838425<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>7d70d50c3318fbb27e7bfda80aec37eb3752023d<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>57b34efdf44a922acc6f21d285b207029b53927d<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.5.0<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"58226044fd7445e6a884252f02d12c1b\"'>58226044fd7445e6a884252f02d12c1b<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>NVIDIA GeForce GTX 1660 SUPER\/PCIe\/SSE2<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 NVIDIA 528.02<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 11<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":["```\r\nclojure.core$comp$fn__5792.invoke.class java.lang.ClassCastException: class internal.graph.error_values.ErrorValue cannot be cast to class clojure.lang.IFn (internal.graph.error_values.ErrorValue and clojure.lang.IFn are in unnamed module of loader 'app')\r\n    at clojure.core$comp$fn.invoke(core.clj:2569)\r\n    at editor.gui$LayoutNode$property$nodes$setter$fn$iter__90329__90335$fn.invoke(gui.clj:1842)\r\n    at clojure.lang.LazySeq.sval(LazySeq.java:42)\r\n    at clojure.lang.LazySeq.seq(LazySeq.java:51)\r\n    at clojure.lang.RT.seq(RT.java:531)\r\n    at clojure.core$seq__5387.invokeStatic(core.clj:137)\r\n    at clojure.core$concat$cat__5480$fn.invoke(core.clj:734)\r\n    at clojure.lang.LazySeq.sval(LazySeq.java:42)\r\n    at clojure.lang.LazySeq.seq(LazySeq.java:58)\r\n    at clojure.lang.ChunkedCons.chunkedNext(ChunkedCons.java:59)\r\n    at clojure.lang.ChunkedCons.next(ChunkedCons.java:43)\r\n    at clojure.lang.RT.next(RT.java:709)\r\n    at clojure.core$next__5371.invokeStatic(core.clj:64)\r\n    at internal.transaction$apply_tx.invokeStatic(transaction.clj:811)\r\n    at internal.transaction$apply_tx.invoke(transaction.clj:804)\r\n    at internal.transaction$fn.invokeStatic(transaction.clj:374)\r\n    at internal.transaction$fn.invoke(transaction.clj:348)\r\n    at clojure.lang.MultiFn.invoke(MultiFn.java:234)\r\n    at internal.transaction$apply_tx$fn.invoke(transaction.clj:814)\r\n    at internal.transaction$apply_tx.invokeStatic(transaction.clj:812)\r\n    at internal.transaction$apply_tx.invoke(transaction.clj:804)\r\n    at internal.transaction$invoke_setter.invokeStatic(transaction.clj:570)\r\n    at internal.transaction$fn.invokeStatic(transaction.clj:623)\r\n    at internal.transaction$fn.invoke(transaction.clj:611)\r\n    at clojure.lang.MultiFn.invoke(MultiFn.java:234)\r\n    at internal.transaction$apply_tx$fn.invoke(transaction.clj:814)\r\n    at internal.transaction$apply_tx.invokeStatic(transaction.clj:812)\r\n    at internal.transaction$apply_tx.invoke(transaction.clj:804)\r\n    at internal.transaction$apply_tx.invokeStatic(transaction.clj:811)\r\n    at internal.transaction$apply_tx.invoke(transaction.clj:804)\r\n    at internal.transaction$apply_tx.invokeStatic(transaction.clj:811)\r\n    at internal.transaction$apply_tx.invoke(transaction.clj:804)\r\n    at internal.transaction$apply_tx.invokeStatic(transaction.clj:811)\r\n    at internal.transaction$transact_STAR_.invokeStatic(transaction.clj:895)\r\n    at dynamo.graph$transact.invokeStatic(graph.clj:164)\r\n    at editor.defold_project$load_nodes_BANG_.invokeStatic(defold_project.clj:204)\r\n    at editor.defold_project$perform_resource_change_plan.invokeStatic(defold_project.clj:555)\r\n    at editor.defold_project$handle_resource_changes.invokeStatic(defold_project.clj:660)\r\n    at editor.defold_project.ProjectResourceListener.handle_changes(defold_project.clj:849)\r\n    at editor.workspace$resource_sync_BANG_$fn.invoke(workspace.clj:741)\r\n    at editor.workspace$resource_sync_BANG_.invokeStatic(workspace.clj:731)\r\n    at editor.disk$start_reload_job_BANG_$fn$fn.invoke(disk.clj:89)\r\n    at clojure.lang.AFn.run(AFn.java:22)\r\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n    at java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\r\n    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n    at java.lang.Thread.run(Thread.java:833)\r\n```","It seems `(g\/node-value node-tree :node-ids evaluation-context)` in [gui.clj on line 1832](https:\/\/github.com\/defold\/defold\/blob\/5dbb1862d7fbd6096317d904651525cf8a938c0e\/editor\/src\/clj\/editor\/gui.clj#L1831) returns error value"],"labels":["editor"]},{"title":"Editing material \"normalize\" behaves oddly","body":"When editing the boolean \"Normalize\" property, it requires an extra click to gain focus, and it also switches between text format and a check box.\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/1349334\/62a63634-f154-47c0-9b28-35e133d37d43\r\n\r\n","comments":[],"labels":["bug","editor"]},{"title":"User cannot exit the editing mode of a property in the property view","body":"Platform: macOS Ventura\r\n\r\nExample:\r\nStart editing the Y position of a sprite or gui node.\r\nNotice that the user cannot press neither `Escape` nor `Enter` to exit focus.","comments":[],"labels":["bug","editor"]},{"title":"Cann't fetch library","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\n\r\n### Actual behaviour\r\n\r\n### Steps to reproduce\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-07-17T16:06:12.143105<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>7a26e44ba65cdefe580af2e199833478fc49472b<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>504de7800fa81847bfc2e26a21973899db9dd747<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.4.8<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"74761c5fde814776b40170f7dd1bf280\"'>74761c5fde814776b40170f7dd1bf280<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Apple M1<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>2.1 Metal - 76.3<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>x86_64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Mac OS X<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>12.2.1<\/td><\/tr>\r\n<table>","comments":["![telegram-cloud-photo-size-2-5438440530141892056-y](https:\/\/github.com\/defold\/defold\/assets\/2209596\/e649449d-1b68-4d82-baf7-9641b0bbdaff)\r\n","It's corrupted archive. Removing and fetching again - helps.\r\n@matgis @vlaaad maybe we can try to remove archive and download it again if we catch such an error (at least once)? or show more informative message (what extension it is and what user should do?)","related https:\/\/github.com\/defold\/defold\/issues\/3764"],"labels":["editor"]},{"title":"Auto-saves","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nWork with Defold editor is extremaly frustraiting if you using extra IDE (as VScode) and\/or commiting something on git.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\n1. Adding autosave same as in VScode, that saves all your change instantly.\r\n2. In addition to p.1. Could be cool to use system editor (or, perfectly, let user choose an editor) to handle hyperlinks in debug console.  \r\n\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nIve been thinking to make some script that will push Ctrl+S once a sec or on window select\/unselect :)\r\n\r\n**Additional context (OPTIONAL):**\r\nHere is 2 main \"fail scenario\":\r\n1. Write something in Defold editor, then switches to this file in VScode... VScode has overwrite all youve done in Defold editor.\r\n2. This is very strange to work in two IDE's with different save system. I regularly forget to push Ctrl+S  in Defold editor and commiting only part that was autosaved by VScode.","comments":["We are working on some very intricate changes to how we deal with save values in the editor (https:\/\/github.com\/defold\/defold\/issues\/7175). We need to wait for this feature to ship before we can add auto-save.\r\n\r\nThis means that up until then it is up to you as a developer to pay attention to what you are doing. If you make changes to a file in Defold (which does not auto-save), switch to VSCode (which auto-saves), make some changes to the same file and then switch back again (which I presume will trigger an auto-save in VSCode), then there is very little we can do to prevent data loss.\r\n\r\nThe only thing you can do to mitigate this to some extent is to uncheck the \"Load external changes on App Focus\" checkbox from Editor Preferences."],"labels":["feature request","editor"]},{"title":"Accurate architecture bundle folder names for macos targets.","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI\u2019m currently using Defold 1.4.8 and I\u2019ve noticed that if I bundle a macOS app the folder is always \u2018x86_64-macos\u2019 regardless if I choose to bundle a \u2018universal\u2019 or \u2018arm64\u2019 specific bundle in addition to the x86_64 bundle. This only becomes a problem if you want to bundle an arm version along with an x64 specific version as Defold prompts to overwrite the \u2018x86_64-macos\u2019 folder.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nChange the output folder names to (just suggestions):\r\n\u2019universal-macos\u2019 for x86_64 and arm64\r\n\u2019x86_64-macos\u2019 for x86_64\r\n\u2019arm64-macos\u2019 for arm64\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nOnly bundle universal apps to the x64_64-macos folder, or rename the bundle folder in between builds for different architectures.\r\n\r\n","comments":[],"labels":["feature request","editor","bob"]},{"title":"Reset template size cause error","body":"### Expected behaviour\r\nReset template over writes should set it to default\r\n\r\n### Actual behaviour\r\nerror message\r\n\r\n### Steps to reproduce\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-08-07T11:36:43.216595<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>34db77fa587e44fb60bc0da0192075054def3f72<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>504de7800fa81847bfc2e26a21973899db9dd747<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.4.8<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"890df9655a494aa6b5b8d2c72b42dac6\"'>890df9655a494aa6b5b8d2c72b42dac6<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>AMD Radeon RX 7900 XT<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 Compatibility Profile Context 23.4.2.230412<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":["![image](https:\/\/github.com\/defold\/defold\/assets\/5273682\/2eb6e6e8-ca7b-4920-af91-198cece7f5f0)\r\n\r\n\r\nAfter a restart the template says it has over rides (is blue) but there are no reset buttons","![image](https:\/\/github.com\/defold\/defold\/assets\/5273682\/e03cce6a-2eb6-4a22-975c-40231ee457a2)\r\n\r\nstandard values on the template","Still relevant.\r\n\r\n1. Create gui \"template\"\r\n2. Open \"template\" add a box\r\n3. Create gui \"test\"\r\n4. Open \"test\" add \"template\" as a template\r\n5. On the template box, \r\n    * Change to -> Size Mode: Manual\r\n    * Change to -> Size X: 300\r\n6. Click the reset arrow on the Size.\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2024-02-28T08:46:35.883246<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>fde3b9ca14f2629b143173ba41b580c6191317f4<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>fcec9500fd438e365d4e4f6cec24b99afb907247<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.6.4<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"cc862a34af354acfb016e5c53cce7af8\"'>cc862a34af354acfb016e5c53cce7af8<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>AMD Radeon RX 7900 XT<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 Compatibility Profile Context 23.9.1.230821<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","```\r\neditor.handler$invoke_fnk.invokeStatic.class clojure.lang.ExceptionInfo: handler ':hide-toggle-selected' in context ':workbench' failed at ':enabled?' with message 'Cannot invoke \"java.lang.Number.doubleValue()\" because \"x\" is null'\r\n    at editor.handler$invoke_fnk.invokeStatic(handler.clj:262)\r\n    at editor.handler$enabled_QMARK_.invokeStatic(handler.clj:296)\r\n    at editor.ui$refresh_menu_item_state.invokeStatic(ui.clj:1681)\r\n    at editor.ui$refresh_menu_item_state.invoke(ui.clj:1657)\r\n    at editor.ui$refresh_menu_item_state.invokeStatic(ui.clj:1663)\r\n    at editor.ui$refresh_menubar_state.invokeStatic(ui.clj:1694)\r\n    at editor.ui$refresh_menus_BANG_.invokeStatic(ui.clj:1844)\r\n    at editor.ui$refresh.invokeStatic(ui.clj:1865)\r\n    at editor.app_view$refresh_menus_and_toolbars_BANG_.invokeStatic(app_view.clj:1801)\r\n    at editor.app_view$make_app_view$fn.invoke(app_view.clj:1925)\r\n    at editor.ui$__GT_timer$fn$fn.invoke(ui.clj:1968)\r\n    at clojure.lang.AFn.run(AFn.java:22)\r\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n    at java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\r\n    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n    at java.lang.Thread.run(Thread.java:833)\r\nclojure.lang.RT.uncheckedDoubleCast.class java.lang.NullPointerException: Cannot invoke \"java.lang.Number.doubleValue()\" because \"x\" is null\r\n    at clojure.lang.RT.uncheckedDoubleCast(RT.java:1559)\r\n    at editor.slice9$vertex_data.invokeStatic(slice9.clj:220)\r\n    at editor.gui$fn.invokeStatic(gui.clj:1012)\r\n    at editor.gui$fn.invoke(gui.clj:1012)\r\n    at clojure.lang.AFn.applyToHelper(AFn.java:154)\r\n    at clojure.lang.AFn.applyTo(AFn.java:144)\r\n    at clojure.lang.AFunction$1.doInvoke(AFunction.java:31)\r\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\r\n    at clojure.lang.Var.invoke(Var.java:384)\r\n    at editor.gui$BoxNode$behavior$scene_renderable_user_data$fn.invoke(gui.clj:998)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$BoxNode$behavior$scene_renderable_user_data.invokeStatic(gui.clj:998)\r\n    at editor.gui$BoxNode$behavior$scene_renderable_user_data.invoke(gui.clj:998)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.OverrideNode.produce_value(node.clj:1710)\r\n    at editor.gui$BoxNode$behavior$scene_outline_renderable$fn.invoke(gui.clj:998)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$BoxNode$behavior$scene_outline_renderable.invokeStatic(gui.clj:998)\r\n    at editor.gui$BoxNode$behavior$scene_outline_renderable.invoke(gui.clj:998)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.OverrideNode.produce_value(node.clj:1710)\r\n    at editor.gui$BoxNode$behavior$scene$fn.invoke(gui.clj:998)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$BoxNode$behavior$scene.invokeStatic(gui.clj:998)\r\n    at editor.gui$BoxNode$behavior$scene.invoke(gui.clj:998)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.OverrideNode.produce_value(node.clj:1710)\r\n    at internal.node$pull_input_values$fn.invoke(node.clj:1208)\r\n    at clojure.core$mapv$fn.invoke(core.clj:6912)\r\n    at clojure.lang.PersistentVector.reduce(PersistentVector.java:343)\r\n    at clojure.core$reduce.invokeStatic(core.clj:6827)\r\n    at clojure.core$mapv.invokeStatic(core.clj:6903)\r\n    at internal.node$pull_input_values.invokeStatic(node.clj:1209)\r\n    at editor.gui$NodeTree$behavior$child_scenes$fn.invoke(gui.clj:1893)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$NodeTree$behavior$child_scenes.invokeStatic(gui.clj:1893)\r\n    at editor.gui$NodeTree$behavior$child_scenes.invoke(gui.clj:1893)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.OverrideNode.produce_value(node.clj:1710)\r\n    at editor.gui$NodeTree$behavior$scene$fn.invoke(gui.clj:1893)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$NodeTree$behavior$scene.invokeStatic(gui.clj:1893)\r\n    at editor.gui$NodeTree$behavior$scene.invoke(gui.clj:1893)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.OverrideNode.produce_value(node.clj:1710)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1192)\r\n    at editor.gui$GuiSceneNode$behavior$child_scenes$fn.invoke(gui.clj:2483)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$GuiSceneNode$behavior$child_scenes.invokeStatic(gui.clj:2483)\r\n    at editor.gui$GuiSceneNode$behavior$child_scenes.invoke(gui.clj:2483)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.OverrideNode.produce_value(node.clj:1710)\r\n    at editor.gui$GuiSceneNode$behavior$scene$fn.invoke(gui.clj:2483)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$GuiSceneNode$behavior$scene.invokeStatic(gui.clj:2483)\r\n    at editor.gui$GuiSceneNode$behavior$scene.invoke(gui.clj:2483)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.OverrideNode.produce_value(node.clj:1710)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1192)\r\n    at editor.gui$TemplateNode$behavior$scene_children$fn.invoke(gui.clj:1278)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$TemplateNode$behavior$scene_children.invokeStatic(gui.clj:1278)\r\n    at editor.gui$TemplateNode$behavior$scene_children.invoke(gui.clj:1278)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at editor.gui$TemplateNode$behavior$scene$fn.invoke(gui.clj:1278)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$TemplateNode$behavior$scene.invokeStatic(gui.clj:1278)\r\n    at editor.gui$TemplateNode$behavior$scene.invoke(gui.clj:1278)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_input_values$fn.invoke(node.clj:1208)\r\n    at clojure.core$mapv$fn.invoke(core.clj:6912)\r\n    at clojure.lang.PersistentVector.reduce(PersistentVector.java:343)\r\n    at clojure.core$reduce.invokeStatic(core.clj:6827)\r\n    at clojure.core$mapv.invokeStatic(core.clj:6903)\r\n    at internal.node$pull_input_values.invokeStatic(node.clj:1209)\r\n    at editor.gui$BoxNode$behavior$scene_children$fn.invoke(gui.clj:998)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$BoxNode$behavior$scene_children.invokeStatic(gui.clj:998)\r\n    at editor.gui$BoxNode$behavior$scene_children.invoke(gui.clj:998)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at editor.gui$BoxNode$behavior$scene$fn.invoke(gui.clj:998)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$BoxNode$behavior$scene.invokeStatic(gui.clj:998)\r\n    at editor.gui$BoxNode$behavior$scene.invoke(gui.clj:998)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_input_values$fn.invoke(node.clj:1208)\r\n    at clojure.core$mapv$fn.invoke(core.clj:6912)\r\n    at clojure.lang.PersistentVector.reduce(PersistentVector.java:343)\r\n    at clojure.core$reduce.invokeStatic(core.clj:6827)\r\n    at clojure.core$mapv.invokeStatic(core.clj:6903)\r\n    at internal.node$pull_input_values.invokeStatic(node.clj:1209)\r\n    at editor.gui$NodeTree$behavior$child_scenes$fn.invoke(gui.clj:1893)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$NodeTree$behavior$child_scenes.invokeStatic(gui.clj:1893)\r\n    at editor.gui$NodeTree$behavior$child_scenes.invoke(gui.clj:1893)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at editor.gui$NodeTree$behavior$scene$fn.invoke(gui.clj:1893)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$NodeTree$behavior$scene.invokeStatic(gui.clj:1893)\r\n    at editor.gui$NodeTree$behavior$scene.invoke(gui.clj:1893)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1192)\r\n    at editor.gui$GuiSceneNode$behavior$child_scenes$fn.invoke(gui.clj:2483)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$GuiSceneNode$behavior$child_scenes.invokeStatic(gui.clj:2483)\r\n    at editor.gui$GuiSceneNode$behavior$child_scenes.invoke(gui.clj:2483)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at editor.gui$GuiSceneNode$behavior$scene$fn.invoke(gui.clj:2483)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.gui$GuiSceneNode$behavior$scene.invokeStatic(gui.clj:2483)\r\n    at editor.gui$GuiSceneNode$behavior$scene.invoke(gui.clj:2483)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1192)\r\n    at editor.app_view$AppView$behavior$active_scene$fn.invoke(app_view.clj:330)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.app_view$AppView$behavior$active_scene.invokeStatic(app_view.clj:330)\r\n    at editor.app_view$AppView$behavior$active_scene.invoke(app_view.clj:330)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1192)\r\n    at editor.scene_visibility$SceneVisibilityNode$behavior$outline_name_paths_by_selection_state$fn.invoke(scene_visibility.clj:117)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.scene_visibility$SceneVisibilityNode$behavior$outline_name_paths_by_selection_state.invokeStatic(scene_visibility.clj:117)\r\n    at editor.scene_visibility$SceneVisibilityNode$behavior$outline_name_paths_by_selection_state.invoke(scene_visibility.clj:117)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at editor.scene_visibility$SceneVisibilityNode$behavior$selected_outline_name_paths$fn.invoke(scene_visibility.clj:117)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.scene_visibility$SceneVisibilityNode$behavior$selected_outline_name_paths.invokeStatic(scene_visibility.clj:117)\r\n    at editor.scene_visibility$SceneVisibilityNode$behavior$selected_outline_name_paths.invoke(scene_visibility.clj:117)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at editor.scene_visibility$SceneVisibilityNode$behavior$selected_hideable_outline_name_paths$fn.invoke(scene_visibility.clj:117)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.scene_visibility$SceneVisibilityNode$behavior$selected_hideable_outline_name_paths.invokeStatic(scene_visibility.clj:117)\r\n    at editor.scene_visibility$SceneVisibilityNode$behavior$selected_hideable_outline_name_paths.invoke(scene_visibility.clj:117)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$node_value.invokeStatic(node.clj:454)\r\n    at internal.system$node_value.invokeStatic(system.clj:354)\r\n    at dynamo.graph$do_node_value.invokeStatic(graph.clj:830)\r\n    at dynamo.graph$node_value.invokeStatic(graph.clj:833)\r\n    at editor.scene_visibility$fn$fnk56489_positional__56493.invoke(scene_visibility.clj:243)\r\n    at editor.scene_visibility$fn$fnk56489__56505$fn.invoke(scene_visibility.clj:243)\r\n    at editor.scene_visibility$fn$fnk56489__56505.invoke(scene_visibility.clj:243)\r\n    at clojure.lang.AFn.applyToHelper(AFn.java:154)\r\n    at clojure.lang.AFn.applyTo(AFn.java:144)\r\n    at clojure.lang.AFunction$1.doInvoke(AFunction.java:31)\r\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\r\n    at editor.handler$invoke_fnk.invokeStatic(handler.clj:256)\r\n    at editor.handler$enabled_QMARK_.invokeStatic(handler.clj:296)\r\n    at editor.ui$refresh_menu_item_state.invokeStatic(ui.clj:1681)\r\n    at editor.ui$refresh_menu_item_state.invoke(ui.clj:1657)\r\n    at editor.ui$refresh_menu_item_state.invokeStatic(ui.clj:1663)\r\n    at editor.ui$refresh_menubar_state.invokeStatic(ui.clj:1694)\r\n    at editor.ui$refresh_menus_BANG_.invokeStatic(ui.clj:1844)\r\n    at editor.ui$refresh.invokeStatic(ui.clj:1865)\r\n    at editor.app_view$refresh_menus_and_toolbars_BANG_.invokeStatic(app_view.clj:1801)\r\n    at editor.app_view$make_app_view$fn.invoke(app_view.clj:1925)\r\n    at editor.ui$__GT_timer$fn$fn.invoke(ui.clj:1968)\r\n    at clojure.lang.AFn.run(AFn.java:22)\r\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n    at java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\r\n    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n    at java.lang.Thread.run(Thread.java:833)\r\n```"],"labels":["bug","editor"]},{"title":"Fontrenderer limit in game.project","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI get warning\r\n```\r\nFontrenderer: Render object count reached limit (128)\r\n```\r\nI use gui for hp bars.\r\n\r\nWith layers or depth buffer i have visual artifacts.\r\nSo  i can't use then and I manualy sort hp bars by z position. \r\n\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nFontrenderer limit parameter in game.project file\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nIt is not blocking for me now, but in future i can have more text in game.\r\n\r\n\r\n**Additional context (OPTIONAL):**\r\n![2023-08-26_00-42-18](https:\/\/github.com\/defold\/defold\/assets\/2655263\/1727dbaa-0e63-4daa-b84c-3f7ed119c56d)\r\n![2023-08-26_00-42-43](https:\/\/github.com\/defold\/defold\/assets\/2655263\/4c13b139-7cea-44ec-9a5c-0d76e67f9c0a)\r\n\r\n","comments":[],"labels":["feature request","good first issue?"]},{"title":"Play multiple model animations in same time","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\n\r\nI have 2 animations for 3 model.\r\n-player run\r\n-player shoot.\r\nI want to shoot while player is moving. So i need to mix 2 different animations in same time.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nSomething like layer animations in unity or tracks in spine\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nNo alternatives. I can play only 1 animation in same time.  \r\nSo in current game i can shoot only while player is not moving.\r\n","comments":["Suggestions from poki. This is not blocking but i agree that it can make game more interesting.\r\n![2023-09-13_12-37-58](https:\/\/github.com\/defold\/defold\/assets\/2655263\/45df7f9d-41c1-4b97-8b37-afb3dfd45423)\r\n\r\n","highly wanted"],"labels":["feature request","engine","model","animation"]},{"title":"get actual world position for game object","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\ngo.get_world_position return the world position calculated at the end of the previous frame. \r\n**I need to get actual world position.**\r\n\r\nIn game i have a player with items in hand. When player move i change scale and rotation for player to make movement animation.\r\nItems in hands need follow player.(i can't set_parent because i need this items to be independent of player)\r\n\r\nSo when i move with big speed you can see lag and difference of position.\r\n\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/2655263\/37b1f26e-772c-4d14-ab44-3b25c2bb06a1\r\n\r\n\r\n\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\n```lua\r\n---@param recalculate bool recalculate world_position of game object\r\nfunction go.get_world_position(id, recalculate) end\r\n```\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nCalculate this position manually. Which is not very easy given nesting, rotation and scale change.\r\n","comments":["collection hierarchy\r\n![2023-08-21_11-58-48](https:\/\/github.com\/defold\/defold\/assets\/2655263\/8808ae57-1aba-4d13-91fd-b3accab8a27d)\r\n","related: https:\/\/github.com\/defold\/defold\/issues\/7522"],"labels":["feature request"]},{"title":"font metrics wrong for monospace font.","body":"**Describe the bug (REQUIRED)**\r\nI try to make timer for my game. I try monospace font, but it possition is jittering\r\nhttps:\/\/github.com\/defold\/defold\/assets\/2655263\/dd34fd9a-8a5e-4c25-8b57-cb4df677796c\r\n\r\nI try to make small repro case. Label with same number of symbols in monospace font have different width.\r\n![2023-08-19_13-31-32](https:\/\/github.com\/defold\/defold\/assets\/2655263\/0011a5f2-a44a-4ff1-bedd-ea0990d16d92)\r\n\r\n\r\n1-2 labels is center\r\n3-4 labels is west\r\n\r\n```\r\nDEBUG:SCRIPT: time:00:00 width:188\r\nDEBUG:SCRIPT: time:11:11 width:179\r\n```\r\n\r\nLast symbol right border not added to width?\r\n\r\n\r\n**To Reproduce (REQUIRED)**\r\nLook at repro case.\r\n\r\n**Expected behavior (REQUIRED)**\r\nWidth should be same\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.5.0\r\n\r\n**Platforms (REQUIRED):**\r\n  - Windows\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\n[FontWidth.zip](https:\/\/github.com\/defold\/defold\/files\/12385606\/FontWidth.zip)\r\n\r\n\r\n","comments":[],"labels":["bug","engine","label","font"]},{"title":"Improve Outline section in editor","body":"In the Outline we cant move GO, Animation Group and other, to create a hierarchy for easier navigation and easier development\r\n\r\nWhat i want:\r\n- move GO, Animation Group and other in the Outline by using hot keys. Like a moving gui nodes (alt + up, alt + down)\r\n\r\nand\/or\r\n- Alphabetical sorting in the Outline, which can be disabled\r\n- Finding GO, Animation Group by its name. Something like \"Ctrl+F\"","comments":[],"labels":["feature request","editor"]},{"title":"Contain the splash screen for html5","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nTo improve the builtins by having the default splash page be contained in the viewport or have a toggle in the html5 game project settings to enable it.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\n\r\nAdd the line background-size: contain; to the dark and light them css to contain the splash image applied in the game project settings as described here.\r\n\r\nhttps:\/\/forum.defold.com\/t\/solved-html5-splash-screen-not-sizing-right\/69859\/2\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nA clear and concise description of any alternative solutions or features you've considered.\r\n\r\nan alternative to that is to have a recommended image size in the documentation that would fit all devices viewport with and without fullscreen enabled.  \r\n\r\n\r\n\r\n**Additional context (OPTIONAL):**\r\nAdd any other context or screenshots about the feature request here.\r\n","comments":["Great suggestion. Perhaps you could prepare a pull request for this change? The files are located here: https:\/\/github.com\/defold\/defold\/tree\/dev\/engine\/engine\/content\/builtins\/manifests\/web\r\n\r\nAlso, should it also be set to not repeat maybe?\r\n\r\n```css\r\nbackground-size: contain;\r\nbackground-repeat: no-repeat;\r\n```\r\n\r\nhttps:\/\/developer.mozilla.org\/en-US\/docs\/Web\/CSS\/background-size"],"labels":["feature request","html5"]},{"title":"Need render.FORMAT_DEPTH32F for better depth buffers","body":"A render.FORMAT_DEPTH32F feature would enable better accuracy for depth. \r\n\r\nThis is needed for 3D games to reduce glitches when rendering models.\r\n\r\nhttps:\/\/github.com\/defold\/defold\/pull\/6457\/files\r\n\r\nIn this render.FORMAT_RGBA32F etc was added but not render.FORMAT_DEPTH32F","comments":["We need to finish #7681 first, there's a bit more work than just adding a format to the render scripts."],"labels":["feature request","engine","render"]},{"title":"SetGridShapHull: specified hull index is out of bounds.","body":"**Describe the bug (REQUIRED)**\r\n\r\nProcedurally generating a tilemap fails to create the corresponding collider.\r\nSpecifically, for a 20x20 tilemap the following error appears on the console 372 times:\r\n\r\n```\r\nERROR:GAMESYS: SetGridShapHull: specified hull index is out of bounds.\r\n```\r\n\r\nThe game then launches normally, but the collider is non-existent.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Create an empty tilemap.\r\n2. Place one tile at position `(1, 1)` and another at position `(20, 20)`\r\n  * This is done to allocate the size of the map.\r\n3. Attach a static collider on the map object, with the abovementioned tilemap for a shape.\r\n4. Generate the map in a script during `init()` (`tilemap.set_tile` etc..)\r\n5. Start game.\r\n\r\n**Expected behavior (REQUIRED)**\r\nI expected to a have collider on the tilemap.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.4.8\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Linux\r\n - OS: Linux","comments":[],"labels":["bug","engine","physics","tilemap"]},{"title":"Allow ArchiveBuilder plugin to specify encrypted file filter ","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nCurrently [ArchiveBuilder](https:\/\/github.com\/defold\/defold\/blob\/22756a3d7ee3817fc779f0e2c73811e492d4b453\/com.dynamo.cr\/com.dynamo.cr.bob\/src\/com\/dynamo\/bob\/archive\/ArchiveBuilder.java#L407-L410) only encrypts lua files. It would be nice to allow plugins such as [extension-resource-encryption](https:\/\/github.com\/defold\/extension-resource-encryption) to change this filter (I am guessing there's also a decryption filter)\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nA function to change the encryption file list filter, similar to `dmResource::RegisterResourceDecryptionFunction`\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nNone\r\n\r\n**Additional context (OPTIONAL):**\r\nNot sure how much this would slow down game loading\r\n","comments":["What are the filetypes you would like to encrypt and why?\r\n\r\nIf we are to add support for this, then I think a good solution would be to add a new command line option to bob to specify which file extensions to encrypt:\r\n\r\n```\r\njava -jar bob.jar --encrypt-filetypes=goc,spinejson,spinemodel ...\r\n```\r\n\r\n\r\nNote: The hardcoded encryption of file extensions you linked in ArchiveBuilder is only used for testing purposes. The actual place where the encryption flag is set is in LuaBuilder (when the `use-uncompressed-lua-source` flag is NOT set).","I was considering encrypting asset files such as textures, models, sounds, etc"],"labels":["feature request","bob","pipeline"]},{"title":"Tilesource editor \"collision groups\" text colour should correspond with the tile-selection colours","body":"When adding collision groups in a tilesource edtior and selecting tiles to be part of that collision group, the text in in the outline pane should correspond with the selection colour of the tiles that were clicked. \r\n\r\nI also posted a message on the forum, and I was told I could turn my question into a feature request.\r\nhttps:\/\/forum.defold.com\/t\/tilesource-editor-not-showing-colours-of-collisiongroups\/73724\/3\r\n\r\nGrtz,\r\ngert","comments":[],"labels":["feature request","editor","physics"]},{"title":"VRM model support","body":"VRM is an extension of GLB format. It is commonly being used in projects where you want to be able to dynamically import avatars from an external source into your project. The VRM models use a specific rig so that virtual avatar movement is always consistent.\r\n\r\nhttps:\/\/github.com\/saturday06\/VRM-Addon-for-Blender\r\n\r\nhttps:\/\/vrm.dev\/en\/gltf\/glb_export.html\r\n\r\nhttps:\/\/github.com\/vrm-c\/vrm-specification\/blob\/master\/specification\/0.0\/README.md\r\n\r\nhttps:\/\/github.com\/vrm-c\/vrm-specification\/tree\/master\/specification\/0.0#file-extension\r\n\r\nIf Defold could support VRM format and allow dynamic loading of these kinds of model easily it would open up many opportunities for developing virtual chat \/ virtual world sorts of projects.\r\n\r\n@Jhonnyg","comments":["I've never heard about this before - is it a popular thing? If you want to dynamically load a .gltf \/ .vrm file into meshes or buffers or something like that It's probably most suitable in an extension since we generally don't have any runtime decoders for any file formats. Our pipeline handles the conversion of .gltf files into our own formats, so you'd need something similar in runtime if that's what you are after \ud83e\udd14 ","Would it be enough to preprocess the .vrm files offline as an intermediate step, or is the dynamic loading of the .glb files + vrm metadata the jist of the feature request? How is the .vrm format typically used in games? I'm trying to wrap my head around what needs to be done from the engine POV to support something like this, so any information possible on how you would use it would be great \ud83d\udc4d ","VRM is just a GLB with extra data so if you made a GLB loader it would still be able to load the VRM and just ignore the extra data. There are two major versions of VRM that people seem to support 0.1 and 1.0 \r\n\r\nThe main use case initially could probably ignore most of the extra VRM data, but the extra VRM data still needs to be accessible. The main use case will be importing the models and using them as humanoid avatars in a 3D space.\r\n\r\nYou can see in the spec there are features like firstPersonBone to say to turn off the rendering of the head when in first person view of the model. Very basic features may be very easy the main work may just doing a GLB loader.","There's more that needs to be supported too though. Like actually using the textures inside of a GLB\/using the animations inside.","Using the textures isn\u2019t that big of a deal right? We can already create dynamic textures so if you have an extension to parse that information from a glb file you can create resources from them via buffer objects. The animation data on the other hand needs to be processed"],"labels":["feature request","model","3d"]},{"title":"Defold no longer compatible with Ubuntu Bionic ","body":"\r\n### Expected behaviour\r\nEditing and building projects... \r\n\r\n### Actual behaviour\r\n\r\nerror when opening a collection window, and when building project : \r\n\r\neditor complaining about glibc_2.29 not found and TexcLibrary Error\r\n\r\n### Steps to reproduce\r\nStart Editor on a fresh ubuntu bionic\r\nopen a project\r\nclick on a collection, or try to build\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-07-17T16:04:16.008842<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>7a26e44ba65cdefe580af2e199833478fc49472b<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>504de7800fa81847bfc2e26a21973899db9dd747<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.4.8<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"2a75310bb97e4bc6a6ee9b4f9d7575b7\"'>2a75310bb97e4bc6a6ee9b4f9d7575b7<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Mesa DRI Intel(R) UHD Graphics 620 (KBL GT2)<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>3.0 Mesa 20.0.8<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>17.0.5+8<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Linux<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>5.4.0-150-generic<\/td><\/tr>\r\n<table>","comments":[],"labels":["bug","editor","linux"]},{"title":"Program window cannot maximize after start ","body":"![screenshoot](https:\/\/github.com\/defold\/defold\/assets\/15115920\/c6ee9d42-f900-4504-9687-da25ce2061b5)\r\n\r\n**DE**: `LXDE`\r\n**OS**: `Archlinux`\r\n**version**: `aur\/defold 1.4.8-1 [installed]`\r\n**makepkg.conf:**\r\n```\r\nCFLAGS=\"-march=x86-64 -mtune=k8-sse3 -O3 -pipe -fno-plt -fexceptions \\\r\n        -Wp,-D_FORTIFY_SOURCE=2 -Wformat -Werror=format-security \\\r\n        -fstack-clash-protection -fcf-protection\"\r\nCXXFLAGS=\"$CFLAGS -Wp,-D_GLIBCXX_ASSERTIONS\"\r\nLDFLAGS=\"-Wl,-O1,--sort-common,--as-needed,-z,relro,-z,now\"\r\nLTOFLAGS=\"-flto=auto\"\r\n```\r\n[buildlog.txt](https:\/\/github.com\/defold\/defold\/files\/12222589\/buildlog.txt)\r\n\r\n","comments":["```\r\nGraphics:\r\n  Device-1: AMD Turks PRO [Radeon HD 7570] driver: radeon v: kernel\r\n  Display: x11 server: X.org v: 1.21.1.8 driver: X: loaded: radeon\r\n    unloaded: fbdev,modesetting dri: r600 gpu: radeon resolution: 1680x1050~60Hz\r\n  API: OpenGL v: 4.5 Mesa 23.1.4 renderer: AMD TURKS (DRM 2.50.0 \/\r\n    6.4.6-archlinux1-1 LLVM 15.0.7)\r\n```\r\n```\r\nNumber of platforms                               2\r\n  Platform Name                                   Clover\r\n  Platform Vendor                                 Mesa\r\n  Platform Version                                OpenCL 1.1 Mesa 23.1.4\r\n  Platform Profile                                FULL_PROFILE\r\n  Platform Extensions                             cl_khr_icd\r\n  Platform Extensions function suffix             MESA\r\n\r\n  Platform Name                                   rusticl\r\n  Platform Vendor                                 Mesa\/X.org\r\n  Platform Version                                OpenCL 3.0 \r\n  Platform Profile                                FULL_PROFILE\r\n  Platform Extensions                             cl_khr_icd cl_khr_il_program\r\n  Platform Extensions with Version                cl_khr_icd                                                       0x400000 (1.0.0)\r\n                                                  cl_khr_il_program                                                0x400000 (1.0.0)\r\n  Platform Numeric Version                        0xc00000 (3.0.0)\r\n  Platform Extensions function suffix             MESA\r\n  Platform Host timer resolution                  0ns\r\n\r\n  Platform Name                                   Clover\r\nNumber of devices                                 1\r\n  Device Name                                     AMD TURKS (DRM 2.50.0 \/ 6.4.6-archlinux1-1, LLVM 15.0.7)\r\n  Device Vendor                                   AMD\r\n  Device Vendor ID                                0x1002\r\n  Device Version                                  OpenCL 1.1 Mesa 23.1.4\r\n  Device Numeric Version                          0x401000 (1.1.0)\r\n  Driver Version                                  23.1.4\r\n  Device OpenCL C Version                         OpenCL C 1.1 \r\n  Device Type                                     GPU\r\n  Device Profile                                  FULL_PROFILE\r\n  Device Available                                Yes\r\n  Compiler Available                              Yes\r\n  Max compute units                               6\r\n  Max clock frequency                             650MHz\r\n  Max work item dimensions                        3\r\n  Max work item sizes                             256x256x256\r\n  Max work group size                             256\r\n  Preferred work group size multiple (kernel)     64\r\n  Preferred \/ native vector sizes                 \r\n    char                                                16 \/ 16      \r\n    short                                                8 \/ 8       \r\n    int                                                  4 \/ 4       \r\n    long                                                 2 \/ 2       \r\n    half                                                 0 \/ 0        (n\/a)\r\n    float                                                4 \/ 4       \r\n    double                                               0 \/ 0        (n\/a)\r\n  Half-precision Floating-point support           (n\/a)\r\n  Single-precision Floating-point support         (core)\r\n    Denormals                                     No\r\n    Infinity and NANs                             Yes\r\n    Round to nearest                              Yes\r\n    Round to zero                                 No\r\n    Round to infinity                             No\r\n    IEEE754-2008 fused multiply-add               No\r\n    Support is emulated in software               No\r\n    Correctly-rounded divide and sqrt operations  No\r\n  Double-precision Floating-point support         (n\/a)\r\n  Address bits                                    32, Little-Endian\r\n  Global memory size                              1073741824 (1024MiB)\r\n  Error Correction support                        No\r\n  Max memory allocation                           268435456 (256MiB)\r\n  Unified memory for Host and Device              No\r\n  Minimum alignment for any data type             128 bytes\r\n  Alignment of base address                       32768 bits (4096 bytes)\r\n  Global Memory cache type                        None\r\n  Image support                                   No\r\n  Local memory type                               Local\r\n  Local memory size                               32768 (32KiB)\r\n  Max number of constant args                     15\r\n  Max constant buffer size                        268435456 (256MiB)\r\n  Max size of kernel argument                     1024\r\n  Queue properties                                \r\n    Out-of-order execution                        No\r\n    Profiling                                     Yes\r\n  Profiling timer resolution                      0ns\r\n  Execution capabilities                          \r\n    Run OpenCL kernels                            Yes\r\n    Run native kernels                            No\r\n    ILs with version                              SPIR-V                                                           0x400000 (1.0.0)\r\n  Built-in kernels with version                   (n\/a)\r\n  Device Extensions                               cl_khr_byte_addressable_store cl_khr_global_int32_base_atomics cl_khr_global_int32_extended_atomics cl_khr_local_int32_base_atomics cl_khr_local_int32_extended_atomics cl_khr_extended_versioning\r\n  Device Extensions with Version                  cl_khr_byte_addressable_store                                    0x400000 (1.0.0)\r\n                                                  cl_khr_global_int32_base_atomics                                 0x400000 (1.0.0)\r\n                                                  cl_khr_global_int32_extended_atomics                             0x400000 (1.0.0)\r\n                                                  cl_khr_local_int32_base_atomics                                  0x400000 (1.0.0)\r\n                                                  cl_khr_local_int32_extended_atomics                              0x400000 (1.0.0)\r\n                                                  cl_khr_extended_versioning                                       0x400000 (1.0.0)\r\n\r\n  Platform Name                                   rusticl\r\nNumber of devices                                 0\r\n\r\nNULL platform behavior\r\n  clGetPlatformInfo(NULL, CL_PLATFORM_NAME, ...)  Clover\r\n  clGetDeviceIDs(NULL, CL_DEVICE_TYPE_ALL, ...)   Success [MESA]\r\n  clCreateContext(NULL, ...) [default]            Success [MESA]\r\n  clCreateContext(NULL, ...) [other]              \r\n  clCreateContextFromType(NULL, CL_DEVICE_TYPE_DEFAULT)  Success (1)\r\n    Platform Name                                 Clover\r\n    Device Name                                   AMD TURKS (DRM 2.50.0 \/ 6.4.6-archlinux1-1, LLVM 15.0.7)\r\n  clCreateContextFromType(NULL, CL_DEVICE_TYPE_CPU)  No devices found in platform\r\n  clCreateContextFromType(NULL, CL_DEVICE_TYPE_GPU)  Success (1)\r\n    Platform Name                                 Clover\r\n    Device Name                                   AMD TURKS (DRM 2.50.0 \/ 6.4.6-archlinux1-1, LLVM 15.0.7)\r\n  clCreateContextFromType(NULL, CL_DEVICE_TYPE_ACCELERATOR)  No devices found in platform\r\n  clCreateContextFromType(NULL, CL_DEVICE_TYPE_CUSTOM)  No devices found in platform\r\n  clCreateContextFromType(NULL, CL_DEVICE_TYPE_ALL)  Success (1)\r\n    Platform Name                                 Clover\r\n    Device Name                                   AMD TURKS (DRM 2.50.0 \/ 6.4.6-archlinux1-1, LLVM 15.0.7)\r\n\r\nICD loader properties\r\n  ICD loader Name                                 OpenCL ICD Loader\r\n  ICD loader Vendor                               OCL Icd free software\r\n  ICD loader Version                              2.3.2\r\n  ICD loader Profile                              OpenCL 3.0\r\n```","Hmm, on Ubuntu the welcome screen shows without issues:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/732554\/dfaeac6d-0df3-40a0-bd1c-cb95d5a1a45a)\r\n","And the main editor window can be maximized:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/732554\/1b98ac0a-ccce-4117-849e-8292b6a77079)\r\n","Also, have you tried [downloading the editor from the site](https:\/\/defold.com\/download\/) and launching that?","so, I do that but a have the same issue and maximize don't work, maybe need some specific `java version`?\r\n`java --version`\r\n```\r\nopenjdk 20.0.2 2023-07-18\r\nOpenJDK Runtime Environment (build 20.0.2+9)\r\nOpenJDK 64-Bit Server VM (build 20.0.2+9, mixed mode, sharing)\r\n```","Downloading editor from site giving the same issue"],"labels":["bug","editor","linux"]},{"title":"Make it possible to use Menu key in editor","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nYou can't use a Menu key in editor (Assets or Outline pane). It is useful to decrease reliance on mouse.\r\nClarification: Menu key is a physical key (or a shortcut) that brings up a context menu, an alternative to right-clicking.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nPressing Menu key with any item in Assets or Outline pane selected will bring up the context menu (the same one that appears when you right-click).\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nNone that doesn't involve a mouse.\r\n\r\n**Additional context (OPTIONAL):**\r\nWill provide any clarifications if needed.\r\n","comments":[],"labels":["feature request","editor"]},{"title":"Don't autocomplete when writing comments","body":"![image](https:\/\/github.com\/defold\/defold\/assets\/42767280\/30fd71c2-25d2-48df-bda3-137247954252)\r\n\r\nIn the picture above you can see that it's trying to autocomplete my text when I'm inserting a comment.\r\n\r\nIt's annoying if I want to type the word then press enter because it will with change the text if it matches a key word.\r\n\r\nCan this be removed for comments or at least an option to stop it?","comments":[],"labels":["feature request","editor","text-editor"]},{"title":"Sound: get\/set playback timeline position","body":"I would like to be able to get and set the timeline positions of sounds in Defold.\r\n\r\nUse case:\r\nWe have three intensity variations of a music track. At certain points in the track, we check if we want to switch to another intensity level. The variations are **not** mapped 1:1 in terms of duration and position, so for example if we're at 00:12 of one track we might want to switch to 00:23 for the other.\r\n\r\nFor get, I would expect something like:\r\n```\r\ngo.get(\"#sound\", \"timeline_position\")\r\n```\r\n\r\nYou could do a workaround for the get side by tracking time elapsed since you started the track. I've tried this before, but do not find it to be a reliable solution. I can not think of a workaround for the set side.\r\n\r\nFor set, I would expect something like:\r\n\r\n```\r\ngo.set(\"#sound\", \"timeline_position\", 23.7)\r\n```\r\nHowever, for my use case it would also be acceptable if the timeline position is set on play (similar to the [offset parameter in sprite.play_flipbook](https:\/\/defold.com\/ref\/stable\/sprite\/#sprite.play_flipbook:url-id-[complete_function]-[play_properties])).\r\n\r\nI've looked around for similar functions elsewhere: FMOD ([get](https:\/\/documentation.help\/FMOD-Studio-API\/FMOD_Channel_GetPosition.html) \/ [set](https:\/\/documentation.help\/FMOD-Studio-API\/FMOD_Channel_SetPosition.html)), Unity ([both](https:\/\/docs.unity3d.com\/ScriptReference\/AudioSource-time.html)), Godot (seemingly only [get](https:\/\/docs.godotengine.org\/en\/3.3\/classes\/class_audiostreamplayer.html#class-audiostreamplayer-method-get-playback-position))","comments":["Are you talking about the next \"start\" position, or the position for an active voice? (Remember you can play a sound multiple time, and each will spawn a voice)\r\n\r\n","I'm not intimately familiar with the sound API, but it doesn't seem like we ever really interact with specific voices? E.g. you can only stop all voices at the same time, not a specific one.\r\n\r\nI think setting the timeline position of the next voice (e.g. doing it on play, like the sprite offset parameter) would be fine for my use case I think. I wouldn't be playing multiple voices of the same sound anyway when we're talking about music tracks.","I think it makes sense to have `start_time` or similarly named argument added to the play properties:\r\n\r\n```lua\r\nsound.play(\"#mysound\", { start_time = 0.5 })\r\n```\r\n\r\nChanging `timeline_position` or similar on the sound component using go.set() would set it for future calls to sound.play(), not for already playing voices. Not sure how useful that would be?","start_time as an argument to the play properties sounds perfect to me. I can't imagine when it would be useful to set it for future calls (not to say there isn't a use case for it, just I don't see one).","Agree, have the same issue\r\n\r\nI have a different parts of music which should be player in different game moments and for easier management and music creation I want to keep one music file\r\n\r\nIt would be cool if it will able to set start time on sound.play or while playing sound"],"labels":["feature request","engine","sound"]},{"title":"Debug -> Open Web Profiler silently fails in some Linux environments","body":"**Describe the bug (REQUIRED)**\r\nSelecting Debug -> Open Web Profiler does nothing. Tried while running from Project -> Build and Debug -> Start\/Attach both with same results.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Start project with Project -> Build.\r\n2. Click Debug -> Open Web Profiler.\r\n3. Wait for nothing to happen?\r\n\r\n**Expected behavior (REQUIRED)**\r\nExpecting the web profiler to open in the default web browser.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.4.8\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Linux\r\n - OS: Linux (Kubuntu 23.04)\r\n - Device: Desktop (Default browser set to Firefox)\r\n\r\n**Workaround (OPTIONAL):**\r\nThe in-app overlay profiler works fine. May also be able to manually enter the URL into the web browser but not real sure what that URL would be.\r\n\r\n**Additional context (OPTIONAL):**\r\nThis is likely specific to local environment conditions. It also generates no related logs. Opening web links from applications on Linux distros in general are hit or miss. After discussing with @britzl on Discord, it was suggested to make this issue: \"We should try to work around it and at the least let the user know about it.\"\r\n\r\nA potentially easy, non-fix, but informative option may be to print to console or pop up something that has the URL the editor just tried to open with the 'Open Web Profiler' click. This way even if nothing happens the user could copy\/paste that into their browser (assuming it works that way.)\r\n","comments":["Could it be that the OS for some reason doesn't indicate that the `java.awt.Desktop.Action.BROWSE` is supported. Perhaps there is not default browser set?\r\n\r\nhttps:\/\/github.com\/defold\/defold\/blob\/dev\/editor\/src\/clj\/editor\/ui.clj#L2142-L2148","I no longer have a Linux PC to check this out with but I do know other apps that would open a browser link, for the most part, worked fine at the time. It was admittedly a little hit or miss (like the Additional Context says.) There was a default set though for sure.","> I no longer have a Linux PC to check this out with but I do know other apps that would open a browser link, for the most part, worked fine at the time. It was admittedly a little hit or miss (like the Additional Context says.) There was a default set though for sure.\r\n\r\nI have the same issue and figured out workaround: https:\/\/forum.defold.com\/t\/solved-can-not-open-web-profiler\/76212"],"labels":["bug","editor","linux","profiler"]},{"title":"The mouse key continues to remain pressed when the focus is lost HTML5","body":"If you connect the dots in my game and intentionally switch focus, for example through a keyboard shortcut on the windows keyboard (alt + tab), and then release the mouse button, then when you return to the game, the mouse button will continue to remain pressed.\r\n\r\nDefold game engine version 1.4.7.\r\nYandex browser version 23.7.0.2534 (64-bit).\r\nPlatform: HTML5, OS: Windows 10, Device: Laptop.\r\n\r\nAttached a snippet of the game code:\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/133861101\/7212f3b1-2d51-4ddf-a239-1089e89aea0a)\r\n\r\nUploaded the build to the hosting in order to be able to reproduce the bug: https:\/\/buildsettings.ru\/vkgames\/connect-bug\/\r\n\r\nLink to Yandex Games: https:\/\/yandex.ru\/games\/app\/213758?draft=true&lang=ru\r\n\r\nExamples of bug playback (the first video in the Yandex Browser, the second video in Google Chrome):\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/133861101\/202a92e9-a02b-47a9-b759-d3eae297d55e\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/133861101\/37b05a69-d186-4cb4-82db-ee545aebc962\r\n","comments":["I think the problem is that we do not get any events when the focus is lost so we can't know if the mouse button is pressed or not when focus is regained. We could perhaps always clear input when focus is lost?","@britzl maybe we should do the same we did for https:\/\/github.com\/defold\/defold\/issues\/3186 ?","> @britzl maybe we should do the same we did for #3186 ?\r\n\r\nYes, I think we should!","I'm testing on macOS and it seems like I'm getting a mouse button release event in Safari, Firefox and Chrome. Perhaps this is a problem only on Windows?","> I'm testing on macOS and it seems like I'm getting a mouse button release event in Safari, Firefox and Chrome. Perhaps this is a problem only on Windows?\r\n\r\nUnfortunately, I don't have a macOS device to test this, but the problem is still relevant on Windows. P.S. initially, I learned about the bug from a player using macOS, so maybe the problem can be reproduced there."],"labels":["bug","more info","engine","input","html5"]},{"title":"Creation dialog resize Defold main form.","body":"**Describe the bug (REQUIRED)**\r\nOpening \"Creation dialog\" to create anything in \"Assets\" tab resize Defold main form.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Maximize Defold window.\r\n2. Try creating anything in \"Assets\" tab (ex. \"New Folder\")\r\n\r\n**Expected behavior (REQUIRED)**\r\nJust opening dialog window and not resizing main form.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version: 1.4.8\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Linux kernel 6.4.3\r\n - OS: Archlinux + X11 + KDE 5.27.6\r\n\r\n**Logs (OPTIONAL):**\r\n[editor2.2023-07-19.log](https:\/\/github.com\/defold\/defold\/files\/12099867\/editor2.2023-07-19.log)\r\n\r\n**Workaround (OPTIONAL):**\r\nDowngrade to Defold 1.4.7\r\n\r\n**Screenshots (OPTIONAL):**\r\n![Screenshot_20230719_230147](https:\/\/github.com\/defold\/defold\/assets\/46636837\/bea15bd7-f9d7-45bd-b245-85e053ee46bb)\r\n![Screenshot_20230719_230210](https:\/\/github.com\/defold\/defold\/assets\/46636837\/7b9dacc5-fa00-43ca-9959-b50b3c5321b4)\r\n\r\nhttps:\/\/drive.google.com\/file\/d\/1w3Nc5PhWDou-LZLZo3893TKoI06gqJoz\/view?usp=sharing","comments":["Same problem. Editor window is resizing when I creating folder \\ atlas \\ etc and attach scripts \\ images to atlas.\r\n\r\nManjaro, Plasma.\r\n1.5 version\r\n\r\n1. Open the project from Linux\r\n2. Click on \"new\" - anything\r\n3. Editor resized","I also had a similar problem. On creating new folder editor resized from fullscreen.\r\n\r\nLinux (Endeavouros, KDE Plasma), Defold 1.5\r\n\r\n1. Open Project, maximize editor window\r\n2. Click on New Folder\r\n3. Editor resized\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/2388349\/3b572802-4175-4069-b559-ac1eb4aff5cc\r\n\r\n","on video, it looks like it scales to DPI==1 for some reason","Some potentially related JavaFX fixes:\r\n- https:\/\/github.com\/openjdk\/jfx\/commit\/5c3e83293eaf364d7288cd1e609d89c4b20bd91e\r\n- https:\/\/github.com\/openjdk\/jfx\/commit\/a17a71458def91d206844b7d64e185af75a3c6e0\r\n- https:\/\/github.com\/openjdk\/jfx\/commit\/8fef6a3315efed579a431d580aae143da236e7b2\r\n- https:\/\/github.com\/openjdk\/jfx\/commit\/8fef6a3315efed579a431d580aae143da236e7b2\r\n\r\nmaybe @vlaaad will be able to take a look or at least create a build for tests with newer JavaFx to check if it helps (at some point when you have time)\r\n","On Linux system with XFCE everything works fine.","@alcorrius \r\ncould you pls take a look how this version of the editor works for you?\r\nhttps:\/\/d.defold.com\/archive\/editor-dev\/071e1f56843c2779c7b713d6ede6739e12d818d5\/editor-dev\/editor2\/Defold-x86_64-linux.zip","> @alcorrius could you pls take a look how this version of the editor works for you? https:\/\/d.defold.com\/archive\/editor-dev\/071e1f56843c2779c7b713d6ede6739e12d818d5\/editor-dev\/editor2\/Defold-x86_64-linux.zip\r\n\r\nnothing has changed, the problem remains.","I also have this problem. \r\n\r\n![image](https:\/\/github.com\/defold\/defold\/assets\/141568\/7bfade07-f4c8-4015-bd84-3f334f1797f0)\r\n","See also: https:\/\/forum.defold.com\/t\/defold-editor-main-window-auto-resize-when-opening-pop-up\/75747","Another workaround, provided by our forum user [Vampiloup](https:\/\/forum.defold.com\/u\/Vampiloup):\r\n\r\n> The main form doesn\u2019t resize if I resize it manually to the full screen. It\u2019s not exactly a \u201cmaximize\u201d, but the main form doesn\u2019t resize from that.","Thankyou for that fix suggestion @vlaaad and Vampiloup, this was driving me barmy."],"labels":["bug","editor","linux"]},{"title":"Support using system fonts","body":"**Is your feature request related to a problem? Please describe:**\r\nCurrenly if you need to support new languages, you need to add the corresponding fonts to those languages. The application will balloon in size depending on how much fonts you add.\r\n\r\n**Describe the solution you'd like:**\r\nAdd support for accessing and using the available fonts from the targeted operating system, this way no need to bundle any fonts with the application. Defold can use the operating system fonts as a fallback in case no fonts were provided.\r\n\r\n**Describe alternatives you've considered:**\r\nNot sure if there is any alternatives.","comments":[],"labels":["feature request","label","font"]},{"title":"Android Game State API","body":"Add support for https:\/\/developer.android.com\/reference\/android\/app\/GameState","comments":[],"labels":["engine","android"]},{"title":"Camera component for orthographic projections with exposed properties for width and height (DEF-2987)","body":"Converted from a comment in #3227 ","comments":["What's needed here? The camera component uses the render width and height at the moment. Is it enough to be able to set a width and height on the camera and enable use of these values through a checkbox\/boolean? Or simply use them if the values are != 0? Do we also want to set the viewport from the camera?","I'd like to rather set normalized window coordinates for something like this than explicit width\/height.. And if we are talking viewports we should not set that automatically, but rather pass the viewport into the render script for setting the viewport(s). And we should probably pass in some sort of identifier in the camera messages to distinguish from different cameras as well?","> I'd like to rather set normalized window coordinates for something like this than explicit width\/height..\r\n\r\nAh, good point. That might be a lot better yes!\r\n\r\n> but rather pass the viewport into the render script for setting the viewport(s)\r\n\r\nYes, if we add a viewport per camera then definitely it should be a v4 passed to the render script and nothing else.\r\n\r\n> And we should probably pass in some sort of identifier in the camera messages to distinguish from different cameras as well\r\n\r\nThe `set_view_projection` message contains an id which is the component id. It is probably sufficient. In a multi-camera game you'd need to make sure the component ids for your cameras are unique, but that should not be a problem I think. A think I noticed is that we do not have a sender in the `on_message()` on the render script and if I add the sender to the function signature in a .render_script file and print the sender it is always printed as \"[ : ]\".\r\n\r\n","> The `set_view_projection` message contains an id which is the component id. It is probably sufficient. In a multi-camera game you'd need to make sure the component ids for your cameras are unique, but that should not be a problem I think. A thing I noticed is that we do not have a sender in the `on_message()` on the render script and if I add the sender to the function signature in a .render_script file and print the sender it is always printed as \"[ : ]\".\r\n\r\nAlright yeah that should be fine! As long as we can acquire multiple cameras and access something to distinguish them between it should be enough. "],"labels":["feature request","engine","camera"]},{"title":"Work with liveupdate assets in regular builds from the Editor","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nTo test any functionality related to Liveupdate subsystem it necessary to bundle application every time. It would be nice if it's possible to exclude liveupdate assets during regular build running from the Editor.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nMay be additional checkbox \"Exclude Liveupdate assets\" can be added to Editor preferences (like \"Enable texture compression\") and can be used for determine exclude assets during regular build on not.\r\n![Screenshot 2023-06-19 at 11 48 57](https:\/\/github.com\/defold\/defold\/assets\/770105\/a68ff049-1904-4b77-b9f5-f3c133ffd7cd)\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nDon't know","comments":["Depends on #6675 "],"labels":["feature request","engine","editor","bob","pipeline"]},{"title":"Reattaching debugger after sys.reboot causes application exit","body":"**Describe the bug**\r\nAttaching the debugger to an app that has been relaunched with sys.reboot() causes the app to exit.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Click Start \/ Attach in the Debug menu to launch the app & attach debugger\r\n2. Execute some code that calls sys.reboot()\r\n3. The debugger will detach\r\n4. Click Start \/ Attach again\r\n5. Notice that the app exits\r\n\r\n**Expected behavior**\r\nThe app continues running, and the debugger attaches.\r\n[Ideally, the debugger would automatically reconnect, as we use sys.reboot() in our New Game option, and you have to be quick to attach the debugger to inspect initialisation code. But that's for a different issue.]\r\n\r\n**Defold version:**\r\n  - Version 1.4.6\r\n\r\n**Platforms:**\r\n - Platform\/ OS: macos 13.3\r\n - Device: Macbook Pro 2020\r\n\r\n**Logs:**\r\n`PANIC: unprotected error in call to Lua API (attempt to index a function value)`\r\n","comments":[],"labels":["bug","engine","editor","debugger"]},{"title":"Color and inherit alpha doesn't work in editor preview","body":"**Describe the bug (REQUIRED)**\r\nA clear and concise description of what the bug is.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. See error\r\n\r\n**Expected behavior (REQUIRED)**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version [e.g. 1.2.155]\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: [e.g. iOS, Android, Windows, macOS, Linux, HTML5]\r\n - OS: [e.g. iOS8.1, Windows 10, High Sierra]\r\n - Device: [e.g. iPhone6]\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\nPlease attach a minimal project where the bug is reproduced. This will greatly help the person trying to investigate and fix the bug.\r\n\r\n**Logs (OPTIONAL):**\r\nPlease provide relevant logs from engine, editor or build server. Learn where the logs are stored [here](https:\/\/defold.com\/manuals\/getting-help\/#log-files).\r\n\r\n**Workaround (OPTIONAL):**\r\nIf there is a workaround, please describe it here.\r\n\r\n**Screenshots (OPTIONAL):**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Additional context (OPTIONAL):**\r\nAdd any other context about the problem here.\r\n","comments":[],"labels":["bug","editor","gui"]},{"title":"Setting 'euler' angles makes the collision shape moving to it's zero coordinates","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Description\r\nI'm working on the controllable kinematic body and have noticed an odd behaviour with setting 'euler.y' directly to the gameobject.\r\nIf we set the position of the capsule shape other than (0, 0, 0) and rotate the game object by setting the new Euler angle by code, the capsule shape will be moving to its zero coordinates. At the same time the gameobject stands still and only rotates.\r\n![main_collection](https:\/\/github.com\/defold\/defold\/assets\/24944063\/164c53e6-aebc-4255-a71f-d5714f7671fb)\r\nThis only happens if we set the new value of the Euler angle directly. If we rotate the gameobject with 'set_rotation', everything goes well. No matter, 'fixed_update' or 'update'.\r\nIf we're leaving the position of the capsule shape with zero coordinates, the both rotations are fine.\r\n\r\n### Actual behaviour\r\nhttps:\/\/github.com\/defold\/defold\/assets\/24944063\/aa99c842-5a82-4fdb-90f1-75d329cf3408\r\n\r\n### Expected behaviour\r\nIt was captured with 'set_rotation' function. I think with Eulers it should look similar.\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/24944063\/9dfc4583-fbb1-4df3-9600-15ba279ceace\r\n\r\n### Steps to reproduce\r\nRepo: [repo_set_euler_collision_shape.zip](https:\/\/github.com\/defold\/defold\/files\/11744611\/repo_set_euler_collision_shape.zip)\r\n\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-06-08T06:51:04.421732<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>bd9d5a1025768a9f6b7acaaa73c874385e7c35e4<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>cb8b34230bd42a5e0b68c12441657f06485562a6<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.4.6<\/td><\/tr>\r\n<tr><td>GPU<\/td><td>NVIDIA GeForce GTX 1080\/PCIe\/SSE2<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 NVIDIA 531.41<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>11.0.15+10-LTS<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":[],"labels":["bug","engine","physics","3d"]},{"title":"  Easy seaching for keys in input binding","body":"it will be cool to add a way to easily search for the you want to use in your keyboard like a search button or just click in the key you want then it automatically add to you input binding like in Godot it\u2019s better and more productive than scrolling to find the key you want\r\n\r\nforum thread: https:\/\/forum.defold.com\/t\/easy-seaching-for-keys-in-input-binding\/73454","comments":["Suggestion by @Camille-Leon (https:\/\/github.com\/defold\/defold\/issues\/8010):\r\n\r\n> I would love to be able to sort the bindings in the drop down by typing some letters, such as typing \"left\" and all the bindings that contain those letters will show up. It would also be nice to maybe have a button to the left of the binding dropdown which would let you click it then press the button you wish to add, such as clicking it and pressing the up arrow on your keyboard to add a binding for key-up.\r\n> Alongside these changes, I would greatly appreciate the addition of a way to edit the input_binding files in a code editor, with autocomplete for the input binding.\r\n> You could always just leave it how it is, you can still edit the files in an external text editor and add bindings easily that way. I just believe the dropdown is more work than it needs to be.","moved from https:\/\/github.com\/defold\/defold\/issues\/8020 :\r\n\r\n>\r\n>**Is your feature request related to a problem? Please describe (REQUIRED):**\r\n>When dealing with the input_binding file, there is a dropdown menu where we can choose the button we want to assign to an action (e.g. Space for jump action).\r\n>when I open the dropdown, I have to scroll very long to reach my desired input button (e.g. Space).\r\n>\r\n>\r\n>\r\n>**Describe the solution you'd like (REQUIRED):**\r\n>It would be great if, for example, I hit s on my keyboard when the dropdown is open, it quickly jumps to the first option starting with the letter 's' so I no longer need to scroll down a lot.\r\n>\r\n>**Describe alternatives you've considered (REQUIRED):**\r\n>instead of a dropdown, there could be an editable text where we can write our desired input button name, so when we start typing, it suggests only those button names that match the text we have written.\r\n>\r\n>**Additional context (OPTIONAL):**\r\n>Add any other context or screenshots about the feature request here.\r\n>\r\n><img width=\"681\" alt=\"image\" src=\"https:\/\/github.com\/defold\/defold\/assets\/53321170\/f97bfe57-893f-4add-82ca-25033d9ae71b\">\r\n"],"labels":["feature request","editor","input"]},{"title":"If Defold is started from relative path outside current dir, \"File -> Open project\" fails with an error","body":"I started the Defold editor from the parent directory, so `argv[0]` is `.\/Defold\/Defold`. Activating the menu command `File -> Open project...` doesn't remember the original working directory, and tries to launch `.\/Defold\/Defold` inside the `.\/Defold` directory, producing an error.\r\n\r\n### Expected behaviour\r\n\r\n`File -> Open project...` allows the user to switch to another project or create a new one.\r\n\r\n### Actual behaviour\r\n\r\n`File -> Open project...` fails with the error:\r\n\r\n```\r\njava.io.IOException: Cannot run program \"..\/code\/defold\/Defold\/Defold\" (in directory \"\/home\/omf\/code\/defold\/Defold\"): error=2, No such file or directory\r\n```\r\n\r\n![Defold_open_project_error_2023-06-07_19-08](https:\/\/github.com\/defold\/defold\/assets\/1646628\/310e1930-e8dc-4c1d-b5f7-1754fc43adc4)\r\n\r\n### Steps to reproduce\r\n\r\n1. Launch Defold from a (different) relative path\r\n\r\n```\r\n# go to a different path from the Defold binary\r\nmkdir ~\/test_error\r\ncd ~\/test_error\r\n# launch Defold with a relative path\r\n..\/code\/defold\/Defold\/Defold\r\n```\r\n\r\n2. Open a project\r\n3. Click `File -> Open project...`\r\n\r\nNote that the problem only occurs when you launch Defold from a different path AND if the binary was specified as a relative path, and probably nobody else does this, so it's pretty obscure and easily worked around.\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-06-05T09:26:12.793585<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>a5e7e1e0004955af308b2e7d06d5d8da2a25663b<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>cb8b34230bd42a5e0b68c12441657f06485562a6<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.4.6<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"992ac50e5aeb45d7981bdca15feb3426\"'>992ac50e5aeb45d7981bdca15feb3426<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>RENOIR (renoir, LLVM 15.0.6, DRM 3.49, 6.2.6-76060206-generic)<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6 (Compatibility Profile) Mesa 22.3.5<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>11.0.15+10-LTS<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Linux<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>6.2.6-76060206-generic<\/td><\/tr>\r\n<table>","comments":[],"labels":["bug","editor"]},{"title":"java.lang.IllegalArgumentException: Don't know how to create ISeq from: java.lang.Double","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\n\r\n### Actual behaviour\r\n\r\n### Steps to reproduce\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-05-30T13:43:57.701414<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>b435988787840dbcccd0f4d717fca20d6c1a1a7f<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>cb8b34230bd42a5e0b68c12441657f06485562a6<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.4.6<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"2fecfb9327b640b68adc961aa58f02b1\"'>2fecfb9327b640b68adc961aa58f02b1<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>NVIDIA GeForce RTX 3080 Ti\/PCIe\/SSE2<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 NVIDIA 516.94<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>11.0.15+10-LTS<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":["```\r\njava.util.concurrent.FutureTask.report.class java.util.concurrent.ExecutionException: java.lang.IllegalArgumentException: Don't know how to create ISeq from: java.lang.Double\r\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    at java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n    at clojure.core$deref_future.invokeStatic(core.clj:2300)\r\n    at clojure.core$future_call$reify.deref(core.clj:6974)\r\n    at clojure.core$deref.invokeStatic(core.clj:2320)\r\n    at clojure.core$deref.invoke(core.clj:2306)\r\n    at clojure.core$map$fn.invoke(core.clj:2755)\r\n    at clojure.lang.LazySeq.sval(LazySeq.java:42)\r\n    at clojure.lang.LazySeq.seq(LazySeq.java:58)\r\n    at clojure.lang.RT.seq(RT.java:531)\r\n    at clojure.core$seq__5387.invokeStatic(core.clj:137)\r\n    at clojure.core.protocols$seq_reduce.invokeStatic(protocols.clj:24)\r\n    at clojure.core.protocols$fn.invokeStatic(protocols.clj:75)\r\n    at clojure.core.protocols$fn.invoke(protocols.clj:75)\r\n    at clojure.core.protocols$fn$G__8068__8086.invoke(protocols.clj:13)\r\n    at clojure.core$reduce.invokeStatic(core.clj:6824)\r\n    at editor.build$batched_pmap.invokeStatic(build.clj:23)\r\n    at editor.build$build_project_BANG_.invokeStatic(build.clj:52)\r\n    at editor.app_view$build_project_BANG_.invokeStatic(app_view.clj:815)\r\n    at editor.app_view$async_build_BANG_$phase_3_build_project_BANG___58967$run_project_build_on_background_thread_BANG___58968.invoke(app_view.clj:1043)\r\n    at editor.app_view$async_build_BANG_$run_on_background_thread_BANG___58920$fn.invoke(app_view.clj:927)\r\n    at clojure.core$binding_conveyor_fn$fn.invoke(core.clj:2030)\r\n    at clojure.lang.AFn.call(AFn.java:18)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    at java.lang.Thread.run(Thread.java:829)\r\n\r\nclojure.lang.RT.seqFrom.class java.lang.IllegalArgumentException: Don't know how to create ISeq from: java.lang.Double\r\n    at clojure.lang.RT.seqFrom(RT.java:553)\r\n    at clojure.lang.RT.seq(RT.java:533)\r\n    at clojure.lang.RT.cons(RT.java:683)\r\n    at clojure.core$cons__5361.invokeStatic(core.clj:29)\r\n    at clojure.core$list_STAR_.invokeStatic(core.clj:648)\r\n    at clojure.core$apply.invokeStatic(core.clj:660)\r\n    at editor.properties$clj_value__GT_go_prop_value.invokeStatic(properties.clj:214)\r\n    at editor.properties$property_entry__GT_go_prop.invokeStatic(properties.clj:604)\r\n    at editor.properties$property_entry__GT_go_prop.invoke(properties.clj:601)\r\n    at clojure.core$keep$fn$fn.invoke(core.clj:7325)\r\n    at clojure.lang.ArraySeq.reduce(ArraySeq.java:111)\r\n    at clojure.core$transduce.invokeStatic(core.clj:6883)\r\n    at clojure.core$into.invokeStatic(core.clj:6899)\r\n    at editor.game_object$fn.invokeStatic(game_object.clj:329)\r\n    at editor.game_object$fn.invoke(game_object.clj:325)\r\n    at clojure.lang.AFn.applyToHelper(AFn.java:154)\r\n    at clojure.lang.AFn.applyTo(AFn.java:144)\r\n    at clojure.lang.AFunction$1.doInvoke(AFunction.java:31)\r\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\r\n    at clojure.lang.Var.invoke(Var.java:384)\r\n    at editor.game_object$ReferencedComponent$behavior$ddf_properties$fn.invoke(game_object.clj:257)\r\n    at internal.node$trace_expr$fn.invoke(node.clj:38)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:38)\r\n    at editor.game_object$ReferencedComponent$behavior$ddf_properties.invokeStatic(game_object.clj:257)\r\n    at editor.game_object$ReferencedComponent$behavior$ddf_properties.invoke(game_object.clj:257)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at editor.game_object$ReferencedComponent$behavior$ddf_message$fn.invoke(game_object.clj:257)\r\n    at internal.node$trace_expr$fn.invoke(node.clj:38)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:38)\r\n    at editor.game_object$ReferencedComponent$behavior$ddf_message.invokeStatic(game_object.clj:257)\r\n    at editor.game_object$ReferencedComponent$behavior$ddf_message.invoke(game_object.clj:257)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at editor.game_object$ReferencedComponent$behavior$build_targets$fn.invoke(game_object.clj:257)\r\n    at internal.node$trace_expr$fn.invoke(node.clj:38)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:38)\r\n    at editor.game_object$ReferencedComponent$behavior$build_targets.invokeStatic(game_object.clj:257)\r\n    at editor.game_object$ReferencedComponent$behavior$build_targets.invoke(game_object.clj:257)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$node_value.invokeStatic(node.clj:454)\r\n    at internal.system$node_value.invokeStatic(system.clj:354)\r\n    at dynamo.graph$do_node_value.invokeStatic(graph.clj:825)\r\n    at dynamo.graph$node_value.invokeStatic(graph.clj:828)\r\n    at editor.build$build_project_BANG_$fn.invoke(build.clj:53)\r\n    at clojure.core$map$fn.invoke(core.clj:2755)\r\n    at clojure.lang.LazySeq.sval(LazySeq.java:42)\r\n    at clojure.lang.LazySeq.seq(LazySeq.java:51)\r\n    at clojure.lang.Cons.next(Cons.java:39)\r\n    at clojure.lang.RT.next(RT.java:709)\r\n    at clojure.core$next__5371.invokeStatic(core.clj:64)\r\n    at clojure.core$dorun.invokeStatic(core.clj:3142)\r\n    at clojure.core$doall.invokeStatic(core.clj:3148)\r\n    at editor.build$batched_pmap$fn.invoke(build.clj:25)\r\n    at clojure.core$pmap$fn$fn.invoke(core.clj:7022)\r\n    at clojure.core$binding_conveyor_fn$fn.invoke(core.clj:2030)\r\n    at clojure.lang.AFn.call(AFn.java:18)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    at java.lang.Thread.run(Thread.java:829)\r\n```","I managed to reproduce this issue with following steps:\r\n1. create a script file with `go.property(\"foo\", 12)`\r\n2. use the script file in a collection and override the property value, e.g. to `123`\r\n3. edit the script file to instead contain `go.property(\"foo\", vmath.vector3())`"],"labels":["editor"]},{"title":"The camera component has a fixed presentation size in the Editor, regardless of the in-game scale.","body":"**Describe the bug (REQUIRED)**\r\nI tried the new camera component introduced in Defold 1.4.6, and I'm not sure if the representation in the Editor is useful for any in-game scales. For example, the camera component looks too big with the 1 point per meter level scale in a 3d game.\r\n\r\nI don\u2019t know if I\u2019m right about using 1 point per meter, but I found it handy for 3D space. If I use 1 centimeter as a point, then on a large level I have to operate with coordinates in the form of tens or hundreds of thousands of points.\r\n\r\nPerhaps the camera could be better made more independent of the scale in the game. For example, remove the camera model (but leave the guiding lines) or replace it with a sprite that is always rendered at the same size? I don't know exactly what's easier to do.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Place any model with scale of 1 unit per 1 meter in the collection.\r\n2. Place the camera component in the collection.\r\n3. See how big the camera component is.\r\n\r\n**Expected behavior (REQUIRED)**\r\nThe camera looks the same size, regardless of the in-game scale.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.4.6\r\n\r\n**Screenshots (OPTIONAL):**\r\n![55b16493190e08b937dba299821451e9a828d433](https:\/\/github.com\/defold\/defold\/assets\/4752473\/7345ca58-1349-4b58-a9a0-1e21f63141ce)\r\n![b54dbaec7c127e26dc3b3a1ee406076fe8580e4b](https:\/\/github.com\/defold\/defold\/assets\/4752473\/3fd871a9-bb51-4c6f-b2f0-b8b9e0667e47)","comments":[],"labels":["bug","editor","camera"]},{"title":"Editor relying on temporary folder?","body":"I swapped back to the editor after it being in the background for a few days, and it complained about the _unpack folder not existing anymore.\r\n\r\nMy guess is that it was located in the tmp folder, and it eventually gor removed, while the editor was still running?\r\n\r\n<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\n\r\n### Actual behaviour\r\n\r\n### Steps to reproduce\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-05-08T08:04:49.953091<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>9f81782ede2c31c55ef35719a3e346cf6dc380e9<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>3dbbf1dbebd3a8146f6a917d101882a61f56afdc<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.4.5<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"89ebb6d10b8f40d086ab9a859eda13b0\"'>89ebb6d10b8f40d086ab9a859eda13b0<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Apple M1 Pro<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>2.1 Metal - 83<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>11.0.15+10-LTS<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>x86_64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Mac OS X<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>13.1<\/td><\/tr>\r\n<table>","comments":["Hmm yes, the editor IS relying on a temporary folder for unpacking. I didn't know the `tmp` folder might be cleared without a computer restart..."],"labels":["bug","editor"]},{"title":"LSP: bundle lua language server into the editor","body":"**Task (REQUIRED):**\r\nLua language server is useful, we should provide it out of the box.\r\n\r\n**Expected outcome (REQUIRED):**\r\nLua language server does not require a dependency and works in the editor out of the box.\r\n","comments":[],"labels":["task","editor","text-editor","lsp"]},{"title":"LSP: add builtins and deps support to lua-language-server","body":"**Task (REQUIRED):**\r\nOur [fork of lua-language-server](https:\/\/github.com\/defold\/lua-language-server\/) does not see the code from our dependencies. This means it can't analyze it (for features such as Go to Definition and Find References). We also don't notify the server of open\/change\/close events. The Language Server Protocol defines document paths as URIs with different schemes, and different language servers can implement support for schemes other than `file`. We should define a scheme and URI representation for our dependencies and builtins, and then use it as a part of a protocol. We should also change our fork to look into our dependencies for Find References\/Go to Definition features.\r\n\r\n**Expected outcome (REQUIRED):**\r\nEditor features such as Go to Definition, Find References, and maybe others like autocompletion (#7699) work both with user code and with dependencies.\r\n","comments":[],"labels":["task","editor","text-editor","lsp"]},{"title":"LSP: add renaming support","body":"**Task (REQUIRED):**\r\nWe should implement renaming features defined by language servers such as renaming symbols across the workspace and renaming refactoring inside a file.\r\n\r\n**Expected outcome (REQUIRED):**\r\nThe editor can rename code symbols using LSP.","comments":[],"labels":["task","editor","text-editor"]},{"title":"LSP: add code actions support","body":"**Task (REQUIRED):**\r\nWe should provide code action support (quick fixes and refactorings) implemented by language servers.\r\n\r\n**Expected outcome (REQUIRED):**\r\nThe editor can perform quick fixes and refactorings defined by language servers.","comments":[],"labels":["task","editor","text-editor","lsp"]},{"title":"LSP: add hover and signature help support","body":"**Task (REQUIRED):**\r\nWe should show hover and signature help tooltips provided by language servers.\r\n\r\n**Expected outcome (REQUIRED):**\r\nThe editor shows signature help and other hover information when hovering the mouse pointer over the code.","comments":[],"labels":["task","editor","text-editor","lsp"]},{"title":"slow editor and very when working on a big project","body":"**Describe the bug (REQUIRED)**\r\nworking on a 3d project when the project get big the editor slowdown a lot this is the downside for using java for the editor but i think it can be fixed maybe just a bug\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Go to big defold project\r\n2. right Click on folder \r\n3. Scroll down to create new and try it's very bugy\r\n\r\n**Expected behavior (REQUIRED)**\r\nsmooth work and opening window fast\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.4.6\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Linux\r\n - OS: Linux mint\r\n - Device: Laptop\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\nPlease attach a minimal project where the bug is reproduced. This will greatly help the person trying to investigate and fix the bug.\r\n\r\n**Logs (OPTIONAL):**\r\nPlease provide relevant logs from engine, editor or build server. Learn where the logs are stored [here](https:\/\/defold.com\/manuals\/getting-help\/#log-files).\r\n\r\n**Workaround (OPTIONAL):**\r\nIf there is a workaround, please describe it here.\r\n\r\n**Screenshots (OPTIONAL):**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Additional context (OPTIONAL):**\r\nAdd any other context about the problem here.\r\n","comments":["\"this is the downside for using java for the editor but i think it can be fixed maybe just a bug\"\r\n\r\nJava is plenty fast. It's something else that's taking a long time.\r\n\r\n\"Go to big defold project\"\r\n\r\nIf you can, please provide a test project we can debug. It's going to be a lot easier.\r\n\r\n\"right Click on folder\"\r\n\r\nWhich folder?\r\n\r\n\"Scroll down to create new and try it's very bugy\"\r\n\r\nCreate new what exactly?\r\n","> \"this is the downside for using java for the editor but i think it can be fixed maybe just a bug\"\r\n> \r\n> Java is plenty fast. It's something else that's taking a long time.\r\n> \r\n> \"Go to big defold project\"\r\n> \r\n> If you can, please provide a test project we can debug. It's going to be a lot easier.\r\n> \r\n> \"right Click on folder\"\r\n> \r\n> Which folder?\r\n> \r\n> \"Scroll down to create new and try it's very bugy\"\r\n> \r\n> Create new what exactly?\r\n\r\nwhen i try to create something new when working on a project not a big project some times like i right click on a folder to create a new component(script, collection, model .....) the editor is buggy and slow to open a window ","aha you mean the context menu does not open for a long time?","That sound like something I recognize.\r\nWhat if you then move the mouse cursor, does the window appear then?\r\n\r\nIf I recall correctly, I think the JavaFX library has an issue like that.\r\nDoes this ring a bell @vlaaad ?","> aha you mean the context menu does not open for a long time\r\n\r\nmaybe yes and sometimes and there is some glitches like when i try to create acomponent in the drop down menu the cursor is in ut ut just disapear but this happen only when working on medium or big project but no problem now i work with ctrl+n but for other people maybe it will be a problem","@OURABIG if you can record a video, and then write time codes where to look at some particular problem you mention, that would be helpful. \r\nFor example:\r\n1:02 drop down menu slow\r\n1:40 Scroll doesn't work\r\netc\r\n\r\n","> @OURABIG if you can record a video, and then write time codes where to look at some particular problem you mention, that would be helpful. For example: 1:02 drop down menu slow 1:40 Scroll doesn't work etc\r\n\r\nok","> @OURABIG if you can record a video, and then write time codes where to look at some particular problem you mention, that would be helpful. For example: 1:02 drop down menu slow 1:40 Scroll doesn't work etc\r\n\r\ni updated the engine and it was fixed thanks all for replying","the only thing i have now is openning the collection is a bit slow when working on a 3d game","\r\nhttps:\/\/github.com\/defold\/defold\/assets\/94923157\/ef4b29d5-b069-4ff8-a62c-10890ac0e737\r\n\r\nwhen i open the main scene where i have the simple scene prototype it's taking more time i opened a bigger scene in less time in version 1.4.4 \r\n"],"labels":["bug","editor","performance"]},{"title":"Editor: Remove duplicate binaries from _unpack","body":"We currently have an `_unpack` folder in the editor which contains duplicates of the dmengines from the `libexec` folder and some libs from the `lib` folder in Bob.\r\n\r\nInitial findings suggest if we get rig of the `_unpack` folder we will save about 40MB of the editor bundle size (10%+).\r\n\r\nIt is possible to specify a desired unpack directory to Bob by setting the `DM_BOB_ROOTFOLDER` environment variable. We could unpack the dependencies and share them with the editor.\r\n\r\nWe also talked about unpacking to a permanent location to solve #7709. We could keep around five or so unpack folders based on the engine SHA1, and delete the older unpack folders based on their unpack time stamp to solve #7543.","comments":["There is `_unpack` folder in the editor (~40Mb zipped) which contains `dmengine` duplicates which we already have in `libexec` folder and libraries we have in `lib` folder.\r\n\r\nThat would be nice if we will be able to remove this folder in favor of usage needed executables from `libexec` and libraries from `lib` folder.\r\nThat will reduce the editor size for more than 10%\r\n\r\nAn example:\r\n_unpack\r\n<img width=\"251\" alt=\"image\" src=\"https:\/\/github.com\/defold\/defold\/assets\/2209596\/069498da-cec9-4a49-8877-995743b1be7d\">\r\n\r\nlibexec\r\n<img width=\"298\" alt=\"image\" src=\"https:\/\/github.com\/defold\/defold\/assets\/2209596\/624053a2-dd34-4f36-8748-cfc3a3fea7cb\">\r\n\r\nlib\r\n<img width=\"296\" alt=\"image\" src=\"https:\/\/github.com\/defold\/defold\/assets\/2209596\/6bd65279-c49c-41d6-9a28-3f1e3a705267\">\r\n","It seems like `_unpack` folder contains unstripped executables (or `pdb` file with symbols)\r\nSo, the task isn\u2019t only about reusing of executables from another folder but making decision about keeping\/removing of these","I removed most of the files we don't need there"],"labels":["task","editor"]},{"title":"Culling for draw debug physics","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nI have a lot of physics object in game.\r\n![2023-05-25_18-35-19](https:\/\/github.com\/defold\/defold\/assets\/2655263\/e21b2a37-370e-4dc5-b349-d7e477c25064)\r\n\r\n\r\nDebug physics draw all physics. And i have warning\r\n```\r\nOut of debug vertex data (100000). Increase graphics.max_debug_vertices to avoid this warning.\r\n```\r\n\r\nYou see in screenshot that i have a lot of physics. So i can't increase that value.\r\n\r\nAlso with debug physics i have 14 fps. Without debug 60fps.\r\n\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nDebug physics draw only visible lines.\r\nOr mb first draw lines that near to player.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nNo workarounds. Need to make smaller world in my game:(\r\n\r\n**Additional context (OPTIONAL):**\r\nAdd any other context or screenshots about the feature request here.\r\n","comments":["The debug draw system isn't built and rendered like the components, and honestly, I feel it shouldn't be.\r\n\r\nI think it's easier\/more flexible to add a Lua function that allows you to check your AABB with a frustum matrix.\r\n","Ok, what about to add ability to disable\/enable debug draw for component?\r\n\r\nIf I can manually enable debug draw near player and hide debug draw for other components, it will fixed my problem.\r\n\r\n","I can check frustum using scene3d  frustum. So I can find visible chunks. But I have no ability to debug draw only visible)"],"labels":["feature request","render"]},{"title":"Editor is slow when collection have a lot of collision shapes.","body":"**Describe the bug (REQUIRED)**\r\nEditor is very slow when collection have a lot of collision shapes\r\n\r\n**To Reproduce (REQUIRED)**\r\nTest project with 32 chunks. \r\n\r\n[ManyCollisionsShapes.zip](https:\/\/github.com\/defold\/defold\/files\/11566459\/ManyCollisionsShapes.zip)\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/2655263\/396faa77-6af5-4119-bd9d-54431a7b3113\r\n\r\nWhen i have 256 chunks it is impossible to use editor.\r\n\r\n**Expected behavior (REQUIRED)**\r\nEditor worked fast with a lot of collision shapes\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.4.6\r\n\r\n**Platforms (REQUIRED):**\r\nEditor\r\n\r\n","comments":["In my case i generate collisions outside from the editor.\r\nIf i make this collection not editable will it improve performance?\r\nhttps:\/\/github.com\/defold\/defold\/pull\/7112\r\nAlso i have no idea how to make it not editable.","With invisible collision shapes it worked much faster. \r\nBut also i feel that it is slower\r\n\r\nhttps:\/\/github.com\/defold\/defold\/assets\/2655263\/61e69d00-8ada-44cb-a98f-d80f965aac2a\r\n\r\n","We do recommend you add any project paths that contain generated content as **Non-editable Directories** under **Project > Shared Editor Settings**. This excludes the files from save-tracking, so the editor will no longer attempt to \"update\" the file format of the generated files when saving. It also enables us to use a more efficient representation of the file since we no longer have to support editing.\r\n\r\nHowever, this looks to me like a rendering performance issue, so it might not help resolve this particular issue. I suggest we keep this issue open so we can look into it."],"labels":["bug","editor","performance"]},{"title":"Add platform specific paths for .sound objects","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nWhen building for another platform such as android it would be nice to be able to specify a path for the `file.sound` could use instead of the default. This would be useful to quickly swap between high quality audio and compressed audio.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nWithin the sound component add an option to add platform specific file paths that would automatically be set when building for different platform targets. \r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nRight now I'm copy\/pasting the different files to override the currently set as the main path. Alternatively there could be a build script that swaps those files to manually set paths.\r\n\r\n**Additional context (OPTIONAL):**\r\nCurrent: \r\n![Defold 1 4 6](https:\/\/github.com\/defold\/defold\/assets\/2577547\/58966887-9922-413e-9b93-aa61be040f3c)\r\n\r\nSuggestion:\r\n![Defold 1 4 6_2](https:\/\/github.com\/defold\/defold\/assets\/2577547\/ad745bd0-4043-41f8-8241-dd8fb424a00b)\r\n\r\n","comments":["I don't think it should be per-platform, as it doesn't take into account the variances in that platform space (e.g. high\/low end Android device).\r\n\r\nAnd also, we should consider the fact that both of these sets of audio (images etc), might be bundled in the same bundle.","Sound files need a similar system as images have for per-platform compression."],"labels":["feature request","sound"]},{"title":"Functions related to a deleted game object still work","body":"**Describe the bug (REQUIRED)**\r\nAfter calling go.delete, functions related to that game object still work during the same frame delete is called. go.get_id() returns the id, go.exists() returns true and go.get_position() returns the position. Mentioned here: [https:\/\/forum.defold.com\/t\/what-happens-immediately-after-deleting-a-game-object](https:\/\/forum.defold.com\/t\/what-happens-immediately-after-deleting-a-game-object)\r\n\r\n**To Reproduce (REQUIRED)**\r\n1. Call go.delete\r\n2. Call go.get_id, go.get_position, go.exists, or any other function related to that game object\r\n\r\n**Expected behavior (REQUIRED)**\r\nI would expect the functions related to the game object to stop working or throwing errors about a missing game object immediately after deleting it.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.4.5\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Windows, editor\r\n - OS: Windows 11","comments":["It is in fact a delayed delete, and the game object is deleted at the end of the frame.\r\nAs such, the rest of the scripts which may interact with the object can still operate on it.\r\n\r\nThe execution order of the scripts is unordered, so this allows them all to work for that frame.\r\n\r\nIf we were to change that behavior, I assume a lot of existing games out there would start failing in various ways.\r\nI don't think we'd like that though.\r\n\r\nCurrently, I'm leaning towards a \"won't fix\" on this issue.","Yeah, this is behaviour that we can't change. And as you say, the object will not be deleted until the end of the frame."],"labels":["bug","engine"]},{"title":"add hex_to_hash() function","body":"related to this post:\r\n\r\n> We should add a function to go from a hash to something serialisable and back again. We already have hash_to_hex() so we need a hex_to_hash().\r\n\r\nhttps:\/\/forum.defold.com\/t\/how-to-save-a-huge-table-with-subtables\/68749\/13?u=dragosha\r\n\r\nIn short, this function is needed to safely store a hashed value in json and convert it back to hash when the json is loaded.","comments":["Can I ask _what_ is being saved here?\r\n\r\nMy main concern with storing a hash is that it is an engine \"internal\" data format.\r\nIf we were to change that format in the future, then the saved file might not be possible to use in a meaningful way, as there will be no way to convert from old hash to new hash.\r\n\r\nI think it would be much better to store the original strings, depending on how they're created.\r\nBut, as I said I'd need to know more about the keys first.\r\n\r\nIn short, I'd consider it a power user feature, and I'd recommend also storing your own version number in the file (to detect if we change hash algorithm)\r\n","> If we were to change that format in the future, then the saved file might not be possible to use in a meaningful way, as there will be no way to convert from old hash to new hash.\r\n\r\nI absolutely agree with this point. At the same time, the request for this function started because hash is the only internal format for storing writeable values in the go.property script (we can't store strings). \r\n\r\nMy recent example is this: a level has door objects that lead to other levels. The hash in this case is a key in a table that stores the information already needed to load the level (collection factory address, name, etc.).\r\nTo save current level name in json save I just had to add another string key and make a hash -> id_key matching table.\r\n\r\nSame thing happens when you need to encode some other meaningful key in an object, e.g. in the item object specify what kind of object it is, apple or super-duper power sword. Again, this is a hash key in the item table. Sooner or later the character's inventory has to be saved in json and again the question arises how. I used to add another id. But in that case when loading a save you have to do a full pass through the item table looking for the right id to find out the hash key and fill in the character's inventory again.\r\n\r\n![2023-05-29_13-30-38](https:\/\/github.com\/defold\/defold\/assets\/842807\/7e8c74d6-8268-4cfb-82a5-800589db85c3)\r\n\r\nOf course you can store such keys in a table as a number, but this is not very convenient when creating levels in the editor.\r\n\r\ni.e. my point is that it doesn't matter what this key looks like at runtime (int 64 in case of hash or whatever), as long as it is a meaningful name in the code and when creating the level. Just compare id = \"knife\" or id = \"3\".\r\n\r\nIf the script had the ability to store strings (with a strong mention in the manual not to just use them for everything in a row) the question would not arise. \r\n\r\nSurely there are other cases as well.","> If the script had the ability to store strings\r\n\r\nNot sure what you mean by this?\r\nWe can use strings as keys.","> > If the script had the ability to store strings\r\n> \r\n> Not sure what you mean by this? We can use strings as keys.\r\n\r\nI mean script  `go.property()` method. \r\n\r\nActually this whole story is about creating game levels inside the Defold editor. We need a binding between the object and a table with parameters, now we can have either number or hash as a key. If we use a human-readable hash as a key, then we cannot bind it directly to the storage (e.g. in the cloud, where json is used). ","I encountered the same problem with the same use cases."],"labels":["feature request","engine","file format"]},{"title":"Android Game Mode API","body":"Add support for the Game Mode API\r\n\r\nhttps:\/\/developer.android.com\/games\/gamemode\/gamemode-api\r\n\r\nProbably as an extension","comments":[],"labels":["feature request","android","extension"]},{"title":"Android Dynamic Performance Framework","body":"Add support for Android Dynamic Performance Framework\r\n\r\nhttps:\/\/developer.android.com\/games\/optimize\/adpf\r\n\r\nProbably as an extension","comments":[],"labels":["feature request","engine","android","extension"]},{"title":"Android Frame Pacing API","body":"Support Android Frame Pacing API\r\n\r\nhttps:\/\/developer.android.com\/games\/sdk\/frame-pacing\r\n\r\nCan it be developed as an extension?","comments":[],"labels":["feature request","engine","android","render"]},{"title":"Android TV support","body":"Make sure Defold games are compatible with and run well on Android TV:\r\n\r\nhttps:\/\/developer.android.com\/training\/tv\/games\r\n\r\n- [X] Landscape\r\n- [ ] Auto-low latency mode\r\n- [X] Controllers\r\n- [ ] TV controller\r\n- [ ] Keyboard layouts\r\n- [X] Additional manifest properties\r\n- [X] GPGS\r\n","comments":[],"labels":["feature request","engine","android"]},{"title":"Android x86 support","body":"Add support for running Android apps on x86 architecture.","comments":[],"labels":["feature request","engine","editor","extender","bob","android","pipeline"]},{"title":"Verify Android foldable support","body":"Test Foldable support and make sure a Defold app behaves well.\r\n\r\nhttps:\/\/developer.android.com\/guide\/topics\/large-screens\/learn-about-foldables","comments":[],"labels":["task","engine","android"]},{"title":"Verify Android multi window support","body":"Test Multi Window support and make sure a Defold app behaves well.\r\n\r\nhttps:\/\/developer.android.com\/guide\/topics\/large-screens\/multi-window-support","comments":[],"labels":["task","engine","android"]},{"title":"Make Vulkan the default on Android","body":"Make Vulkan (and MoltenVK) the default on platforms where Vulkan is supported and use OpenGL as a fallback.\r\n","comments":["Possibly exclude certain GPUs from Vulkan (Mali-400 etc). Check with Android team. ","The recommendation is to only make Vulkan the default on Android S and newer.","I rename it into android specific task, because we have another general Vulkan task https:\/\/github.com\/defold\/defold\/issues\/8100"],"labels":["task","android","vulkan"]},{"title":"Cannot close defold","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\n\r\n### Actual behaviour\r\n\r\n### Steps to reproduce\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-04-27T18:27:39.031779<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>a57710afd396e91c0f512d09762fd1c6543f992f<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>3dbbf1dbebd3a8146f6a917d101882a61f56afdc<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.4.5<\/td><\/tr>\r\n<tr><td>Error<\/td><td><a href='https:\/\/sentry.io\/organizations\/defold\/issues\/?query=id%3A\"63ce0a8a50374df4840de3a8cd153713\"'>63ce0a8a50374df4840de3a8cd153713<\/a><\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Intel(R) HD Graphics 4000<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.0.0 - Build 9.17.10.2932<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>11.0.15+10-LTS<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 7<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>6.1<\/td><\/tr>\r\n<table>","comments":["```\r\ninternal.node$update_in_production.invokeStatic.class clojure.lang.ExceptionInfo: Cycle detected on node\r\n    at internal.node$update_in_production.invokeStatic(node.clj:1389)\r\n    at internal.node$update_in_production.invoke(node.clj:1388)\r\n    at clojure.core$update.invokeStatic(core.clj:6198)\r\n    at internal.node$mark_in_production.invokeStatic(node.clj:1397)\r\n    at editor.tile_source$TileSourceNode$behavior$size.invokeStatic(tile_source.clj:556)\r\n    at editor.tile_source$TileSourceNode$behavior$size.invoke(tile_source.clj:556)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1181)\r\n    at editor.tile_source$TileSourceNode$behavior$size$fn.invoke(tile_source.clj:556)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.tile_source$TileSourceNode$behavior$size.invokeStatic(tile_source.clj:556)\r\n    at editor.tile_source$TileSourceNode$behavior$size.invoke(tile_source.clj:556)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at internal.node$pull_first_input_value.invokeStatic(node.clj:1181)\r\n    at editor.tile_source$TileSourceNode$behavior$tile_source_attributes$fn.invoke(tile_source.clj:556)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.tile_source$TileSourceNode$behavior$tile_source_attributes.invokeStatic(tile_source.clj:556)\r\n    at editor.tile_source$TileSourceNode$behavior$tile_source_attributes.invoke(tile_source.clj:556)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at editor.tile_source$TileSourceNode$behavior$convex_hull_points$fn.invoke(tile_source.clj:556)\r\n    at internal.node$trace_expr.invokeStatic(node.clj:44)\r\n    at editor.tile_source$TileSourceNode$behavior$convex_hull_points.invokeStatic(tile_source.clj:556)\r\n    at editor.tile_source$TileSourceNode$behavior$convex_hull_points.invoke(tile_source.clj:556)\r\n    at clojure.lang.Var.invoke(Var.java:393)\r\n    at internal.node.NodeImpl.produce_value(node.clj:295)\r\n    at editor.tile_source$TileSourceNode$behavior$convex_hulls$fn.invoke(tile_source.clj:556)\r\n```"],"labels":["bug","editor"]},{"title":"Improve node focus on view open","body":"**Task (REQUIRED):**\r\nWe can set a selected node when opening a scene view. This node might be a referenced script instance that has no size. In that case, the view is very zoomed in on nothing. We should fix it.\r\n\r\n**Expected outcome (REQUIRED):**\r\nWhen we open a view with a boundless selected node, we should show the whole scene instead of zooming in on nothing.\r\n\r\nThis is related to #7127 \r\n","comments":[],"labels":["task","editor","quick win?"]},{"title":"Expose frustum culling API to check object visibility","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nSome time ago, frustum culling was added to the engine. But it is only internally used by the rendering system to skip rendering geometry that is outside the view.\r\n\r\nIt will be useful to expose some functions from the frustum culling subsystem into Lua to check the visibility of the geometry to use this in game logic. \r\n\r\nHow we use this in our next game: we stop and start particle fx if it's out of range. This gives a performance boost as our effect animates ~1000 particles to show players a \"poisoned\" area (there are could be 10+ of them on the game map). So, the main point is to optimise and offload the CPU from unnecessary calculations.\r\n\r\n_(off topic: is it worth to pause the skeletal animation that's behind the camera view?)_\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nAdd built-in functions to set frustum and to check visibility. Something like that:\r\n\r\n```lua\r\nmodel.frustum_set(proj_view_matrix)\r\nmodel.frustum_test(aabb_min, aabb_max) -- Returns 'false' if the bounding box is off the frustum.\r\n```\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\n\r\nBefore frustum culling introduced in Defold, I had implemented it in Scene3D by checking aabb visibility and switching meshes off and on. Now I use the same functions but for Lua logic, as Defold doesn't have its own built-in Lua API:\r\n\r\n```lua\r\nscene3d.frustum_set(proj_view_matrix) \r\nscene3d.frustum_is_box_visible(min_vector3, max_vector3) -- returns true\/false\r\n```\r\n","comments":["> (off topic: is it worth to pause the skeletal animation that's behind the camera view?)\r\n\r\nI guess it gives a slight gain, yes. Only way is to measure I think.\r\n\r\nAs for the general visibility problem, it's something we've only thought a bit about, so we don't have a clear way of how to implement it yet.\r\n\r\nFor this feature, I see two options.\r\n1) Create a Lua function to do such calculations. E.g.\r\n\r\n    local visibility_bits = render.frustum_aabb_check(frustum, list_of_boxes)\r\n\r\n\"render\" is probably not best either. Perhaps a new \"geometry\" namespace. Or physics even.\r\n\r\n2) Exposing the functions to dmSDK, and let the developer design their api themselves.\r\n\r\nWhile I do think the dmSDK functions are useful, I also think that a Lua function may be very beneficial for other projects as well.","Throwing in the vmath namespace into the hat of namespace suggestions ","It is not unlikely that the projection and view matrix will be provided by a camera, so why not `camera. frustum_aabb_check()`? Sure, it might not always be the case, but it is at least going to be a very common scenario. And it is a scenario when we don't even need to provide a frustum to the function, since the camera already knows the view and proj matrix."],"labels":["feature request","engine","render"]},{"title":" Hindi fonts render splits to two chars","body":"**Describe the bug (REQUIRED)**\r\nHindi fonts render wrong, defold split one char to two\r\n\r\n**To Reproduce (REQUIRED)**\r\nadd any hindi font, for example\r\n[mangal_bold.zip](https:\/\/github.com\/defold\/defold\/files\/11373901\/mangal_bold.zip)\r\n\r\nadd extra character for example \u0924\u093f\r\n\r\n<img width=\"356\" alt=\"defold settings\" src=\"https:\/\/user-images.githubusercontent.com\/11291477\/235688092-6c60fc54-350f-44d0-b522-168c04892344.png\">\r\n\r\n![atlas](https:\/\/user-images.githubusercontent.com\/11291477\/235688192-a5af1916-280f-4a35-9f93-bdf78d11c040.png)\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.2.144, 1.2.145\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Any","comments":["Related: https:\/\/github.com\/defold\/defold\/issues\/4900\r\n\r\nHarfBuzz (see linked issue) supports Devanagari (the Hindi writing system):\r\n\r\nhttps:\/\/harfbuzz.github.io\/what-does-harfbuzz-do.html","We have encountered the same issue and would be grateful if you could support to resolve it. \r\nThank you! \ud83d\ude47 ","@SalavatR \r\nHi, I found a solution, so please take a look if you're interested \ud83d\ude03 \r\n\r\nhttps:\/\/github.com\/defold\/defold\/issues\/4900#issuecomment-1856204478","related https:\/\/github.com\/defold\/defold\/issues\/7475"],"labels":["bug","font"]},{"title":"Add possibility to extend views in Materials with drag and move","body":"\r\n![image](https:\/\/user-images.githubusercontent.com\/11634203\/235620010-18d18216-84cc-4e28-9a39-258384e18ea0.png)\r\n\r\n\r\n**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nNot having such possibility is especially annnoying when one property in a view is a table (as is in Material editor for fragment and vertex constants), because you have to scroll inside to modify values, that are not visible. It is especially a waste of space for bigger screens, but even on small screens, the width is always limited.\r\n\r\n![image](https:\/\/user-images.githubusercontent.com\/11634203\/235621239-4429e6a6-0d22-472d-b896-9c87cf3b1e71.png)\r\n\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nDrag and move over the right edge of the view in Material as conceptually presented in attached image.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nYou can already change width of inner columns, but not the whole table. The table\/view for Material definition could be already minimized, when there is no space:\r\n\r\n![image](https:\/\/user-images.githubusercontent.com\/11634203\/235621171-0137b761-b7d6-40c1-a4b1-fe3d3cb8cc10.png)\r\n\r\n**Additional context (OPTIONAL):**\r\nAdditionally, there is a problem, when scrolling inside the view for defining Fragment\/Vertex constants, the view is sometimes disappearing:\r\n\r\n![Peek_2023-04-26_18-23](https:\/\/user-images.githubusercontent.com\/11634203\/235621462-856f608a-fd79-4b20-a44c-9d037d7eb855.gif)\r\n\r\n\r\n","comments":[],"labels":["feature request","editor"]},{"title":"Improve the material Sampler editing UX","body":"In order to make the multiple materials editing viable in the editor, we need to improve on the Sampler editor in the materials.\r\nIn short, the suggestions has been to \"transpose\" the editing from a single, multi variable line into something more akin to the property view of components, where the properties are listed vertically.\r\n","comments":["Required for https:\/\/github.com\/defold\/defold\/pull\/7380","related https:\/\/github.com\/defold\/defold\/issues\/6413","related https:\/\/github.com\/defold\/defold\/issues\/7622","related https:\/\/github.com\/defold\/defold\/issues\/7943\r\n"],"labels":["task","editor","model","3d"]},{"title":"Physics Debug rendering bug","body":"When using Physics Debug along with fixed time step and update frequency set to default 0 - debug rendering will become flickery or not render at all.\r\n\r\n\r\n**To Reproduce (REQUIRED)**\r\nProject Settings:\r\n------------------------------\r\n**Physics>Use fixed timestep  - _checked_ \u2705\r\n Physics>Debug - _checked_ \u2705\r\n Display>Update Frequency 0 (Variable framerate)\r\n Display>Vsync - while checked can flicker or unchecked will not render at all.**\r\n\r\n**Expected behavior (REQUIRED)**\r\nDebug Draw to render and without flickering.\r\n\r\n  - Version 1.4.5\r\n\r\n\r\n[DebugDraw_bug.zip](https:\/\/github.com\/defold\/defold\/files\/11356844\/DebugDraw_bug.zip) - small repo\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","comments":[],"labels":["bug","engine","physics"]},{"title":"Old iOS (12.5.7) and vmath.matrix4_perspective","body":"Noticed that all new Html5 builds with persperctive camera work wrong in Safari on an old Apple devices. I've tested on iPad mini2, iOS (12.5.7) and iPhone 5S (12.5.5).\r\n\r\nHow it looks on this iPad:\r\n![IMG_1204](https:\/\/user-images.githubusercontent.com\/842807\/234250719-fff67d99-7072-4b7e-a2e1-224e306d9f5e.PNG)\r\n(like a picture with a negative _fov_ value)\r\n\r\niPhone 5s:\r\n![photo_2023-04-26_10-13-27](https:\/\/user-images.githubusercontent.com\/842807\/234475968-c66642a1-aea0-4041-9dbf-ee71869867cf.jpg)\r\n\r\n\r\nHow it looks on other device and PC:\r\n![2023-04-22_11-12-46](https:\/\/user-images.githubusercontent.com\/842807\/234250567-bba50ba2-0163-4143-aa46-688327b2c4e6.png)\r\n\r\n(project url: https:\/\/dragosha.com\/defold\/platform\/)\r\n\r\nI tested different projects with rendercam, standart camera component and https:\/\/github.com\/indiesoftby\/defold-scene3d all have the same issue.\r\n\r\nBUT. Old html5 builds like https:\/\/dragosha.com\/dice\/ (used perspective projection and rendercam) work correct on this devices.\r\n\r\np.s. vmath.matrix4_orthographic works correct everywhere.\r\n\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.4.5\r\n\r\n**Platforms (REQUIRED):**\r\n -  HTML5. Safari, iOS (12.5.7, 12.5.5).\r\n\r\n","comments":[],"labels":["bug","ios","graphics","render"]},{"title":"Add get\/set\/pause\/resume current playback state for sound components","body":"For rhythm games need to be able to sync gameplay state with audio state. Since audio is playing on its own thread (which is generally better than it was before in terms of playback quality) it can desync from the timing of the game. This is most easily seen in HTML5 games where you can switch between the game's tab and another tab a few times and already the desynced state is very evident. \r\n\r\nRhythm games often need the audio and the game to sync. When game loses focus we will want to pause the game and then when the player wants to resume we want to resume the audio at the proper timing that the game thinks it is at. In some other situations we simply want to either sync the gameplay to the audio (where it's more important to keep the audio consistent) or the audio to the gameplay.\r\n\r\n```\r\nsound.play() -- already implemented\r\nsound.stop() -- already implemented\r\nsound.get() -- returns table for a sound component, current time, total time, gain, pan, speed\r\nsount.set() -- set current time \/ gain \/ pan \/ speed\r\nsound.pause() -- pause playback at current time\r\nsound.resume() -- optionally include time to resume at that time\r\n```","comments":["Bonus request, allow us to get data from the audio that would enable us to create visualizers \/ create elements which react to audio more dynamically.\r\n","> Bonus request, allow us to get data from the audio that would enable us to create visualizers \/ create elements which react to audio more dynamically.\r\n\r\nWhat data do you mean? Raw samples? That feels like it should live in another issue \/ feature request I think :)","> That feels like it should live in another issue \/ feature request I think :)\r\n\r\nYou're right! But maybe some part of it would be appropriate for this issue since it could be part of a larger focus to improve audio features.\r\n\r\n> What data do you mean?\r\n\r\nMain thing people will ask for is a way to generate visualizers that are from audio data. \r\n\r\nOr a way to get snapshots of data directly from the sound component that can then be analyzed \/ made useful with a script or extension. It's possible to just read the raw audio file with an extension currently probably but since there is an issue with sound desyncing from the game sim and that there is no way to resync even though this can be done it can't actually be used in production currently.\r\n\r\nHere's an example from FMOD\/Unity:\r\n\r\nhttps:\/\/fmod.com\/docs\/2.02\/unity\/examples-spectrum-analysis.html"],"labels":["feature request","sound"]},{"title":"On Mac, make the Dock icon for builds different to the engine icon","body":"**Is your feature request related to a problem? Please describe :**\r\nOn Windows, the icons of the editor and Ctrl-B builds are different - one is blue, the other is orange. On Mac they're both blue, and you can't tell them apart.\r\n\r\n**Describe the solution you'd like :**\r\nMake the icon for Mac builds orange like on Windows.\r\n\r\n**Describe alternatives you've considered :**\r\nI tried setting an App Icon for OSX in game.project but it wasn't used.\r\n\r\n**Additional context :**\r\nMac\r\n<img width=\"118\" alt=\"image\" src=\"https:\/\/user-images.githubusercontent.com\/26457985\/232056999-d7c25e49-5990-4ffe-b593-bb69585d93b4.png\">\r\nWindows\r\n![image](https:\/\/user-images.githubusercontent.com\/26457985\/232057133-d303c350-40e6-4db4-b10d-c535e5139409.png)","comments":["On windows, the icon is baked into the executable.\r\nOn macOS, it isn't, it is in the bundle.\r\nWhen launching from the editor, I suspect it inherits the icon of the parent process.\r\nThe editor should be able to set another icon to it.","We'll keep this in the backlog but will not work on it right now."],"labels":["feature request","editor","macos"]},{"title":"Defold is minimizing after i choose a color","body":"**Describe the bug (REQUIRED)**\r\nWhen i choose color of anything and after pressing \"use it\" button DEFOLD minimized itself\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Go to any collection\r\n2. Click on label, for example\r\n3. Click Custom color\r\n4.  Choose any color and press Use or Save\r\n![image](https:\/\/user-images.githubusercontent.com\/27631293\/230275386-043938b2-0309-4c5b-933c-a4622ce37401.png)\r\n\r\n\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.4.4\r\n\r\n**Platforms (REQUIRED):**\r\n - OS: Windows 10\r\n\r\n\r\n","comments":["https:\/\/bugs.openjdk.org\/browse\/JDK-8260024 ?"],"labels":["bug","editor","javafx"]},{"title":"Debugger variables view should preserve state across breakpoint hits","body":"**Is your feature request related to a problem? Please describe:**\r\nWhen a breakpoint is hit in the debugger, the variables display resets - all tables are collapsed, and the scroll position is reset. This makes it inconvenient to track how a nested variable changes over time.\r\n\r\n**Describe the solution you'd like:**\r\nTrack which items are expanded, and reapply that state. I'd expect that this should happen if the same breakpoint was hit, but it might also be useful to apply the is-expanded state to items whose names match in a different file\/line number - Visual Studio does this. That would for example allow the easy inspection of the contents of the message table in on_message in different scripts.\r\n\r\n**Describe alternatives you've considered :**\r\nUsing the history of the console Evaluate Lua pane to inspect the nested value. It's quite fiddly - pressing F5 to continue execution takes focus away from it, so you have to click, press Cursor Up and Return.\r\n","comments":[],"labels":["feature request","editor","debugger","quick win?"]},{"title":"Support for coloring console output","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nIt would be great to have colored output in console (with colors defined by users or at least from few possible).\r\nUse case: Colored output from testing (passed\/failed)\r\nUse case: Colored logs (errors in red, warnings in yellow)\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nPossibility to define color of printed output or at least choose color from a defined list (e.g. red, green, yellow, blue)\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nnone\r\n\r\n**Additional context (OPTIONAL):**\r\n[Old issue from archived repository](https:\/\/github.com\/defold\/editor2-issues\/issues\/1965)\r\n[Forum link](https:\/\/forum.defold.com\/t\/color-codes-of-printed-output\/22424\/7)\r\n","comments":["Let's implement support for ANSI color codes!","# Sketch of ANSI SGR support plan\r\n\r\n## References\r\n\r\nhttps:\/\/en.wikipedia.org\/wiki\/ANSI_escape_code#CSI_(Control_Sequence_Introducer)_sequences\r\nhttps:\/\/stackoverflow.com\/questions\/1448858\/how-to-color-system-out-println-output\r\n\r\n## What to support\r\n\r\nThe part of ANSI escape codes we want support is:\r\n- a subset of \"Fe\" sequence (starts with `ESC` char, aka `(char 27)` in Clojure), namely:\r\n- we parse a \"Control Sequence Introducer\" sequences, or CSI, defined as:\r\n  - character `[` after the `ESC`, \r\n  - then 0 or more \"parameter bytes\" in the range `0x30`\u2013`0x3F`, i.e. `0123456789:;<=>?`\r\n  - then 0 or more \"intermediate bytes\" in the range `0x20`\u2013`0x2F`, i.e. ` !\"#$%&'()*+,-.\/`\r\n  - then a single \"final byte\" in the range `0x40`\u2013`0x7E`, i.e. \r\n    ```\r\n    @ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\r\n    ```\r\n  If the escape sequence is a valid CSI, we interpret it instead of including it in the output. Otherwise, we include it.\r\n- out of all CSIs, we only support \"Select Graphic Rendition\", or SGR, aka escape codes that affect the visuals of the following text. Those are defined by the \"final byte\" of the CSI sequence being `m`.\r\n\r\nE.g. something like this (spaces added for readability):\r\n- `ESC [ 0 m` - reset all colors to default\r\n- `ESC [ m` \u2014 same as above (skipped parameters mean 0)\r\n- `ESC [ 4 m` \u2014 underline\r\n- `ESC [ 32 m` \u2014 standard green foreground (text) color\r\n- `ESC [ 4; 32 m` \u2014 both underline and standard green foreground color (multiple commands at once)\r\n- `ESC [ 38 ; 2 ; 123 ; 0 ; 255 m` \u2014 violet 24-bit foreground color, i.e. `rgb(123,0,255)`. 38 means special foreground color, 2 means 24-bit rgb, then r, g, and b\r\n- `ESC [ 38 ; 2 ; 123 ; ; 255 m` \u2014 same as above (skipped numbers mean 0)\r\n- `ESC [ 38 ; 5 ; 39 m` \u2014 blue 8-bit foreground color. 38 means special foreground color, 5 means 8-bit special color, and 39 is somewhere on a 6x6x6 rgb color cube...\r\n\r\n\r\n## SGR commands we should implement\r\n\r\n### Set foreground color: standard colors\r\n<kbd>ESC [ **n** m<\/kbd> where `n` is in the 30-37 range:\r\n```\r\n30 Black\r\n31 Red\r\n32 Green\r\n33 Yellow\r\n34 Blue\r\n35 Magenta\r\n36 Cyan\r\n37 White\r\n```\r\n\r\n### Set foreground color: 8-bit colors\r\n<kbd>ESC [ 38 ; 5 ; **n** m<\/kbd>, where `n` can be:\r\n- 0-7 \u2014 standard colors, as in 30-37\r\n- 8-15 \u2014 a high-intensity variation of standard colors\r\n- 16-231 \u2014 6x6x6 color cube: `16 + 36 \u00d7 r + 6 \u00d7 g + b (0 \u2264 r, g, b \u2264 5)`\r\n- 232-255 \u2014 grayscale from dark to light in 24 steps\r\n\r\n### Set foreground color: 24-bit color\r\n<kbd>ESC [ 38 ; 2 ; **r** ; **g** ; **b** m<\/kbd> where `r`, `g`, and `b` are in 0-255 range. \r\n\r\n### Reset foreground color\r\n<kbd>ESC [ 39 m<\/kbd>\r\n\r\n### Reset everything\r\n<kbd>ESC [ 0 m<\/kbd>\r\n\r\n## SGR commands we might implement if it's not too much work\r\n\r\n### Set underline\r\n<kbd>ESC [ 4 m<\/kbd>\r\n\r\n### Reset underline\r\n<kbd>ESC [ 24 m<\/kbd>"],"labels":["feature request","editor"]},{"title":"Assertion `0 <= proxyId && proxyId < m_nodeCapacity' failed","body":"Occasionally i experience crash, error coming from Box2D. \r\nI don't do any extreme things with Box2D, nothing remarkable happens, bug happens under Windows and Linux, debug and release versions.\r\n\r\n`dmengine: ..\/src\/box2d\/Box2D\/Collision\/b2DynamicTree.h:166: const b2AABB &b2DynamicTree::GetFatAABB(int32) const: Assertion `0 <= proxyId && proxyId < m_nodeCapacity' failed`\r\n\r\n**Defold version (REQUIRED):**\r\n  - 1.4.4 (happens in earlier versions as well)\r\n\r\n**Logs (OPTIONAL):**\r\n[crashfile.zip](https:\/\/github.com\/defold\/defold\/files\/11122455\/crashfile.zip)","comments":["Can you reproduce it and share a sample project?","Not at all, i can't reproduce conditions  in my project. It just happens sometimes, really can't think of something that cause it even tho i've seen it 50+ times already. Same happens for different users who played my build.\r\nI attached crash log, what is the issue there? Like addressing wrong box2d entity from your side? Already deleted or not yet created. It can give me some insight maybe.","The crash file is not helpful as it is from a release build:\r\n\r\n```\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x6a7235]\r\n\/usr\/lib\/libc.so.6(+0x389e0) [0x7f96041589e0]\r\n\/usr\/lib\/libc.so.6(+0x8864c) [0x7f96041a864c]\r\n\/usr\/lib\/libc.so.6(gsignal+0x18) [0x7f9604158938]\r\n\/usr\/lib\/libc.so.6(abort+0xd7) [0x7f960414253d]\r\n\/usr\/lib\/libc.so.6(+0x2245c) [0x7f960414245c]\r\n\/usr\/lib\/libc.so.6(+0x31486) [0x7f9604151486]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x560a8a]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x563e6f]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x4b584c]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x454868]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x454420]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x4301b5]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x4525c6]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x4301b5]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x4150ca]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x415775]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x411c3f]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x411ba5]\r\n\/usr\/lib\/libc.so.6(+0x23290) [0x7f9604143290]\r\n\/usr\/lib\/libc.so.6(__libc_start_main+0x8a) [0x7f960414334a]\r\n\/home\/**REDACTED**\/build\/x86_64-linux\/dmengine() [0x4119de]\r\n```\r\n\r\nDo you have the debug symbols so that we can symbolicate the callstack?\r\n\r\nMore info here: https:\/\/defold.com\/manuals\/debugging-native-code\/#symbolicate-a-callstack","And the assert is here: https:\/\/github.com\/defold\/defold\/blob\/dev\/engine\/physics\/src\/box2d\/Box2D\/Collision\/b2DynamicTree.h#L166\r\n\r\nI don't know enough about the internals of Box2D to say if external\/engine factors are causing this or not.","[callstack.zip](https:\/\/github.com\/defold\/defold\/files\/11129659\/callstack.zip)\r\nI'm myself developing under Linux, here i built for Windows with debug symbols and extracted dmengine.pdb file","@ProtonGustave do you have a repro for this? Or a project that you can invite one of us to so we can take a look? I don't think we can solve it with just looking at a callstack","@Jhonnyg who should i write to about access?","@ProtonGustave you can go with me, my GH handle is jhonnyg","@Jhonnyg i gave you access to https:\/\/github.com\/ProtonGustave\/only_chair_left\r\nIt works on last version of Defold, you just need to start a game, play for 10-20 seconds and it will crash\r\nIt happens when enemies close to player"],"labels":["bug","engine","physics"]},{"title":"Bug with `go.get_world_position()` and game state","body":"**Describe the bug (REQUIRED)**\r\n`go.get_world_position()` sometimes return right position in the `init()` function, but sometimes returns local. It makes it hard to understand the logic behind that.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Open the test project\r\n2. Run\r\n3. See that in the logs world positions are equal to local positions\r\n4. Close the project\r\n5. open `Example_fixed.collection`\r\n6. Move all flags outside of the its objects:\r\n<img width=\"237\" alt=\"image\" src=\"https:\/\/user-images.githubusercontent.com\/2209596\/229080393-15412f0a-9f26-450a-a728-9ae25640c265.png\">\r\n\r\n7. run the game and see that world positions are fine now (no equal to the local position)\r\n8. Close the project and open again\r\n9. Run the project and check logs\r\n10. World positions are equal to local positions again\r\n\r\n**Expected behavior (REQUIRED)**\r\nBehavior should be consistent.\r\n\r\n_Perfect case:_\r\nWorld position should be available from the `init()` function\r\n\r\nBut this case is about consistency. User don't understand what's going on and why behavior changes after hierarhy changes and the editor restart.\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.4.4\r\n\r\n**Platforms (REQUIRED):**\r\n - Platforms: Mac, Windows\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\n[Collection_duplicate 2.zip](https:\/\/github.com\/defold\/defold\/files\/11120289\/Collection_duplicate.2.zip)\r\n\r\n**Workaround (OPTIONAL):**\r\nUse timer for getting world position:\r\n```\r\ntimer.delay(0.01, false, function()\r\n  -- get world position here\r\n end)\r\n\r\n```\r\n\r\n","comments":["Problem can be resolved partially (In theory. But it can't be worked after restart the editor) when you duplicate collection and delete all go that you need and re-create they in duplicated collection.\r\nThen all \"go\" from this duplicated collection send me right world_position. \r\n\r\nMy platform - Linux (Alt linux)"],"labels":["bug"]},{"title":"Drag and drop files in linux cause \"java.lang.NullPointerException: Unknown\"","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\nDrag and  drop images or audios into editor file pane cause \"java.lang.NullPointerException: Unknown\" error. This is just an error without causing any known problem because dragging and dropping done successfully. \r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-02-27T09:37:58.168415<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>8eaab6b1281ce492163428e0e7b2e0fa247a0a93<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>8eaab6b1281ce492163428e0e7b2e0fa247a0a93<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.4.3<\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Mesa Intel(R) HD Graphics 620 (KBL GT2)<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6 (Compatibility Profile) Mesa 20.3.5<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>11.0.15+10-LTS<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Linux<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>5.10.0-21-amd64<\/td><\/tr>\r\n<table>","comments":[],"labels":["bug","editor","linux"]},{"title":"Not all collection changes are applied to collection file and all its instances","body":"**Describe the bug (REQUIRED)**\r\nI have collection \"village\" with few instances of collection \"house\" inside. Collection \"house\" has game objects \"wall\", \"window\" etc.\r\n![image](https:\/\/user-images.githubusercontent.com\/128611955\/226934155-84cf7057-c0c9-448e-9dce-5f9043dfdff4.png)\r\nDuring editing scene:\r\n- I can remove one \"window\" from \"house\" \u2013 and this change will be immediately applied to \"house\" collection file and all instances.\r\n- I can change sprite position for \"window\" \u2013 and this change will be applied to \"window\" game object file and all instances.\r\n- If I change \"window\" object position then this change is only visible on scene, \"reset\" button appears near property for some reason, but this change actually isn't applied and can't be saved at all. If you close editor you will lose your changes.\r\n\r\n\r\n**To Reproduce (REQUIRED)**\r\nAny hierarchy like in description\r\n\r\n**Expected behavior (REQUIRED)**\r\nAll changes to any properties have to be applied immediately to collection file and all its instances similar to game object editing behavior.\r\n\r\n\r\n**Defold version (REQUIRED):**\r\n  - 1.4.3\r\n\r\n**Platforms (REQUIRED):**\r\nAny\r\n\r\n**Note**\r\nCurrent behavior is dangerous (you can make a lot of changes and see them in editor, you can think they are saved, because there is no asterisk near file name in UI and the lose of all them after IDE is closed).\r\nCurrent behavior is against architecture logic where game objects and collections are like movie clips in Flash, so, you can enter collection\/object right inside any sophisticated scene, make changes and see applied changes to all instances on scene. Currently \u2013 some changes are applied, some are only \"fake\" visible.\r\nCurrently, working on scene, to tweak \"window\" position relatively close to \"fence\" height I have to write down property numbers to notepad, then open \"house\" and blindly enter all numbers.\r\n","comments":["Smallest change to fix the fact that you can edit properties that aren't saved is to make these properties read-only if the node is an override node. For example in CollectionInstanceNode and GameObjectInstanceNode.\n\nActually the manipulators need to be disabled as well, so maybe we should hide these properties the same way we prevent the scale manipulator to operate on non-scalable objects, etc?","> Smallest change to fix the fact that you can edit properties that aren't saved is to make these properties read-only if the node is an override node. For example in CollectionInstanceNode and GameObjectInstanceNode.\r\n\r\nI would not call this a fix, just temporary change to avoid losing work done. Because a real fix should just allow make all changes inside instances with immediate reflection in object file, but not only some of them right like now.\r\n\r\nMoreover, **I would ask do not make this suggested smallest change**, because it will remove the only weird way to edit complex scenes. It is actually a real thing in my project. In example with \"houses\" and \"windows\" (not in my project but good example) - if you want to tweak window position relatively to other object, like \"fence\" or physic shape - I have ability to move window, right down numbers and then enter them in game object file. If you will make properties read-only - I would have to make tweaks blindly.\r\n\r\n"],"labels":["bug","editor"]},{"title":"Freezes when dragging the game window","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\nDragging the game window does not affect the logic and rendering of the game engine\r\n\r\n### Actual behaviour\r\nWhen dragging the game window, all game processes are frozen, and when the game window is released, all processes continue, but with a large number of skipped frames.\r\n\r\nVideo for example:\r\n\r\nhttps:\/\/user-images.githubusercontent.com\/94788083\/226897395-abf214fa-c6db-4f3f-a274-ebdeea4bbe55.mp4\r\n\r\nhttps:\/\/user-images.githubusercontent.com\/94788083\/226897465-65f4d173-f418-488e-957c-00d48d758a3b.mp4\r\n\r\n\r\n### Steps to reproduce\r\nStart any game in Defold, wait for some moment of activity (for example, when bullets fly at the player). At this point, start dragging the game window and find that all game processes have stopped.\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-03-22T09:12:41.361175<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>editor-alpha<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>a7412b0d1e550e9b63af894444f0227970f7e7ee<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>b119e80c392eab4b620dbe9cc9eaea4c01a2da37<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.4.3<\/td><\/tr>\r\n<tr><td>GPU<\/td><td>NVIDIA GeForce GTX 670\/PCIe\/SSE2<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>4.6.0 NVIDIA 474.14<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>11.0.15+10-LTS<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>amd64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Windows 10<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>10.0<\/td><\/tr>\r\n<table>","comments":["related https:\/\/github.com\/defold\/defold\/issues\/3738"],"labels":["bug","engine","linux","windows","macos"]},{"title":"UNDO in defold editor","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nWhen I go back a number of UNDOs, eventually the UNDO is done in a part of the current document which is out of view. I then don't really know any more what text I am undoing. So the UNDO function becomes unusable for me - it's only usable if I can see what specific change in the text I am undoing.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI'd like the part in the code where the UNDO was performed, to automatically appear in view and perhaps be subtly marked in some way to draw attention to it, so I know what change in the code I am UNDO-ing. Sometimes that may be the same document, but in another location of the document which is currently out of view. So then the editor should to change the view to that section. Or it may be in another text file of the same project, in this case the editor should go back to that other text file and show the relevant portion of edited text on-screen.\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nI'm just comparing to what I'm used to in other code editors. I only experience this issue in Defold Editor.\r\n\r\n**Additional context (OPTIONAL):**\r\nAdd any other context or screenshots about the feature request here.\r\n","comments":["It is correct that the undo (which is global across your project) does not focus the view on the change you undo. This can be quite confusing and we can hopefully in the future make sure the editor focuses the view on where a change was undone."],"labels":["feature request","editor"]},{"title":"Add getting a default 1x1 texture via dmsdk","body":"**Task (REQUIRED):**\r\nExtensions can't create new textures so if there isn't a texture available (e.g rive) but the shader has samplers, the engine will display warnings in the console. And we don't really know what would happen on all platforms \/ drivers so it's probably safest to fix this..\r\n\r\n","comments":[],"labels":["task"]},{"title":"Lua memory snapshot","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nAdd ability to create a snapshot of currently used Lua memory to be able to see what exactly use the most memory at the moment. Also, to see if there is a memory leek somewhere in Lua code.\r\n\r\nRelated to https:\/\/github.com\/orgs\/defold\/projects\/18\/views\/1?pane=issue&itemId=16200388","comments":[],"labels":["feature request","profiler"]},{"title":"FX particles systematically crashes if emitter_state_change is a parameter","body":"**Describe the bug (REQUIRED)**\r\nCf this topic:\r\nhttps:\/\/forum.defold.com\/t\/fx-particles-make-my-game-crash-and-this-is-weird\/72787\r\n\r\n**To Reproduce (REQUIRED)**\r\nJust launch a few spells in a row and it systematically crashes (cf the topic + the shared project)\r\n\r\n**Expected behavior (REQUIRED)**\r\nShould not crash :) I suppose\r\n\r\n**Defold version (REQUIRED):**\r\n  - Version 1.3.6\r\n\r\n**Platforms (REQUIRED):**\r\n - Windows 11\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\nJust shared this repo with @britzl and @JCash \r\nhttps:\/\/github.com\/Ragetto\/20230315_SHARED_FX_Particles_Systematic_Crash\r\nThis is the entire project, but I tried to skip most elements so the investigation is easier\r\n\r\nCf \"screenshots\" section for more details (walkthrough)\r\n\r\n\r\n**Logs (OPTIONAL):**\r\nPlease provide relevant logs from engine, editor or build server. Learn where the logs are stored [here](https:\/\/defold.com\/manuals\/getting-help\/#log-files).\r\n\r\n**Workaround (OPTIONAL):**\r\n\r\n![image](https:\/\/user-images.githubusercontent.com\/69473434\/225297304-40403203-7f3e-41a7-b050-a8f01afdb663.png)\r\n\r\n\r\n```\r\nlocal function emitter_state_change(self, id, emitter, state)\r\n\tif emitter == hash(\"emitter\") and state == particlefx.EMITTER_STATE_POSTSPAWN then\r\n\t\tself.delete_object = true\r\n\t\t--print(\"[char_effect] order to delete the object!\")\r\n\tend\r\nend\r\n```\r\n\r\n```\r\nfunction init(self)\r\n\tparticlefx.play(\"#\"..self.identifier, emitter_state_change) -- is causing the game crash\r\n\t--particlefx.play(\"#\"..self.identifier) -- is used to avoid the crash (but is commented here)\r\nend\r\n```\r\n\r\n\r\nAs explained on the forum, when I remove the \"emitter_state_change\" function, it no longer crashes.\r\n\r\n**Screenshots (OPTIONAL):**\r\n1\/ after launching the project, you just have to spawn ONE character by tapping this button:\r\n![image](https:\/\/user-images.githubusercontent.com\/69473434\/225295558-62d0e9ca-4613-4a94-9978-cbc9c0a466e8.png)\r\n2\/ you add them to your formation:\r\n![image](https:\/\/user-images.githubusercontent.com\/69473434\/225295679-594ca8f3-05f7-483f-bcf4-7a30a75f0af5.png)\r\n![image](https:\/\/user-images.githubusercontent.com\/69473434\/225295924-074d7502-408a-4886-a0a1-841332c2df08.png)\r\n3\/ you go back to the home screen and then to the world map:\r\n![image](https:\/\/user-images.githubusercontent.com\/69473434\/225296188-bc832c3e-c6fd-4400-ba80-e15fcc18011b.png)\r\n4\/ you go to the second region\r\n![image](https:\/\/user-images.githubusercontent.com\/69473434\/225296858-47f5ff8e-c4e5-4245-b5f0-9d25adf7a6fd.png)\r\n5\/ you select the level 10\r\n6\/ you use the spell (particularly the lightning one)... the crash should occur pretty fast (cf video in the topic)\r\n\r\nDon't worry, after the 1st time, you'll just have to click the campaign button (world map) and launch the level 10.\r\n\r\n**Additional context (OPTIONAL):**\r\nAdd any other context about the problem here.\r\n","comments":["are you sure that function `emitter_state_change` higher in your Lua script than a place you are using it (`init ` function) ? ","> are you sure that function `emitter_state_change` higher in your Lua script than a place you are using it (`init ` function) ?\r\n\r\nYes, sorry I put it below in this message but in the script it's above\r\n\r\nI'll edit my initial post to make it clearer."],"labels":["bug","particlefx"]},{"title":"Symbols don't fit for pre-build android binaries ","body":"**Describe the bug (REQUIRED)**\r\nmore info is available here https:\/\/forum.defold.com\/t\/debugging-symbol-file-rejected-by-android-ide\/72841\/7\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Build a project without extender\r\n2. try to open the `apk` in Android Studio and use symbols\r\n\r\n**Expected behavior (REQUIRED)**\r\nAndroid Studio should be able to work with symbols Defold provides\r\n\r\n**Defold version (REQUIRED):**\r\n  - 1.4.3\r\n\r\n**Platforms (REQUIRED):**\r\n - Android\r\n - Any\r\n - Any Android\r\n\r\n**Minimal repro case project (OPTIONAL):**\r\nSee forum post\r\n\r\n**Logs (OPTIONAL):**\r\n```\r\nUnable to find any debuggable shared object files from the selection: - \/XXX\/armv7-android\/Defold examples\/Defold examples.apk.symbols\/lib\/armeabi-v7a\/libDefoldexamples.so\r\n```\r\n\r\n**Workaround (OPTIONAL):**\r\nUse appmanifest or native extension for getting symbols from extender\r\n","comments":["Symbols download: https:\/\/github.com\/defold\/defold\/blob\/9ed5bec7a6e107877af3910e2adfeb5a4640eff4\/com.dynamo.cr\/com.dynamo.cr.bob\/src\/com\/dynamo\/bob\/Project.java#L1045-L1057\r\n"],"labels":["bug","android"]},{"title":"HTML5: improve game loading time by downloading engine + data in parallel","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nNow, Defold loads a game built for HTML5 in the following sequence:\r\n1. The page loads `dmloader.js`.\r\n2. Then, it loads the engine, i.e. `dmengine.wasm`+`_wasm.js` or `_asmjs.js` files.\r\n3. Initializes the engine.\r\n4. Then, finally, starts loading the data. It does that concurrently and that's great!\r\n5. Runs the game.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nI see no reason to not to load the engine and data files in parallel and then start the game, i.e. the sequence could be:\r\n1. Load `dmloader.js`.\r\n2. Then, load the engine and the data in parallel.\r\n3. Initialize the engine and run the game.\r\n","comments":["And, if you are going to do something with the HTML5 loader, then please also take a look at [issue 7039](https:\/\/github.com\/defold\/defold\/issues\/7039).","I experimented with work-arounds for this issue using [link rel=\"preload\" tags](https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTML\/Attributes\/rel\/preload).\r\n\r\nThe measurements indicate @aglitchman 's suggested sequence is the most optimal solution.\r\n\r\n## Methodology\r\nI used a relatively small HTML5 build (3MBs total for all assets). I also used simulated \"Fast 3G\" speed throttling in Chrome devtools. Your results may vary for your own build and network speed.\r\n\r\n# Findings\r\n\r\n## Baseline: no preloading\r\n- Largest Contentful Paint: 1.3s (seconds)\r\n- All assets loaded: 23s\r\n\r\n## Preloading all assets\r\n- Largest Contentful Paint: 2.5s (+92%)\r\n- All assets loaded: 18s (-22%)\r\n\r\n```html\r\n  <link rel=\"preload\" href=\"dmloader.js\" as=\"script\" \/>\r\n  <link rel=\"preload\" href=\"game.wasm\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link rel=\"preload\" href=\"game_wasm.js\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link rel=\"preload\" href=\"archive\/archive_files.json\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link rel=\"preload\" href=\"archive\/game.arcd0\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link rel=\"preload\" href=\"archive\/game.arci0\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link rel=\"preload\" href=\"archive\/game.dmanifest0\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link rel=\"preload\" href=\"archive\/game.projectc0\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link rel=\"preload\" href=\"archive\/game.public.der0\" as=\"fetch\" crossorigin=\"*\" \/>\r\n```\r\n\r\n## Preloading dmloader.js, then everything else\r\n- Largest Contentful Paint: 1.3s (no change)\r\n- All assets loaded: 19s (-17%)\r\n\r\n```html\r\n  <link rel=\"preload\" href=\"dmloader.js\" as=\"script\" \r\n    onload=\"document.querySelectorAll('link[data-rel]').forEach(link => link.setAttribute('rel', link.getAttribute('data-rel')))\" \/>\r\n  <!-- The following links have been rendered inert until the above onload event fires -->\r\n  <link data-rel=\"preload\" href=\"game.wasm\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link data-rel=\"preload\" href=\"game_wasm.js\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link data-rel=\"preload\" href=\"archive\/archive_files.json\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link data-rel=\"preload\" href=\"archive\/game.arcd0\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link data-rel=\"preload\" href=\"archive\/game.arci0\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link data-rel=\"preload\" href=\"archive\/game.dmanifest0\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link data-rel=\"preload\" href=\"archive\/game.projectc0\" as=\"fetch\" crossorigin=\"*\" \/>\r\n  <link data-rel=\"preload\" href=\"archive\/game.public.der0\" as=\"fetch\" crossorigin=\"*\" \/>\r\n```\r\n\r\n## Conclusion\r\n\r\nPreloading all the assets resulted in the fastest time to game start. However, it delayed the [Largest Contentful Paint](https:\/\/web.dev\/articles\/lcp) metric. End users may actually perceive this as being slower, since they'll be staring at a blank page for about a second longer before the loading screen appears.\r\n\r\nThe best balance I found was to prioritize `dmloader.js`, then preload every other asset the moment `dmloader.js` finishes downloading. This didn't slow down the Largest Contentful Paint, and it sped up the total load time.","@thinknathan that's great research! I would probably not have thought of using `<link rel=\"preload\"` to solve this issue. We will definitely experiment with this!","> @thinknathan that's great research! I would probably not have thought of using `<link rel=\"preload\"` to solve this issue. We will definitely experiment with this!\r\n\r\nUsing `preload` for this purpose is not a good idea, as it will dramatically increase the time it takes for the preloader + logo to appear.\r\n\r\nFrom my view, this request can be solved by a small modification of dmloader.js.\r\n\r\nAnd we can even go further and embed .json with the list of archives directly into the html template, so that dmloader.js will start downloading all files simultaneously from the very start of the download."],"labels":["feature request","html5"]},{"title":"Using compressed textures with several slices doesn't work for mipmaps with less than 8 bytes for MoltenVK ","body":"**Describe the bug (REQUIRED)**\r\nTo upload the higher mipmaps where a mipmap is less than 8 bytes (basically the absolute highest mipmaps) will cause a validation error in MoltenVK because the update offset is misaligned.\r\n\r\n\r\n","comments":[],"labels":["task","vulkan"]},{"title":"Game Crash on debug after messing with render scripts (1.4.2)","body":"After messing a lot with render scripts and etc, the game debug started to crash. IDK at which point it started crashing, but in this repo: https:\/\/github.com\/Caue-Aron\/Defold-Post-Processing-Test there are 2 branches, the master doesnt crash but the optmized-blur does. The optimized is suposed to be a faster algorithm of bluring an image, it messes up a lot with the render script. The engine itself doesnt crash, but when debugging the game randomly crash, sometimes right away, sometimes after some seconds, but it eventually crashes. This is the log error:\r\n\r\n```\r\nINFO:CRASH: Successfully wrote Crashdump to file: C:\\Users\\Usuario\\AppData\\Roaming\\Defold\/_crash\r\nERROR:CRASH: CALL STACK:\r\n\r\nERROR:CRASH:  0 0x7FF7C0F2F620 dmCrash::GenerateCallstack D:\\a\\defold\\defold\\engine\\crash\\src\\backtrace_win32.cpp:144\r\n\r\nERROR:CRASH:  1 0x7FF7C1007EA4 _seh_filter_exe minkernel\\crts\\ucrt\\src\\appcrt\\misc\\exception_filter.cpp:219\r\n\r\nERROR:CRASH:  2 0x7FF7C104BEB4 `__scrt_common_main_seh'::`1'::filt$0 d:\\agent\\_work\\4\\s\\src\\vctools\\crt\\vcstartup\\src\\startup\\exe_common.inl:304\r\n\r\nERROR:CRASH:  3 0x7FF7C0F9C2C4 __C_specific_handler d:\\agent\\_work\\4\\s\\src\\vctools\\crt\\vcruntime\\src\\eh\\riscchandler.cpp:290\r\n\r\nERROR:CRASH:  4 0x7FFB3FA12300 __chkstk <unknown>:0\r\n\r\nERROR:CRASH:  5 0x7FFB3F9C1070 RtlRaiseException <unknown>:0\r\n\r\nERROR:CRASH:  6 0x7FFB3FA10F20 KiUserExceptionDispatcher <unknown>:0\r\n\r\nERROR:CRASH:  7 0x7FF7C0D5C420 dmRender::ApplyNamedConstantBuffer D:\\a\\defold\\defold\\engine\\render\\src\\render\\constant.cpp:387\r\n\r\nERROR:CRASH:  8 0x7FF7C0D434F0 dmRender::Draw D:\\a\\defold\\defold\\engine\\render\\src\\render\\render.cpp:829\r\n\r\nERROR:CRASH:  9 0x7FF7C0D439D0 dmRender::DrawRenderList D:\\a\\defold\\defold\\engine\\render\\src\\render\\render.cpp:775\r\n\r\nERROR:CRASH: 10 0x7FF7C0D5E510 dmRender::ParseCommands D:\\a\\defold\\defold\\engine\\render\\src\\render\\render_command.cpp:176\r\n\r\nERROR:CRASH: 11 0x7FF7C0D4F1F0 dmRender::UpdateRenderScriptInstance D:\\a\\defold\\defold\\engine\\render\\src\\render\\render_script.cpp:3329\r\n\r\nERROR:CRASH: 12 0x7FF7C0BB4DF0 dmEngine::StepFrame D:\\a\\defold\\defold\\engine\\engine\\src\\engine.cpp:1602\r\n\r\nERROR:CRASH: 13 0x7FF7C0BB5A90 dmEngineUpdate D:\\a\\defold\\defold\\engine\\engine\\src\\engine.cpp:2098\r\n\r\nERROR:CRASH: 14 0x7FF7C0BB5CD0 dmEngine::RunLoop D:\\a\\defold\\defold\\engine\\engine\\src\\engine_loop.cpp:83\r\n\r\nERROR:CRASH: 15 0x7FF7C0BAE3C0 engine_main D:\\a\\defold\\defold\\engine\\engine\\src\\engine_main.cpp:148\r\n\r\nERROR:CRASH: 16 0x7FF7C0F974E4 __scrt_common_main_seh d:\\agent\\_work\\4\\s\\src\\vctools\\crt\\vcstartup\\src\\startup\\exe_common.inl:288\r\n\r\nERROR:CRASH: 17 0x7FFB3E7C7600 BaseThreadInitThunk <unknown>:0\r\n\r\nERROR:CRASH: 18 0x7FFB3F9C2680 RtlUserThreadStart <unknown>:0\r\n\r\nERROR:CRASH: \r\n\r\nINFO:CRASH: Successfully wrote Crashdump to file: C:\\Users\\Usuario\\AppData\\Roaming\\Defold\/_crash\r\nERROR:CRASH: CALL STACK:\r\n\r\nERROR:CRASH:  0 0x7FF7C0D5C420 dmRender::ApplyNamedConstantBuffer D:\\a\\defold\\defold\\engine\\render\\src\\render\\constant.cpp:387\r\n\r\nERROR:CRASH:  1 0x7FF7C0D434F0 dmRender::Draw D:\\a\\defold\\defold\\engine\\render\\src\\render\\render.cpp:829\r\n\r\nERROR:CRASH:  2 0x7FF7C0D439D0 dmRender::DrawRenderList D:\\a\\defold\\defold\\engine\\render\\src\\render\\render.cpp:775\r\n\r\nERROR:CRASH:  3 0x7FF7C0D5E510 dmRender::ParseCommands D:\\a\\defold\\defold\\engine\\render\\src\\render\\render_command.cpp:176\r\n\r\nERROR:CRASH:  4 0x7FF7C0D4F1F0 dmRender::UpdateRenderScriptInstance D:\\a\\defold\\defold\\engine\\render\\src\\render\\render_script.cpp:3329\r\n\r\nERROR:CRASH:  5 0x7FF7C0BB4DF0 dmEngine::StepFrame D:\\a\\defold\\defold\\engine\\engine\\src\\engine.cpp:1602\r\n\r\nERROR:CRASH:  6 0x7FF7C0BB5A90 dmEngineUpdate D:\\a\\defold\\defold\\engine\\engine\\src\\engine.cpp:2098\r\n\r\nERROR:CRASH:  7 0x7FF7C0BB5CD0 dmEngine::RunLoop D:\\a\\defold\\defold\\engine\\engine\\src\\engine_loop.cpp:83\r\n\r\nERROR:CRASH:  8 0x7FF7C0BAE3C0 engine_main D:\\a\\defold\\defold\\engine\\engine\\src\\engine_main.cpp:148\r\n\r\nERROR:CRASH:  9 0x7FF7C0F974E4 __scrt_common_main_seh d:\\agent\\_work\\4\\s\\src\\vctools\\crt\\vcstartup\\src\\startup\\exe_common.inl:288\r\n\r\nERROR:CRASH: 10 0x7FFB3E7C7600 BaseThreadInitThunk <unknown>:0\r\n\r\nERROR:CRASH: 11 0x7FFB3F9C2680 RtlUserThreadStart <unknown>:0\r\n\r\nERROR:CRASH: \r\n\r\nINFO:CRASH: Successfully wrote MiniDump to file: C:\\Users\\Usuario\\AppData\\Roaming\\Defold\/_crash.dmp\r\n```\r\n\r\nHeres the generated files:\r\n[https:\/\/forum.defold.com\/t\/game-crash-on-debug-after-messing-with-render-scripts-1-4-2\/72811?u=caue-aron](url)\r\n\r\nthis is the version of the editor:\r\n![image](https:\/\/user-images.githubusercontent.com\/54822334\/223567399-180e15a8-a757-4e32-824f-10a683082305.png)\r\n\r\nit doesnt break anything but its kinda boring that it closes after some time. Ima test if the executable also crashes.","comments":["\"The engine itself doesnt crash, but when debugging the game randomly crash,\"\r\n\r\nCould you clarify a little bit what you mean by this? As in, what steps do I need to take to reproduce this issue. It's not crashing by just running from that branch","To get the crash just run the game from within the engine, pressing F5. After some seconds it will crash. It may take about 10 seconds or it may happen instantly, its pretty random.","It's not crashing on osx after several minutes. What OS are you running on?","> It's not crashing on osx after several minutes. What OS are you running on?\r\n\r\nWindows 10","Its this branch that is crashing: https:\/\/github.com\/Caue-Aron\/Defold-Post-Processing-Test\/tree\/optmized-blur","Yes, that's the one I was using. I _did_ however eventually get a crash on windows, but not the same callstack \ud83e\udd14 ","> Yes, that's the one I was using. I _did_ however eventually get a crash on windows, but not the same callstack \ud83e\udd14\r\n\r\nIt might be a mine specific problem, i have a intel hd 620, it is old and depracated too"],"labels":["bug","render"]},{"title":"gameobject with multiple meshes not scaling correctly in-game","body":"I made an interior cube out of six quads all under the same gameobject. When I scale the gameobject in the editor, it looks as it should. However, when running the game, two of the quads are not where they need to be.\r\n\r\nTo reproduce should be as such:\r\n1. create project with 3d template\r\n2. create empty gameobject, attach six quad mesh components arranged to form a cube\r\n3. scale the gameobject in editor by any uniform amount greater than 1\r\n4. build and run\r\n\r\nYou should see a scaled up cube like in the editor, but it looks like the positions of two of the sides haven't been scaled\r\n\r\nI'm using Defold version 1.4.3 on Windows 10\r\n\r\nHere's how it looks in the inspector (cube and transform)\r\n\r\n![inspector](https:\/\/user-images.githubusercontent.com\/18543071\/222932614-376dd5eb-7d89-42d2-995c-3a100520323d.png)\r\n\r\n![inspector_transform](https:\/\/user-images.githubusercontent.com\/18543071\/222932630-cc530fdd-aeb9-4315-b679-ae7bc4c3ec1d.png)\r\n\r\nHere's how it looks in-game\r\n\r\n![bad_scale](https:\/\/user-images.githubusercontent.com\/18543071\/222932638-31d0d815-15dd-4af4-8e1e-22afb62f0d3a.png)\r\n\r\nHere I printed out the scale of the object just to make sure it's scaled correctly, and it says it is\r\n\r\n![debug](https:\/\/user-images.githubusercontent.com\/18543071\/222932662-7ffca3c5-2764-45fc-9017-7845264fb53b.png)\r\n\r\nI first made a post about this on the forum: https:\/\/forum.defold.com\/t\/object-not-scaling-properly\/72782\/4\r\n\r\n\r\n","comments":["I noticed that it's specifically the quads that are offset on the Z-axis that are misplaced.","https:\/\/github.com\/Grinshpon\/defold_scaling_issue\r\n\r\nRepo I made to reproduce\/show the problem","Update: I opened up the collection file in my text editor and added `scale_along_z: 1` and now everything looks as intended. So this is definitely related to that [Scale Along Z](https:\/\/forum.defold.com\/t\/scale-along-z-for-collections\/3193\/2) bug."],"labels":["bug","engine","model","scale along z"]},{"title":"Connect .gltf external buffers to the graph ","body":"In order to detect changes to a model, we need to connect any external buffers to the model itself.\r\n\r\nThe `ModelImporter.Scene` structure has a `buffers` array containing `Buffer` structures:\r\n```\r\n    public static class Buffer {\r\n        public String           uri;\r\n        public byte[]           buffer;\r\n    }\r\n```\r\n\r\nIf the `uri` does not start with `data:` or `file:`, then it's a path relative to the main .gltf file.","comments":[],"labels":["task","editor","model"]},{"title":"Use editor graph to resolve .gltf external buffers","body":"Currently, when loading a .gltf\/.glb file, we resolve any external buffers using the file system.\r\nWe wish to use the editor's graph system to find the needed resources and their content.\r\n\r\nThe java interface for the `DataResolver` is found in [ModelImporter.java](https:\/\/github.com\/defold\/defold\/blob\/dev\/engine\/modelc\/src\/java\/com\/dynamo\/bob\/pipeline\/ModelImporter.java).\r\nand looks like this:\r\n```\r\nclass ModelImporter {\r\n    public interface DataResolver {\r\n        public byte[] getData(String path, String uri);\r\n    }\r\n...\r\n```\r\n\r\nThe current implementation is located in `model_loader.clj`","comments":[],"labels":["task","editor","model"]},{"title":"Hash script property doesn't get reversed","body":"**Describe the bug (REQUIRED)**\r\nTrying to print a hash script property displays `hash: [XXXX (unknown)]`, even in debug builds.\r\n\r\n**Expected behavior (REQUIRED)**\r\nIt should print the original value that was hashed.\r\n\r\n**To Reproduce (REQUIRED)**\r\nSteps to reproduce the behavior:\r\n1. Create a script property like `go.property(\"my_hash\", hash(\"test\"))`\r\n2. Try to print it\r\n\r\n**Defold version (REQUIRED):**\r\n  - 1.4.2\r\n\r\n**Platforms (REQUIRED):**\r\n - Pop!_OS 22.04 LTS\r\n\r\n**Minimal repro case (OPTIONAL):**\r\n```lua\r\ngo.property(\"my_hash\", hash(\"test\"))\r\n\r\nfunction init(self)\r\n    print(self.my_hash) --> \"hash: [12722210162474435462 (unknown)]\"\r\nend\r\n```\r\n\r\n**Workaround (OPTIONAL):**\r\nCalling `hash()` with the same value at any point before printing the property will make it display the correct value:\r\n```lua\r\ngo.property(\"my_hash\", hash(\"test\"))\r\n\r\nfunction init(self)\r\n    print(self.my_hash) --> \"hash: [12722210162474435462 (unknown)]\"\r\n    hash(\"test\")\r\n    print(self.my_hash) --> \"hash: [test]\"\r\nend\r\n```","comments":["I think our Lua parser for `go.property(\"key\", hash(\"value\"))` can keep `hash(\"value\")` in Lua file for debug builds to be able to see string value"],"labels":["bug","engine"]},{"title":"Add a generic nested map data structure as a protobuf message","body":"**Task (REQUIRED):**\r\nThis is part 1 of a more overarching epic of generalizing data representation of certain parts of the engine. Basically implementing the backing data format that can be used for various parts of the engine later on.\r\n\r\nDDOC: https:\/\/docs.google.com\/document\/d\/1iOmWlyco5rn9kiEjsqYI90yP3ER68lGu-7_ataJ4K34\/edit#\r\n\r\n**Expected outcome (REQUIRED):**\r\n-\/-\r\n","comments":[],"labels":["task"]},{"title":"Support Dark theme on Windows","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nWindows supports Light and Dark themes as a personalization option in Windows settings. Currently, Defold apps always have a classic light themed title bar on Windows:\r\n\r\n![image](https:\/\/user-images.githubusercontent.com\/193258\/221129670-9fcbe0f4-3a8d-40fc-abc7-f4a71d34c7e0.png)\r\n\r\n\r\nIt would be great if Defold supported user preferences and switched the title bar to dark on Dark theme.\r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nFully support Dark mode, i.e. the title bar of the window must follow the dark theme.\r\n\r\n**Additional context (OPTIONAL):**\r\n* [Microsoft - Support Dark and Light themes in Win32 apps](https:\/\/learn.microsoft.com\/en-us\/windows\/apps\/desktop\/modernize\/apply-windows-themes)\r\n* [GLFW PR for title bar dark mode support](https:\/\/github.com\/glfw\/glfw\/pull\/2228\/files)\r\n","comments":["And the same request for the editor window! \ud83d\ude4f\ud83c\udffb "],"labels":["feature request","engine","editor"]},{"title":"IDE: Pass color stream to display 3D models properly","body":"\r\nIt would be great if IDE passed color stream to be able to preview 3D models with vertex colors properly.\r\n\r\nCurrently, it doesn't do that and this is how IDE displays models with vertex colors:\r\n![image](https:\/\/user-images.githubusercontent.com\/193258\/220179688-d1b38ef5-e33b-4a15-85dc-29a06f9a97f0.png)\r\n\r\nHow they look in the game:\r\n![image](https:\/\/user-images.githubusercontent.com\/193258\/220179809-be419f02-5b1c-4c17-aeb4-229ff47935ba.png)\r\n\r\nThe demo project:\r\n[issue_model_color.zip](https:\/\/github.com\/defold\/defold\/files\/10787102\/issue_model_color.zip)\r\n\r\n\r\nThe same drawback described there - https:\/\/forum.defold.com\/t\/new-gltf-model-importer-beta-test\/71436\/60?u=aglitchman\r\n","comments":["Related: https:\/\/github.com\/defold\/defold\/issues\/7427"],"labels":["feature request","editor","model"]},{"title":"Using the same image inside an atlas with different Sprite Trim modes results in duplicates in the atlas image and inability to select the duplicate.","body":"<!-- NOTE! The information you specify will be publicly accessible. -->\r\n### Expected behaviour\r\nWhen copying an image frame inside an animation and applying a different sprite trim mode the atlas image should remain the same since no extra images are used.\r\n\r\n### Actual behaviour\r\nWhen copying an image frame inside an animation and applying a different sprite trim mode a duplicate frame is added to the atlas image. It results in an increase of the build size and inability to select the duplicate image inside the atlas layout view.\r\n\r\n### Steps to reproduce\r\nCopy a frame inside an animation, applying a different sprite trim mode.\r\nHere is a video of the issue.\r\nhttps:\/\/www.youtube.com\/watch?v=3K8HpqlY3_A\r\n\r\n<hr\/>\r\n\r\n<table>\r\n<tr><td>Build time<\/td><td>2023-02-18T08:42:50.880700<\/td><\/tr>\r\n<tr><td>Defold channel<\/td><td>beta<\/td><\/tr>\r\n<tr><td>Defold editor sha<\/td><td>8eaab6b1281ce492163428e0e7b2e0fa247a0a93<\/td><\/tr>\r\n<tr><td>Defold engine sha<\/td><td>8eaab6b1281ce492163428e0e7b2e0fa247a0a93<\/td><\/tr>\r\n<tr><td>Defold version<\/td><td>1.4.3<\/td><\/tr>\r\n<tr><td>GPU<\/td><td>Apple M1<\/td><\/tr>\r\n<tr><td>GPU Driver<\/td><td>2.1 Metal - 83<\/td><\/tr>\r\n<tr><td>Java version<\/td><td>11.0.15+10-LTS<\/td><\/tr>\r\n<tr><td>OS arch<\/td><td>x86_64<\/td><\/tr>\r\n<tr><td>OS name<\/td><td>Mac OS X<\/td><\/tr>\r\n<tr><td>OS version<\/td><td>13.1<\/td><\/tr>\r\n<table>","comments":[],"labels":["engine","sprite"]},{"title":"Add support for model LODs","body":"**Is your feature request related to a problem? Please describe (REQUIRED):**\r\nFor performance reasons you typically want to use simplified meshes depending on some metric (usually distance to camera, or projected size on screen) to reduce the workload of the GPU. \r\n\r\n**Describe the solution you'd like (REQUIRED):**\r\nThis requires a design of course, but some ideas to start off:\r\n\r\n* A model could have a dynamic list of meshes instead of a single mesh where each entry is a LOD level, you could then manually drive the selection by code using some model.* function (model.set_level? model.set_mesh?) or using go.set\r\n* Generalize the LOD concept further: automatically swapping meshes based on camera distance could be formalized as \"select meshes based on some criteria\" which in the LOD example is \"based on how big an object is projected in a camera frustum\" but it could be anything. You might want to change the head of a character from a set of heads, or slightly change the layout of a map automatically based on time of day.\r\n* A setting on the camera component for how and when the swapping should be done\r\n* Introduce a \"LOD group\" component concept that affects the mesh swapping for that tree so you potentially could configure the system differently for different objects\r\n\r\n**Describe alternatives you've considered (REQUIRED):**\r\nDoing all of the work manually in a script component, but by experience most, if not all, 3D games will benefit from a built-in LODding system so it makes sense to build support for it!\r\n\r\n**Additional context (OPTIONAL):**\r\nFor MVP1 we should opt for something simple, meaning no LOD generation in editor and probably no automatic blending between LOD transitions. There's tools available for LOD generation and integrating into the editor will take some time.\r\n","comments":[],"labels":["feature request","model","render","3d"]},{"title":"Optionally update only within the same version","body":"**Is your feature request related to a problem? Please describe:**\r\nThe Update Available link downloads the very latest version.\r\nIf using an older version that has had a hotfix release, it would be useful to optionally download that instead.\r\n\r\n**Describe the solution you'd like:**\r\nWhen clicking Update Available, the editor would offer a choice of (at least):\r\n- the latest stable release of any version\r\n- the latest release of the version in use, including changing the channel setting in the config from beta to stable where appropriate (maybe that happens already)\r\n\r\n**Describe alternatives you've considered:**\r\nThe alternative is checking the sha1s in the About window against information at https:\/\/github.com\/defold\/defold\/releases and updating manually.\r\n\r\n**Additional context:**\r\nIf not always using the latest Defold version, it's hard to give clear instructions to everyone on a team - the 'Update Available' link is very appealing, but is sometimes the wrong thing to do\r\n","comments":["https:\/\/github.com\/defold\/defold\/issues\/7186 would improve this situation, but helps the solo developer more than a member of a team.","> If not always using the latest Defold version, it's hard to give clear instructions to everyone on a team - the 'Update Available' link is very appealing, but is sometimes the wrong thing to do\r\n\r\nI totally understand this. An option to disable automatic updates might be something to add to prevent accidental updates? Or how about an option to get a list of available versions and let the user select which one to upgrade (or maybe also downgrade) to? Another problem is that updates are offered without any information at all about the new version, what it fixes and adds etc (this is covered in another feature request).","> An option to disable automatic updates might be something to add to prevent accidental updates? \r\n\r\nI wasn't aware of automatic updates. When I see the 'Update available' text link, is that an automatic update that has downloaded but not installed? Or are automatic updates a completely different thing?\r\n\r\n> Or how about an option to get a list of available versions and let the user select which one to upgrade (or maybe also downgrade) to? \r\n\r\nA list would be good, perhaps if each item had some context including sha1 as that's what we use internally to make 100% we're on the same version as the rest of the team.\r\n\r\ne.g.\r\n**current version**\r\n1.3.7 beta 9c46c4a\r\n**updates available**\r\n1.3.7 hotfix c9d0cb6\r\n1.4.0 stable 7027b7c\r\n1.4.1 beta 4bf364a\r\n\r\n","> I wasn't aware of automatic updates. When I see the 'Update available' text link, is that an automatic update that has downloaded but not installed? Or are automatic updates a completely different thing?\r\n\r\nSorry, I worded my reply poorly. It is not automatically updating, but it checks for updates periodically and prompts users to update. I meant that maybe there could be an option to not periodically check and prompt users.\r\n\r\n> A list would be good, perhaps if each item had some context including sha1 as that's what we use internally to make 100% we're on the same version as the rest of the team.\r\n\r\nYep, good idea!"],"labels":["feature request","editor"]},{"title":"Engine option to wait for a debugger connection","body":"**Is your feature request related to a problem? Please describe:**\r\nWith a mobile phone target, although it's possible to repeatedly build & run from the editor, the same native app instance runs throughout. When developing\/testing certain extensions that do one-time initialisation of native code, it would be useful to run with the debugger attached.\r\n\r\nThere are two scenarios:\r\n- I have an apk\/ipa and I want to debug its lua scripts on its first run.\r\n- I have an apk\/ipa and I want to deploy a new build and debug that, before the build in the apk\/ipa has an opportunity to run.\r\n\r\nIf implemented, https:\/\/github.com\/defold\/defold\/issues\/7367 would allow the _second_ run of a project to have the debugger attached from the start, but not the first.\r\n\r\n**Describe the solution you'd like :**\r\nThe engine should have a build-time option, exposed through Bob and the editor Bundle Application window, which causes the engine to not run any scripts until the script debugger is attached. \r\nThis would be very similar to Unity's Wait For Managed Debugger build option, which I presume had its origins in similar use cases.\r\n","comments":[],"labels":["feature request","editor","android","ios","debugger"]}]